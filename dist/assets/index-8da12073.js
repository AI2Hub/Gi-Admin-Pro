import{f as g,d as R,i as L,h as S,o as y,c as w,w as t,u as h,r as o,a as e,j as f,g as B,e as C,t as U,M as N,p as D,b as T,_ as $}from"./index-dec34743.js";import{b as j}from"./index-71c3b0d5.js";function q(){const d=g([]);return{roleList:d,getRoleList:async()=>{const n=await j();d.value=n.data.list}}}const A=R({__name:"EditRoleModal",setup(d,{expose:v}){const n=g(""),b=L(()=>n.value?"编辑角色":"新增角色"),_=g(!1),l=S({name:"",roleCode:"",remarks:""});return v({add:()=>{n.value="",_.value=!0},edit:m=>{n.value=m,_.value=!0}}),(m,a)=>{const c=o("a-input"),u=o("a-form-item"),s=o("a-textarea"),x=o("a-form"),k=o("a-modal");return y(),w(k,{visible:_.value,"onUpdate:visible":a[3]||(a[3]=i=>_.value=i),title:h(b)},{default:t(()=>[e(x,{model:l,size:"medium","auto-label-width":""},{default:t(()=>[e(u,{label:"角色名称",name:"name",field:"name",rules:[{required:!0,message:"请输入角色名称"},{min:3,max:10,message:"长度在 3 - 10个字符"}],"validate-trigger":["change","input"]},{default:t(()=>[e(c,{placeholder:"请输入角色名称",modelValue:l.name,"onUpdate:modelValue":a[0]||(a[0]=i=>l.name=i)},null,8,["modelValue"])]),_:1}),e(u,{label:"角色编号",name:"roleCode"},{default:t(()=>[e(c,{placeholder:"请输入角色编号",modelValue:l.roleCode,"onUpdate:modelValue":a[1]||(a[1]=i=>l.roleCode=i)},{prepend:t(()=>[f("role_")]),_:1},8,["modelValue"])]),_:1}),e(u,{label:"描述",name:"remarks"},{default:t(()=>[e(s,{modelValue:l.remarks,"onUpdate:modelValue":a[2]||(a[2]=i=>l.remarks=i),placeholder:"角色描述","auto-size":{minRows:3,maxRows:5}},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["visible","title"])}}}),O=d=>(D("data-v-e52c81a1"),d=d(),T(),d),W={class:"role-manage"},F=O(()=>C("span",null,"新增角色",-1)),G={class:"table-box"},H=R({name:"RoleManage"}),J=R({...H,setup(d){const v=g(!1),n=g(),{roleList:b}=q(),_=()=>{var r;(r=n.value)==null||r.add()},l=r=>{var m;(m=n.value)==null||m.edit(r.id)},V=()=>{N.info("点击了确认按钮")};return(r,m)=>{const a=o("icon-plus"),c=o("a-button"),u=o("a-row"),s=o("a-table-column"),x=o("a-tag"),k=o("icon-delete"),i=o("a-popconfirm"),I=o("icon-edit"),M=o("icon-safe"),z=o("a-space"),E=o("a-table");return y(),B("div",W,[e(u,{class:"head"},{default:t(()=>[e(c,{type:"primary",onClick:_},{icon:t(()=>[e(a)]),default:t(()=>[F]),_:1})]),_:1}),C("section",G,[e(E,{data:h(b),"row-key":"id",loading:v.value,scroll:{x:"100%",y:"100%",minWidth:900},pagination:!1},{columns:t(()=>[e(s,{title:"序号",width:60},{cell:t(p=>[f(U(p.rowIndex+1),1)]),_:1}),e(s,{title:"角色名称","data-index":"name"}),e(s,{title:"角色编号","data-index":"roleCode"}),e(s,{title:"状态",width:100},{cell:t(({record:p})=>[p.status==1?(y(),w(x,{key:0,color:"green"},{default:t(()=>[f("正常")]),_:1})):(y(),w(x,{key:1,color:"red"},{default:t(()=>[f("禁用")]),_:1}))]),_:1}),e(s,{title:"角色描述","data-index":"description"}),e(s,{title:"创建时间","data-index":"createTime"}),e(s,{title:"操作",width:220,align:"center"},{cell:t(({record:p})=>[e(z,null,{default:t(()=>[e(i,{type:"warning",content:"您确定要删除该项吗?",onOk:V},{default:t(()=>[e(c,{type:"primary",status:"danger",size:"mini"},{icon:t(()=>[e(k)]),_:1})]),_:1}),e(c,{type:"primary",size:"mini",onClick:K=>l(p)},{icon:t(()=>[e(I)]),_:2},1032,["onClick"]),e(c,{type:"primary",status:"success",size:"mini"},{icon:t(()=>[e(M)]),default:t(()=>[f("菜单权限")]),_:1})]),_:2},1024)]),_:1})]),_:1},8,["data","loading"])]),e(A,{ref_key:"EditRoleModalRef",ref:n},null,512)])}}});const X=$(J,[["__scopeId","data-v-e52c81a1"]]);export{X as default};
