import{_ as e}from"./GiCellStatus.vue_vue_type_script_setup_true_lang-bf5r6OvB.js";import{_ as a}from"./AddDictModal.vue_vue_type_script_setup_true_lang-cD39Myf9.js";import{_ as t}from"./index.vue_vue_type_script_setup_true_lang-BGBjEcTl.js";import{d as l,J as i,S as n,e as s,o,f as d,h as r,w as u,g as c,i as p,G as m,t as _,K as f,U as y,f9 as g}from"./index-CIP0rTOr.js";import{u as v}from"./useBreakpoint-CrSk87d4.js";import{u as h}from"./useDict-BsalKuUj.js";import{d as k}from"./index-C8yma1AI.js";import"./regexp-LyZ7ySAN.js";import"./useForm-CYEn9MwV.js";import"./AddDictDataModal.vue_vue_type_script_setup_true_lang-DYuw0daS.js";import"./index-CyUZZADk.js";const w={class:"gi_page dict-manage"},x=l({name:"SystemRole",__name:"index",setup(l){const{data:x}=h({code:"status"}),D=i("AddDictModalRef"),j=i("DictDataModalRef"),C=n({name:"",status:""}),{loading:S,tableData:A,pagination:M,selectedKeys:V,search:b,select:R,selectAll:U,handleDelete:z}=v((e=>g(e)),{immediate:!0}),B=()=>{C.name="",C.status="",b()},G=()=>{if(!V.value.length)return y.warning("请选择字典！");z((()=>k({ids:V.value})))},J=()=>{var e;null==(e=D.value)||e.add()};return(l,i)=>{const n=s("icon-search"),y=s("a-input"),g=s("a-select"),v=s("a-button"),h=s("icon-refresh"),K=s("a-space"),O=s("icon-plus"),W=s("icon-delete"),q=s("a-row"),F=s("a-table-column"),I=e,L=s("icon-storage"),T=s("icon-edit"),X=s("a-popconfirm"),E=s("a-table"),H=s("a-card");return o(),d("div",w,[r(H,{title:"字典管理"},{default:u((()=>[r(K,{wrap:""},{default:u((()=>[r(y,{modelValue:c(C).name,"onUpdate:modelValue":i[0]||(i[0]=e=>c(C).name=e),placeholder:"字典类型名称/编码","allow-clear":"",style:{width:"250px"}},{prefix:u((()=>[r(n)])),_:1},8,["modelValue"]),r(g,{modelValue:c(C).status,"onUpdate:modelValue":i[1]||(i[1]=e=>c(C).status=e),options:c(x),placeholder:"状态","allow-clear":"",style:{width:"120px"}},null,8,["modelValue","options"]),r(v,{type:"primary",onClick:c(b)},{icon:u((()=>[r(n)])),default:u((()=>[i[2]||(i[2]=p("span",null,"查询",-1))])),_:1},8,["onClick"]),r(v,{onClick:B},{icon:u((()=>[r(h)])),default:u((()=>[i[3]||(i[3]=p("span",null,"重置",-1))])),_:1})])),_:1}),r(q,null,{default:u((()=>[r(K,{wrap:""},{default:u((()=>[r(v,{type:"primary",onClick:J},{icon:u((()=>[r(O)])),default:u((()=>[i[4]||(i[4]=p("span",null,"新增",-1))])),_:1}),r(v,{type:"primary",status:"danger",onClick:G},{icon:u((()=>[r(W)])),default:u((()=>[i[5]||(i[5]=p("span",null,"删除",-1))])),_:1})])),_:1})])),_:1}),r(E,{"row-key":"id",data:c(A),bordered:{cell:!0},loading:c(S),scroll:{x:"100%",y:"100%",minWidth:1e3},pagination:c(M),"row-selection":{type:"checkbox",showCheckedAll:!0},"selected-keys":c(V),onSelect:c(R),onSelectAll:c(U)},{columns:u((()=>[r(F,{title:"序号",width:64},{cell:u((e=>[m(_(e.rowIndex+1),1)])),_:1}),r(F,{title:"字典名称","data-index":"name"}),r(F,{title:"字典编码","data-index":"code"}),r(F,{title:"状态",width:100,align:"center"},{cell:u((({record:e})=>[r(I,{status:e.status},null,8,["status"])])),_:1}),r(F,{title:"描述","data-index":"description"}),r(F,{title:"创建时间","data-index":"createTime",width:180}),r(F,{title:"操作",width:280,align:"center",fixed:c(f)()?void 0:"right"},{cell:u((({record:e})=>[r(K,null,{default:u((()=>[r(v,{type:"primary",status:"success",size:"mini",onClick:a=>{return t=e,void(null==(l=j.value)||l.open({code:t.code}));var t,l}},{icon:u((()=>[r(L)])),default:u((()=>[i[6]||(i[6]=p("span",null,"字典数据",-1))])),_:2},1032,["onClick"]),r(v,{type:"primary",size:"mini",onClick:a=>{return t=e,void(null==(l=D.value)||l.edit(t.id));var t,l}},{icon:u((()=>[r(T)])),default:u((()=>[i[7]||(i[7]=p("span",null,"编辑",-1))])),_:2},1032,["onClick"]),r(X,{type:"warning",content:"确定删除该角色吗?",onBeforeOk:a=>{return t=e,z((()=>k({ids:[t.id]})),{showModal:!1});var t}},{default:u((()=>[r(v,{type:"primary",status:"danger",size:"mini"},{icon:u((()=>[r(W)])),default:u((()=>[i[8]||(i[8]=p("span",null,"删除",-1))])),_:1})])),_:2},1032,["onBeforeOk"])])),_:2},1024)])),_:1},8,["fixed"])])),_:1},8,["data","loading","pagination","selected-keys","onSelect","onSelectAll"])])),_:1}),r(a,{ref_key:"AddDictModalRef",ref:D,onSaveSuccess:c(b)},null,8,["onSaveSuccess"]),r(t,{ref_key:"DictDataModalRef",ref:j},null,512)])}}});export{x as default};
