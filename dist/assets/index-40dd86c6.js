import{d as L,g as p,ex as f,l as k,Q as R,r as E,o as h,c as w,h as l,u as e,X as x,Y as j,D as y,a as C,n as A,F as J,b as U,_ as ee}from"./index-d92c8974.js";import{a as te}from"./index.es-c168347f.js";const oe={class:"images-view"},se=["src"],le={class:"foot"},ae=["onClick"],ne=["src"],ie=["src"],ce=L({__name:"index",props:{list:{default:()=>[{src:"https://gw.alicdn.com/imgextra/i4/2679012998/O1CN01HRyHt31Y18AGcTbKj_!!2679012998.jpg_Q75.jpg_.webp"},{src:"https://gw.alicdn.com/imgextra/i1/2679012998/O1CN017617nr1Y189xDIqY1_!!2679012998.jpg_Q75.jpg_.webp"},{src:"https://gw.alicdn.com/imgextra/i3/2679012998/O1CN01EdWirH1Y18D5EEr8x_!!2679012998.jpg_Q75.jpg_.webp"},{src:"https://gw.alicdn.com/imgextra/i1/2679012998/O1CN01vEwGAd1Y18APGtwTH_!!2679012998.jpg_Q75.jpg_.webp"},{src:"https://gw.alicdn.com/imgextra/i4/2679012998/O1CN01HRyHt31Y18AGcTbKj_!!2679012998.jpg_Q75.jpg_.webp"},{src:"https://gw.alicdn.com/imgextra/i1/2679012998/O1CN017617nr1Y189xDIqY1_!!2679012998.jpg_Q75.jpg_.webp"},{src:"https://gw.alicdn.com/imgextra/i4/2679012998/O1CN01HRyHt31Y18AGcTbKj_!!2679012998.jpg_Q75.jpg_.webp"},{src:"https://gw.alicdn.com/imgextra/i1/2679012998/O1CN017617nr1Y189xDIqY1_!!2679012998.jpg_Q75.jpg_.webp"},{src:"https://gw.alicdn.com/imgextra/i3/2679012998/O1CN01EdWirH1Y18D5EEr8x_!!2679012998.jpg_Q75.jpg_.webp"},{src:"https://gw.alicdn.com/imgextra/i1/2679012998/O1CN01vEwGAd1Y18APGtwTH_!!2679012998.jpg_Q75.jpg_.webp"},{src:"https://gw.alicdn.com/imgextra/i4/2679012998/O1CN01HRyHt31Y18AGcTbKj_!!2679012998.jpg_Q75.jpg_.webp"},{src:"https://gw.alicdn.com/imgextra/i1/2679012998/O1CN017617nr1Y189xDIqY1_!!2679012998.jpg_Q75.jpg_.webp"}]},zoom:{type:Boolean,default:!1},autoplay:{type:Boolean,default:!1}},setup(D){const s=D,I=p(null),{width:G}=f(I),b=k(()=>Math.floor(G.value/110)),t=p(0),i=p(0),B=k(()=>Math.floor((s.list.length-1)/b.value)),u=p(!1),_=()=>{i.value!==Math.floor(t.value/b.value)&&(i.value=Math.floor(t.value/b.value))};(()=>{s.autoplay&&!s.zoom&&setInterval(()=>{t.value<s.list.length-1?t.value++:t.value==s.list.length-1&&(t.value=0),_()},2e3)})();const M=o=>{t.value=o,_()},P=o=>{o.stopPropagation(),t.value>0&&t.value--,_()},T=o=>{o.stopPropagation(),t.value<s.list.length-1&&t.value++,_()},V=()=>{i.value>0&&i.value--},S=()=>{i.value<B.value&&i.value++},W=()=>{s.list.length&&!s.zoom&&(console.log("预览"),te({options:{initialViewIndex:t.value},images:s.list.map(o=>o.src)}))},v=R({left:"0",top:"0"}),d=R({left:"0",top:"0"}),H=p(null),{top:Z,left:q,width:Y,height:K}=f(H),N=p(null),{width:Q,height:X}=f(N),O=p(null),{width:$,height:pe}=f(O),z=k(()=>$.value/Q.value),F=o=>{const a=Q.value/2,c=X.value/2,m=Y.value-a,g=K.value-c;let n=o.pageX-q.value,r=o.pageY-Z.value;n<a&&(n=a),n>m&&(n=m),r<c&&(r=c),r>g&&(r=g),v.left=n-a+"px",v.top=r-c+"px",d.left=-(n-a)*z.value+"px",d.top=-(r-c)*z.value+"px"};return(o,a)=>{const c=E("icon-left"),m=E("icon-right");return h(),w("div",oe,[l("section",{class:"image",ref_key:"ImageViewRef",ref:H,onMouseenter:a[0]||(a[0]=g=>u.value=!0),onMouseleave:a[1]||(a[1]=g=>u.value=!1),onMousemove:F,onClick:W},[(h(),w("img",{class:"animated fadeIn",src:o.list[e(t)].src,key:e(t)},null,8,se)),x(l("div",{ref_key:"ZoomARef",ref:N,class:"zoom-a",style:y({left:e(v).left,top:e(v).top})},null,4),[[j,s.zoom&&e(u)]]),x(l("div",{class:"prev",onClick:P},[C(c,{size:20})],512),[[j,!s.zoom]]),x(l("div",{class:"next",onClick:T},[C(m,{size:20})],512),[[j,!s.zoom]])],544),l("section",le,[l("div",{class:A(["left",{disabled:e(i)===0}]),onClick:V},[C(c)],2),l("div",{class:"scroll-box",ref_key:"ScrollBoxRef",ref:I},[l("ul",{class:"list",style:y({left:`${e(i)*-440}px`})},[(h(!0),w(J,null,U(o.list,(g,n)=>(h(),w("li",{class:A(["list-item",{active:e(t)===n}]),key:n,onClick:r=>M(n)},[l("img",{src:g.src,alt:""},null,8,ne)],10,ae))),128))],4)],512),l("div",{class:A(["right",{disabled:e(i)===e(B)}]),onClick:S},[C(m)],2)]),x(l("div",{ref_key:"ZoomBRef",ref:O,class:"zoom-b animated fadeIn",style:y({left:e(Y)+10+"px"})},[l("img",{src:o.list[e(t)].src,style:y({left:e(d).left,top:e(d).top,width:e(Y)*e(z)+"px"})},null,12,ie)],4),[[j,s.zoom&&e(u)]])])}}});const ue=ee(ce,[["__scopeId","data-v-64eea2ff"]]);export{ue as default};
