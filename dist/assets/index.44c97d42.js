import{e as F,D as M,r as c,o as r,c as _,w as n,a as o,g as C,F as L,G as D,E as S,t as w,k as O,u as f,p as U,H as R,I as j,j as V,h as m,J,K as Q,L as W,T as X,N as Y,O as Z,P as ee}from"./vendor.9944cf29.js";import{u as P,a as ne,b as H}from"./index.77872b8c.js";import{_ as x}from"./index.cf936dbc.js";import{_ as te}from"./avatar.d240db71.js";import{u as oe,a as se}from"./index.baa3ab09.js";const ce=F({setup(s){const e=M(),t=P(),a=l=>{l.path&&(t.setActivePath(l.path),e.push({path:l.path}))};return(l,i)=>{const d=c("GiSvgIcon"),h=c("a-menu-item"),g=c("a-sub-menu"),b=c("a-menu"),y=c("a-layout-sider");return r(),_(y,{collapsible:"",breakpoint:"xl",class:"aside"},{default:n(()=>[o(b,{"selected-keys":[f(t).activePath],style:{width:"100%",height:"100%"}},{default:n(()=>[(r(!0),C(D,null,L(f(t).menuList,u=>(r(),C(D,null,[u.children&&u.children.length?(r(),_(g,{key:u.path},{icon:n(()=>[o(d,{size:24,name:u.icon},null,8,["name"])]),title:n(()=>[S(w(u.name),1)]),default:n(()=>[u.children&&u.children.length?(r(!0),C(D,{key:0},L(u.children,k=>(r(),_(h,{key:k.path,onClick:z=>a(k)},{default:n(()=>[S(w(k.name),1)]),_:2},1032,["onClick"]))),128)):O("",!0)]),_:2},1024)):(r(),_(h,{key:u.path,onClick:k=>a(u)},{icon:n(()=>[o(d,{size:24,name:u.icon},null,8,["name"])]),default:n(()=>[S(" "+w(u.name),1)]),_:2},1032,["onClick"]))],64))),256))]),_:1},8,["selected-keys"])]),_:1})}}});var ae=x(ce,[["__scopeId","data-v-65b8097e"]]),le="/gi-demo/assets/logo.1ea765ca.png";const q=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],v=(()=>{const s=q[0],e={};for(const t of q)if((t==null?void 0:t[1])in document){for(const[l,i]of t.entries())e[s[l]]=i;return e}return!1})(),G={change:v.fullscreenchange,error:v.fullscreenerror};let p={request(s=document.documentElement,e){return new Promise((t,a)=>{const l=()=>{p.off("change",l),t()};p.on("change",l);const i=s[v.requestFullscreen](e);i instanceof Promise&&i.then(l).catch(a)})},exit(){return new Promise((s,e)=>{if(!p.isFullscreen){s();return}const t=()=>{p.off("change",t),s()};p.on("change",t);const a=document[v.exitFullscreen]();a instanceof Promise&&a.then(t).catch(e)})},toggle(s,e){return p.isFullscreen?p.exit():p.request(s,e)},onchange(s){p.on("change",s)},onerror(s){p.on("error",s)},on(s,e){const t=G[s];t&&document.addEventListener(t,e,!1)},off(s,e){const t=G[s];t&&document.removeEventListener(t,e,!1)},raw:v};Object.defineProperties(p,{isFullscreen:{get:()=>Boolean(document[v.fullscreenElement])},element:{enumerable:!0,get:()=>{var s;return(s=document[v.fullscreenElement])!=null?s:void 0}},isEnabled:{enumerable:!0,get:()=>Boolean(document[v.fullscreenEnabled])}});v||(p={isEnabled:!1});var B=p;const re=F({setup(s){const e=U(!1),t=()=>{e.value=B.isFullscreen},a=()=>{B.toggle()};return R(()=>{B.on("change",t)}),j(()=>{B.off("change",t)}),(l,i)=>{const d=c("icon-fullscreen"),h=c("icon-fullscreen-exit");return r(),C("span",{class:"gi-fullscreen-icon",onClick:a},[e.value?(r(),_(h,{key:1,size:18})):(r(),_(d,{key:0,size:18}))])}}});var ue=x(re,[["__scopeId","data-v-2dd6cd7e"]]);const _e=F({setup(s){const e=P(),t=oe({selector:"body",attribute:"arco-theme",valueDark:"dark",valueLight:"light",storageKey:"arco-theme",onChanged(l){e.toggleTheme(l)}}),a=se(t);return(l,i)=>{const d=c("a-button");return r(),_(d,{class:"toggle-theme-btn",size:"mini",onClick:f(a)},{icon:n(()=>[(r(),_(V(f(e).theme==="light"?"icon-sun-fill":"icon-moon-fill"),{size:18}))]),_:1},8,["onClick"])}}});var ie=x(_e,[["__scopeId","data-v-6df983de"]]);const A=s=>(J("data-v-6d54f0e2"),s=s(),Q(),s),de=A(()=>m("img",{src:le},null,-1)),pe={class:"gi_hover"},me=A(()=>m("img",{src:te},null,-1)),fe={class:"option-item"},he={style:{background:"#1677ff"}},ve=A(()=>m("span",null,"\u4E2A\u4EBA\u4E2D\u5FC3",-1)),ge={class:"option-item"},be={style:{background:"#ff7d00"}},ke=A(()=>m("span",null,"\u9000\u51FA\u767B\u5F55",-1)),ye=F({setup(s){const e=M(),t=P(),a=ne(),l=()=>{e.push("/")},i=()=>{e.push("/user")},d=()=>{W.warning({title:"\u63D0\u793A",content:"\u786E\u8BA4\u9000\u51FA\u767B\u5F55\uFF1F",hideCancel:!1,onOk:()=>{e.replace("/login")}})};return(h,g)=>{const b=c("icon-notification"),y=c("a-tooltip"),u=c("a-avatar"),k=c("icon-down"),z=c("a-button"),I=c("icon-user"),T=c("a-doption"),N=c("icon-export"),$=c("a-dropdown"),E=c("a-space"),K=c("a-layout-header");return r(),_(K,null,{default:n(()=>[m("section",{class:"system-logo",onClick:l},[de,m("span",pe,w(f(t).systemName),1)]),o(E,{class:"system-head",size:"medium"},{default:n(()=>[o(y,{content:"\u6D88\u606F\u901A\u77E5",position:"bl"},{default:n(()=>[o(b,{class:"gi_hover",size:18})]),_:1}),o(ue,{class:"gi_hover"}),o(ie),o(u,{size:32},{default:n(()=>[me]),_:1}),o($,{trigger:"hover"},{content:n(()=>[o(T,{onClick:i},{default:n(()=>[m("div",fe,[m("span",he,[o(I)]),ve])]),_:1}),o(T,{onClick:d},{default:n(()=>[m("div",ge,[m("span",be,[o(N)]),ke])]),_:1})]),default:n(()=>[o(z,{type:"text",class:"username"},{default:n(()=>[m("span",null,w(f(a).userName),1),o(k)]),_:1})]),_:1})]),_:1})]),_:1})}}});var Fe=x(ye,[["__scopeId","data-v-6d54f0e2"]]);const xe=F({setup(s){const e=H();return(t,a)=>{const l=c("router-view"),i=c("a-layout");return r(),_(i,{class:"main"},{default:n(()=>[o(l,null,{default:n(({Component:d,route:h})=>[o(X,{name:"zoom-fade",mode:"out-in",appear:""},{default:n(()=>[(r(),_(Y,{include:f(e).cacheList},[(r(),_(V(d),{key:h.path}))],1032,["include"]))]),_:2},1024)]),_:1})]),_:1})}}});var Ee=x(xe,[["__scopeId","data-v-a38d95a6"]]);const Ce={class:"nav-tab"},Se=S("\u5173\u95ED\u5F53\u524D\u9875\u7B7E"),we=S("\u5173\u95ED\u6240\u6709\u9875\u7B7E"),ze=F({setup(s){const e=Z(),t=M(),a=H();R(()=>{l()}),ee(()=>e.path,()=>{l()});const l=()=>{a.addTabItem({name:e.meta.title||"\u672A\u547D\u540D",path:e.path,componentName:e.name}),e.meta.keepAlive&&a.addCacheItem(e.name)},i=g=>{console.log("\u70B9\u51FB\u524D",a.cacheList),t.push({path:g})},d=g=>{let b=a.tabList.find(y=>y.path===g);a.removeTabItem(g),a.removeCacheItem(b.componentName),console.log("\u5173\u95ED\u540E",a.cacheList)},h=()=>{a.clearTabList()};return(g,b)=>{const y=c("a-tab-pane"),u=c("icon-settings"),k=c("a-button"),z=c("icon-minus-circle-fill"),I=c("a-doption"),T=c("icon-close-circle-fill"),N=c("a-dropdown"),$=c("a-tabs");return r(),C("div",Ce,[o($,{type:"card-gutter","active-key":f(e).path,editable:"",onTabClick:i,onDelete:d},{extra:n(()=>[o(N,{trigger:"hover"},{content:n(()=>[o(I,{onClick:b[0]||(b[0]=E=>d(f(e).path))},{icon:n(()=>[o(z,{size:20,style:{color:"#ff7d00"}})]),default:n(()=>[Se]),_:1}),o(I,{onClick:h},{icon:n(()=>[o(T,{size:20,style:{color:"#f53f3f"}})]),default:n(()=>[we]),_:1})]),default:n(()=>[o(k,{type:"primary",class:"extra-btn"},{icon:n(()=>[o(u,{size:18})]),_:1})]),_:1})]),default:n(()=>[(r(!0),C(D,null,L(f(a).tabList,E=>(r(),_(y,{key:E.path,title:E.name,closable:E.path!=="/home"},null,8,["title","closable"]))),128))]),_:1},8,["active-key"])])}}});var Ie=x(ze,[["__scopeId","data-v-48e6d049"]]);const Te=F({setup(s){return(e,t)=>{const a=c("a-layout");return r(),_(a,{class:"layout"},{default:n(()=>[o(ae),o(a,null,{default:n(()=>[o(Fe),o(Ie),o(Ee)]),_:1})]),_:1})}}});var Le=x(Te,[["__scopeId","data-v-2d039723"]]);export{Le as default};
