import{_ as e}from"./GiCellStatus.vue_vue_type_script_setup_true_lang-D0GFp84H.js";import{_ as a}from"./AddDictDataModal.vue_vue_type_script_setup_true_lang-BA_Hdhpj.js";import{d as l,b as t,e as n,o as i,c as s,w as o,h as d,g as r,I as u,t as c,J as p,i as _,V as m,fb as v}from"./index-JnUDrixV.js";import{d as f}from"./index-DG8U9wgv.js";import{u as y}from"./useBreakpoint-Bgw8rwYt.js";const g=_("span",null,"新增",-1),h=_("span",null,"删除",-1),k=_("span",null,"编辑",-1),w=_("span",null,"删除",-1),x=l({__name:"index",setup(l,{expose:_}){const x=t(!1),b=t(),S=t(""),{loading:A,tableData:C,pagination:D,selectedKeys:j,search:z,select:B,selectAll:M,handleDelete:W}=y((e=>v({...e,code:S.value})),{immediate:!1});_({open:e=>{C.value=[],S.value=e.code,x.value=!0,z()}});const I=()=>{if(!j.value.length)return m.warning("请选择字典数据！");W((()=>f({ids:j.value})))},O=()=>{var e;null==(e=b.value)||e.add()};return(l,t)=>{const _=n("icon-plus"),m=n("a-button"),v=n("icon-delete"),y=n("a-space"),U=n("a-row"),V=n("a-table-column"),G=e,J=n("icon-edit"),K=n("a-popconfirm"),R=n("a-table"),q=n("a-modal");return i(),s(q,{visible:r(x),"onUpdate:visible":t[0]||(t[0]=e=>p(x)?x.value=e:null),title:"字典数据",width:"90%","hide-cancel":"","ok-text":"关闭","mask-closable":!1,"modal-style":{maxWidth:"680px"}},{default:o((()=>[d(U,null,{default:o((()=>[d(y,{wrap:""},{default:o((()=>[d(m,{type:"primary",onClick:O},{icon:o((()=>[d(_)])),default:o((()=>[g])),_:1}),d(m,{type:"primary",status:"danger",onClick:I},{icon:o((()=>[d(v)])),default:o((()=>[h])),_:1})])),_:1})])),_:1}),d(R,{"row-key":"id",size:"small",data:r(C),bordered:{cell:!0},loading:r(A),scroll:{x:"100%",y:"100%",minWidth:600},pagination:{...r(D),size:"small"},"row-selection":{type:"checkbox",showCheckedAll:!0},"selected-keys":r(j),onSelect:r(B),onSelectAll:r(M)},{columns:o((()=>[d(V,{title:"序号",width:64},{cell:o((e=>[u(c(e.rowIndex+1),1)])),_:1}),d(V,{title:"字典名","data-index":"name"}),d(V,{title:"字典值","data-index":"value"}),d(V,{title:"状态",width:100,align:"center"},{cell:o((({record:e})=>[d(G,{status:e.status},null,8,["status"])])),_:1}),d(V,{title:"操作",width:180,align:"center"},{cell:o((({record:e})=>[d(y,null,{default:o((()=>[d(m,{type:"primary",size:"mini",onClick:a=>{return l=e,void(null==(t=b.value)||t.edit({id:l.id,code:S.value}));var l,t}},{icon:o((()=>[d(J)])),default:o((()=>[k])),_:2},1032,["onClick"]),d(K,{type:"warning",content:"确定删除该角色吗?",onBeforeOk:a=>{return l=e,W((()=>f({ids:[l.id]})),{showModal:!1});var l}},{default:o((()=>[d(m,{type:"primary",status:"danger",size:"mini"},{icon:o((()=>[d(v)])),default:o((()=>[w])),_:1})])),_:2},1032,["onBeforeOk"])])),_:2},1024)])),_:1})])),_:1},8,["data","loading","pagination","selected-keys","onSelect","onSelectAll"]),d(a,{ref_key:"AddDictDataModalRef",ref:b,onSaveSuccess:r(z)},null,8,["onSaveSuccess"])])),_:1},8,["visible"])}}});export{x as _};
