import{d as e,b as a,k as s,e as l,o as t,c as n,w as c,h as o,g as r,J as i,L as u,S as d,V as m}from"./index-DyiAUk2E.js";import{a as k}from"./role-CoHJXh96.js";import{b as v}from"./menu-6HxeOkNu.js";const f=e({__name:"PermModal",setup(e,{expose:f}){const p=a(),b=a([]);(async()=>{const e=await v();b.value=e.data,d((()=>{var e;null==(e=p.value)||e.expandAll()}))})();const h=s((()=>"分配权限")),y=a(!1),_=a([]);f({open:e=>{_.value=[],y.value=!0,k({role:e.code}).then((e=>{_.value=e.data}))}});const x=()=>{m.success("模拟保存成功")};return(e,a)=>{const s=l("a-tree"),d=l("a-modal");return t(),n(d,{visible:r(y),"onUpdate:visible":a[1]||(a[1]=e=>i(y)?y.value=e:null),title:r(h),fullscreen:r(u)(),"mask-closable":!0,onOk:x},{default:c((()=>[o(s,{ref_key:"treeRef",ref:p,"checked-keys":r(_),"onUpdate:checkedKeys":a[0]||(a[0]=e=>i(_)?_.value=e:null),size:"mini",checkable:"","check-strictly":!0,data:r(b),"field-names":{key:"id"}},null,8,["checked-keys","data"])])),_:1},8,["visible","title","fullscreen"])}}});export{f as _};
