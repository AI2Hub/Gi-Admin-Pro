import{e as y,q as $,r as s,o as r,c as p,w as c,a as o,g as C,B as q,z as N,t as A,u as f,F as G,C as R,D as H,h as d,i as j,E as V,G as J,H as K,I as Q,T as W,K as X,J as Y,L as Z}from"./vendor.4f8dcc75.js";import{u as L,a as ee,b as U}from"./index.ef8fffb2.js";import{_ as F}from"./index.ddebc0bf.js";import{_ as te}from"./avatar.d240db71.js";import{u as ne,a as oe}from"./index.8c11c919.js";const se=t=>(R("data-v-4056872a"),t=t(),H(),t),ce=se(()=>d("div",{class:"logo"},null,-1)),ae=y({setup(t){const e=$(),n=L(),a=l=>{n.setActivePath(l.path),e.push(l.path)};return(l,u)=>{const i=s("GiSvgIcon"),b=s("a-menu-item"),v=s("a-menu"),g=s("a-layout-sider");return r(),p(g,{collapsible:"",breakpoint:"xl",class:"the-aside"},{default:c(()=>[ce,o(v,{"selected-keys":[f(n).activePath],style:{width:"100%",height:"100%"}},{default:c(()=>[(r(!0),C(G,null,q(f(n).menuList,m=>(r(),p(b,{key:m.path,onClick:x=>a(m)},{icon:c(()=>[o(i,{class:"menu-icon",name:m.icon},null,8,["name"])]),default:c(()=>[N(" "+A(m.name),1)]),_:2},1032,["onClick"]))),128))]),_:1},8,["selected-keys"])]),_:1})}}});var le=F(ae,[["__scopeId","data-v-4056872a"]]),re="/gi-demo/assets/logo.1ea765ca.png";const M=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],h=(()=>{const t=M[0],e={};for(const n of M)if((n==null?void 0:n[1])in document){for(const[l,u]of n.entries())e[t[l]]=u;return e}return!1})(),P={change:h.fullscreenchange,error:h.fullscreenerror};let _={request(t=document.documentElement,e){return new Promise((n,a)=>{const l=()=>{_.off("change",l),n()};_.on("change",l);const u=t[h.requestFullscreen](e);u instanceof Promise&&u.then(l).catch(a)})},exit(){return new Promise((t,e)=>{if(!_.isFullscreen){t();return}const n=()=>{_.off("change",n),t()};_.on("change",n);const a=document[h.exitFullscreen]();a instanceof Promise&&a.then(n).catch(e)})},toggle(t,e){return _.isFullscreen?_.exit():_.request(t,e)},onchange(t){_.on("change",t)},onerror(t){_.on("error",t)},on(t,e){const n=P[t];n&&document.addEventListener(n,e,!1)},off(t,e){const n=P[t];n&&document.removeEventListener(n,e,!1)},raw:h};Object.defineProperties(_,{isFullscreen:{get:()=>Boolean(document[h.fullscreenElement])},element:{enumerable:!0,get:()=>{var t;return(t=document[h.fullscreenElement])!=null?t:void 0}},isEnabled:{enumerable:!0,get:()=>Boolean(document[h.fullscreenEnabled])}});h||(_={isEnabled:!1});var w=_;const ue=y({setup(t){const e=j(!1),n=()=>{e.value=w.isFullscreen},a=()=>{w.toggle()};return V(()=>{w.on("change",n)}),J(()=>{w.off("change",n)}),(l,u)=>{const i=s("icon-fullscreen"),b=s("icon-fullscreen-exit");return r(),C("span",{class:"gi-fullscreen-icon",onClick:a},[e.value?(r(),p(b,{key:1,style:{"font-size":"18px"}})):(r(),p(i,{key:0,style:{"font-size":"18px"}}))])}}});var _e=F(ue,[["__scopeId","data-v-b8912720"]]);const ie=y({setup(t){const e=L(),n=ne({selector:"body",attribute:"arco-theme",valueDark:"dark",valueLight:"light",storageKey:"arco-theme",onChanged(l){e.toggleTheme(l)}}),a=oe(n);return(l,u)=>{const i=s("a-button");return r(),p(i,{class:"toggle-theme-btn",size:"mini",onClick:f(a)},{icon:c(()=>[(r(),p(K(f(e).theme==="light"?"icon-sun-fill":"icon-moon-fill"),{size:18}))]),_:1},8,["onClick"])}}});var de=F(ie,[["__scopeId","data-v-6df983de"]]);const I=t=>(R("data-v-849c554c"),t=t(),H(),t),pe=I(()=>d("img",{src:re},null,-1)),me={class:"gi_hover"},fe=I(()=>d("img",{src:te},null,-1)),he={class:"option-item"},ve={style:{background:"#1677ff"}},ge=I(()=>d("span",null,"\u4E2A\u4EBA\u4E2D\u5FC3",-1)),be={class:"option-item"},ye={style:{background:"#ff7d00"}},Fe=I(()=>d("span",null,"\u9000\u51FA\u767B\u5F55",-1)),ke=y({setup(t){const e=$(),n=L(),a=ee(),l=()=>{e.push("/")},u=()=>{e.push("/user")},i=()=>{Q.warning({title:"\u63D0\u793A",content:"\u786E\u8BA4\u9000\u51FA\u767B\u5F55\uFF1F",hideCancel:!1,onOk:()=>{e.replace("/login")}})};return(b,v)=>{const g=s("icon-notification"),m=s("a-tooltip"),x=s("a-avatar"),B=s("icon-down"),T=s("a-button"),E=s("icon-user"),S=s("a-doption"),z=s("icon-export"),D=s("a-dropdown"),k=s("a-space"),O=s("a-layout-header");return r(),p(O,null,{default:c(()=>[d("section",{class:"system-logo",onClick:l},[pe,d("span",me,A(f(n).systemName),1)]),o(k,{class:"system-head",size:"medium"},{default:c(()=>[o(m,{content:"\u6D88\u606F\u901A\u77E5",position:"bl"},{default:c(()=>[o(g,{class:"gi_hover",size:18})]),_:1}),o(_e,{class:"gi_hover"}),o(de),o(x,{size:32},{default:c(()=>[fe]),_:1}),o(D,{trigger:"hover"},{content:c(()=>[o(S,{onClick:u},{default:c(()=>[d("div",he,[d("span",ve,[o(E)]),ge])]),_:1}),o(S,{onClick:i},{default:c(()=>[d("div",be,[d("span",ye,[o(z)]),Fe])]),_:1})]),default:c(()=>[o(T,{type:"text",class:"username"},{default:c(()=>[d("span",null,A(f(a).userName),1),o(B)]),_:1})]),_:1})]),_:1})]),_:1})}}});var xe=F(ke,[["__scopeId","data-v-849c554c"]]);const Ee=y({setup(t){const e=U();return(n,a)=>{const l=s("router-view"),u=s("a-layout");return r(),p(u,{class:"the-main"},{default:c(()=>[o(l,null,{default:c(({Component:i,route:b})=>[o(W,{name:"fade-transform",mode:"out-in",appear:""},{default:c(()=>[(r(),p(X,{include:f(e).cacheList},[(r(),p(K(i)))],1032,["include"]))]),_:2},1024)]),_:1})]),_:1})}}});var Se=F(Ee,[["__scopeId","data-v-559e33be"]]);const we={class:"the-nav-tab"},Ce=N("\u5173\u95ED\u5F53\u524D\u9875\u7B7E"),Ie=N("\u5173\u95ED\u6240\u6709\u9875\u7B7E"),Be=y({setup(t){const e=Y(),n=$(),a=U();V(()=>{l()}),Z(()=>e.path,()=>{l()});const l=()=>{a.addTabItem({name:e.meta.title||"\u672A\u547D\u540D",path:e.path,componentName:e.name}),e.meta.keepAlive&&a.addCacheItem(e.name)},u=v=>{console.log("\u70B9\u51FB\u524D",a.cacheList),n.push({path:v})},i=v=>{let g=a.tabList.find(m=>m.path===v);a.removeTabItem(v),a.removeCacheItem(g.componentName),console.log("\u5173\u95ED\u540E",a.cacheList)},b=()=>{a.clearTabList()};return(v,g)=>{const m=s("a-tab-pane"),x=s("icon-settings"),B=s("a-button"),T=s("icon-minus-circle-fill"),E=s("a-doption"),S=s("icon-close-circle-fill"),z=s("a-dropdown"),D=s("a-tabs");return r(),C("div",we,[o(D,{type:"card-gutter","active-key":f(e).path,editable:"",onTabClick:u,onDelete:i},{extra:c(()=>[o(z,{trigger:"hover"},{content:c(()=>[o(E,{onClick:g[0]||(g[0]=k=>i(f(e).path))},{icon:c(()=>[o(T,{size:20,style:{color:"#ff7d00"}})]),default:c(()=>[Ce]),_:1}),o(E,{onClick:b},{icon:c(()=>[o(S,{size:20,style:{color:"#f53f3f"}})]),default:c(()=>[Ie]),_:1})]),default:c(()=>[o(B,{type:"primary",class:"extra-btn"},{icon:c(()=>[o(x,{size:18})]),_:1})]),_:1})]),default:c(()=>[(r(!0),C(G,null,q(f(a).tabList,k=>(r(),p(m,{key:k.path,title:k.name,closable:k.path!=="/home"},null,8,["title","closable"]))),128))]),_:1},8,["active-key"])])}}});var Te=F(Be,[["__scopeId","data-v-ea58fd24"]]);const ze=y({setup(t){return(e,n)=>{const a=s("a-layout");return r(),p(a,{class:"the-layout"},{default:c(()=>[o(le),o(a,null,{default:c(()=>[o(xe),o(Te),o(Se)]),_:1})]),_:1})}}});var Me=F(ze,[["__scopeId","data-v-1668a082"]]);export{Me as default};
