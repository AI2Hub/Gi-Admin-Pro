import{_ as e}from"./index-DNb8Js_V.js";import{d as a,b as l,U as d,k as t,e as o,o as s,f as n,h as r,w as i,I as p,g as u,V as m,_ as c}from"./index-CJb6VCzA.js";const f={class:"gi_page form-table"},_=c(a({name:"FormTable",__name:"index",setup(a){const c=l(),_=[{title:"姓名",dataIndex:"name",slotName:"name",headerCellClass:"gi_column_require"},{title:"手机",dataIndex:"phone",slotName:"phone",headerCellClass:"gi_column_require"},{title:"地址",dataIndex:"address",slotName:"address"},{title:"操作",width:80,slotName:"action",fixed:"right",align:"center"}],y=d({tableData:[{name:"",phone:"",address:""}]}),b=t((()=>JSON.stringify(y.tableData,null,"\t"))),h=()=>{y.tableData.push({name:"",phone:"",address:""})},w=async()=>{var e;const a=await(null==(e=c.value)?void 0:e.validate());if(a){const e=Object.values(a);m.warning(e[0].message)}else m.success("提交通过")},g=()=>{var e,a;null==(e=c.value)||e.resetFields(),null==(a=c.value)||a.clearValidate()};return(a,l)=>{const d=o("a-button"),t=o("a-space"),m=o("a-row"),x=o("a-input"),V=o("a-form-item"),v=o("icon-delete"),C=o("a-table"),I=o("a-form"),D=e,j=o("a-alert"),k=o("a-card");return s(),n("div",f,[r(k,{title:"编辑表格"},{default:i((()=>[r(m,{justify:"end"},{default:i((()=>[r(t,{wrap:""},{default:i((()=>[r(d,{type:"primary",onClick:h},{default:i((()=>[p("新增")])),_:1})])),_:1})])),_:1}),r(I,{ref_key:"formRef",ref:c,model:u(y)},{default:i((()=>[r(C,{columns:_,data:u(y).tableData,bordered:{cell:!0},scroll:{minWidth:680},pagination:!1},{name:i((({record:e,rowIndex:a})=>[r(V,{field:`tableData[${a}].name`,"label-col-style":{display:"none"},"wrapper-col-props":{span:24},rules:[{required:!0,message:"请输入姓名"}]},{default:i((()=>[r(x,{modelValue:e.name,"onUpdate:modelValue":a=>e.name=a,placeholder:"请输入姓名","allow-clear":""},null,8,["modelValue","onUpdate:modelValue"])])),_:2},1032,["field"])])),phone:i((({record:e,rowIndex:a})=>[r(V,{field:`tableData[${a}].phone`,"label-col-style":{display:"none"},"wrapper-col-props":{span:24},rules:[{required:!0,message:"请输入手机号"}]},{default:i((()=>[r(x,{modelValue:e.phone,"onUpdate:modelValue":a=>e.phone=a,placeholder:"请输入手机号","allow-clear":""},null,8,["modelValue","onUpdate:modelValue"])])),_:2},1032,["field"])])),address:i((({record:e,rowIndex:a})=>[r(V,{field:`tableData[${a}].address`,"label-col-style":{display:"none"},"wrapper-col-props":{span:24}},{default:i((()=>[r(x,{modelValue:e.address,"onUpdate:modelValue":a=>e.address=a,placeholder:"请输入地址","allow-clear":""},null,8,["modelValue","onUpdate:modelValue"])])),_:2},1032,["field"])])),action:i((({rowIndex:e})=>[r(d,{type:"primary",status:"danger",onClick:a=>{return l=e,void y.tableData.splice(l,1);var l}},{icon:i((()=>[r(v)])),_:2},1032,["onClick"])])),_:1},8,["data"])])),_:1},8,["model"]),r(m,{justify:"end",style:{"margin-top":"8px"}},{default:i((()=>[r(t,{wrap:""},{default:i((()=>[r(d,{onClick:g},{default:i((()=>[p("重置")])),_:1}),r(d,{type:"primary",onClick:w},{default:i((()=>[p("验证并提交")])),_:1})])),_:1})])),_:1}),r(D,{"code-json":u(b)},null,8,["code-json"]),r(j,{type:"warning",style:{"margin-top":"8px"}},{default:i((()=>[p(" 本示例均采用原生arco组件开发，并不建议过渡封装编辑表格，经历过才知道，过渡封装会限制灵活性，还有可维护性，多点代码也没啥，直接copy就行 ")])),_:1})])),_:1})])}}}),[["__scopeId","data-v-fd0f5e6d"]]);export{_ as default};
