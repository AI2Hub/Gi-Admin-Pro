import{_ as R}from"./GiSvgIcon.8e83f0f2.js";import{d as b,r as g,G as U,h as S,i as n,o as s,m as d,w as t,b as e,j as T,er as N,c as y,a as w,es as q,k as F,K as E,eH as G,p as $,e as j,_ as H}from"./index.820cb14d.js";const K=b({__name:"EditMenuModal",setup(h,{expose:v}){const _=g(""),m=g(!1),x=U(()=>_.value?"\u7F16\u8F91\u83DC\u5355":"\u65B0\u589E\u83DC\u5355"),o=S({parentId:"",name:"",path:"",icon:"",keepAlive:!1,hidden:!1});return v({add:()=>{_.value="",m.value=!0},edit:async f=>{_.value=f,m.value=!0}}),(f,u)=>{const i=n("a-tree-select"),p=n("a-form-item"),D=n("a-input"),k=n("a-switch"),c=n("a-form"),C=n("a-modal");return s(),d(C,{visible:m.value,"onUpdate:visible":u[5]||(u[5]=l=>m.value=l),title:T(x)},{default:t(()=>[e(c,{ref:"formRef",model:o,size:"medium","auto-label-width":""},{default:t(()=>[e(p,{label:"\u4E0A\u7EA7\u83DC\u5355",parentId:"name"},{default:t(()=>[e(i,{modelValue:o.parentId,"onUpdate:modelValue":u[0]||(u[0]=l=>o.parentId=l),placeholder:"\u8BF7\u9009\u62E9","field-names":{key:"id",title:"name",children:"children"}},null,8,["modelValue"])]),_:1}),e(p,{label:"\u83DC\u5355\u540D\u79F0",field:"name",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u83DC\u5355\u540D\u79F0"},{min:3,max:10,message:"\u957F\u5EA6\u5728 3 - 10\u4E2A\u5B57\u7B26"}],"validate-trigger":["change","input"]},{default:t(()=>[e(D,{placeholder:"\u8BF7\u8F93\u5165\u83DC\u5355\u540D\u79F0",modelValue:o.name,"onUpdate:modelValue":u[1]||(u[1]=l=>o.name=l)},null,8,["modelValue"])]),_:1}),e(p,{label:"\u83DC\u5355\u5730\u5740",field:"path",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u83DC\u5355\u5730\u5740"},{min:3,max:10,message:"\u957F\u5EA6\u5728 3 - 30\u4E2A\u5B57\u7B26"}],"validate-trigger":["change","input"]},{default:t(()=>[e(D,{placeholder:"\u8BF7\u8F93\u5165\u83DC\u5355\u5730\u5740",modelValue:o.path,"onUpdate:modelValue":u[2]||(u[2]=l=>o.path=l)},null,8,["modelValue"])]),_:1}),e(p,{label:"\u662F\u5426\u7F13\u5B58",name:"keepAlive"},{default:t(()=>[e(k,{size:"medium",modelValue:o.keepAlive,"onUpdate:modelValue":u[3]||(u[3]=l=>o.keepAlive=l)},null,8,["modelValue"])]),_:1}),e(p,{label:"\u662F\u5426\u9690\u85CF",name:"hidden"},{default:t(()=>[e(k,{size:"medium",modelValue:o.hidden,"onUpdate:modelValue":u[4]||(u[4]=l=>o.hidden=l)},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["visible","title"])}}}),W=h=>($("data-v-1368ef92"),h=h(),j(),h),J={class:"menu-manage"},L=W(()=>w("span",null,"\u65B0\u589E\u83DC\u5355",-1)),O={class:"table-box"},P={key:0},Q={key:1,class:"no-text"},X={key:1,class:"no-text"},Y=F("\u662F"),Z=F("\u5426"),ee=F("\u662F"),te=F("\u5426"),ne=b({name:"MenuManage"}),ae=b({...ne,setup(h){const v=g(),_=g(!1),m=g([]);(()=>{_.value=!0,setTimeout(()=>{m.value=G,_.value=!1},300)})();const o=()=>{var r;(r=v.value)==null||r.add()},B=r=>{var f;(f=v.value)==null||f.edit(r.path)};return(r,f)=>{const u=n("icon-plus"),i=n("a-button"),p=n("a-row"),D=n("IconDown"),k=n("IconRight"),c=n("a-table-column"),C=R,l=n("icon-edit"),V=n("icon-delete"),A=n("a-popconfirm"),I=n("a-space"),z=n("a-table"),M=N("loading");return s(),y("div",J,[e(p,{class:"head"},{default:t(()=>[e(i,{type:"primary",onClick:o},{icon:t(()=>[e(u)]),default:t(()=>[L]),_:1})]),_:1}),w("section",O,[q((s(),d(z,{data:m.value,"row-key":"name",scroll:{x:"100%",y:"100%",minWidth:900},pagination:!1,expandable:{width:80}},{"expand-icon":t(({expanded:a})=>[a?(s(),d(D,{key:0})):(s(),d(k,{key:1}))]),columns:t(()=>[e(c,{title:"\u83DC\u5355\u540D\u79F0"},{cell:t(({record:a})=>[F(E(a.name),1)]),_:1}),e(c,{title:"\u83DC\u5355\u5730\u5740","data-index":"path"},{cell:t(({record:a})=>[a.path?(s(),y("span",P,E(a.path),1)):(s(),y("span",Q,"\u65E0"))]),_:1}),e(c,{title:"\u83DC\u5355\u56FE\u6807","data-index":"icon",width:200},{cell:t(({record:a})=>[a.icon?(s(),d(C,{key:0,size:24,name:a.icon},null,8,["name"])):(s(),y("span",X,"\u65E0"))]),_:1}),e(c,{title:"\u662F\u5426\u7F13\u5B58",width:200},{cell:t(({record:a})=>[a.keepAlive?(s(),d(i,{key:0,status:"success",size:"mini"},{icon:t(()=>[Y]),_:1})):(s(),d(i,{key:1,status:"danger",size:"mini"},{icon:t(()=>[Z]),_:1}))]),_:1}),e(c,{title:"\u662F\u5426\u9690\u85CF","data-index":"hidden",width:200},{cell:t(({record:a})=>[a.hidden?(s(),d(i,{key:0,status:"success",size:"mini"},{icon:t(()=>[ee]),_:1})):(s(),d(i,{key:1,status:"danger",size:"mini"},{icon:t(()=>[te]),_:1}))]),_:1}),e(c,{title:"\u64CD\u4F5C",width:100},{cell:t(({record:a})=>[e(I,null,{default:t(()=>[e(i,{type:"primary",size:"mini",onClick:ue=>B(a)},{icon:t(()=>[e(l)]),_:2},1032,["onClick"]),e(A,{type:"warning",content:"\u60A8\u786E\u5B9A\u8981\u5220\u9664\u8BE5\u9879\u5417?"},{default:t(()=>[e(i,{type:"primary",status:"danger",size:"mini"},{icon:t(()=>[e(V)]),_:1})]),_:1})]),_:2},1024)]),_:1})]),_:1},8,["data"])),[[M,_.value]])]),e(K,{ref_key:"EditMenuModalRef",ref:v},null,512)])}}});const se=H(ae,[["__scopeId","data-v-1368ef92"]]);export{se as default};
