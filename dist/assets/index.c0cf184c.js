import{b as R}from"./index.40dfc60e.js";import{d as D,g as z,h as o,o as m,l as g,w as a,b as e,i as I,y as M,j as p,_ as S,r as f,eA as U,c as T,a as y,P as $,I as N,p as P,e as j,M as q}from"./index.6bab35fc.js";import{b as L}from"./system.6a31d783.js";const O=p("role_"),W=D({__name:"AddRoleModal",props:{modelValue:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(d,{emit:c}){const _=R(d,"modelValue",c),n=z({name:"",roleCode:"",remarks:""});return(B,u)=>{const s=o("a-input"),l=o("a-form-item"),x=o("a-textarea"),r=o("a-form"),F=o("a-modal");return m(),g(F,{visible:I(_),"onUpdate:visible":u[3]||(u[3]=t=>M(_)?_.value=t:null),title:"\u65B0\u589E\u89D2\u8272"},{default:a(()=>[e(r,null,{default:a(()=>[e(l,{label:"\u89D2\u8272\u540D\u79F0",name:"name",field:"name",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u89D2\u8272\u540D\u79F0",trigger:"blur"},{min:3,max:10,message:"\u957F\u5EA6\u5728 3 - 10\u4E2A\u5B57\u7B26",trigger:"blur"}],"validate-trigger":["change","input"]},{default:a(()=>[e(s,{placeholder:"\u8BF7\u8F93\u5165\u89D2\u8272\u540D\u79F0",modelValue:n.name,"onUpdate:modelValue":u[0]||(u[0]=t=>n.name=t)},null,8,["modelValue"])]),_:1}),e(l,{label:"\u89D2\u8272\u7F16\u53F7",name:"roleCode"},{default:a(()=>[e(s,{placeholder:"\u8BF7\u8F93\u5165\u89D2\u8272\u7F16\u53F7",modelValue:n.roleCode,"onUpdate:modelValue":u[1]||(u[1]=t=>n.roleCode=t)},{prepend:a(()=>[O]),_:1},8,["modelValue"])]),_:1}),e(l,{label:"\u63CF\u8FF0",name:"remarks"},{default:a(()=>[e(x,{modelValue:n.remarks,"onUpdate:modelValue":u[2]||(u[2]=t=>n.remarks=t),placeholder:"\u89D2\u8272\u63CF\u8FF0","auto-size":{minRows:3,maxRows:5}},null,8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["visible"])}}});const G=d=>(P("data-v-1da57c56"),d=d(),j(),d),H={class:"role-manage"},J=G(()=>y("span",null,"\u65B0\u589E\u89D2\u8272",-1)),K={class:"table-box"},Q=p("\u6B63\u5E38"),X=p("\u7981\u7528"),Y=p("\u83DC\u5355\u6743\u9650"),Z=D({__name:"index",setup(d){const c=f(!1),v=f([]),_=f(0),n=f(!1);(async()=>{try{c.value=!0;const s=await L();s.success&&(v.value=s.data.list,_.value=s.data.total,c.value=!1)}catch(s){return s}})();const u=()=>{q.info("\u70B9\u51FB\u4E86\u786E\u8BA4\u6309\u94AE")};return(s,l)=>{const x=o("icon-plus"),r=o("a-button"),F=o("a-row"),t=o("a-table-column"),b=o("a-tag"),w=o("icon-delete"),V=o("a-popconfirm"),h=o("icon-edit"),C=o("icon-safe"),k=o("a-space"),E=o("a-table"),A=U("loading");return m(),T("div",H,[e(F,{class:"head"},{default:a(()=>[e(r,{type:"primary",onClick:l[0]||(l[0]=i=>n.value=!0)},{icon:a(()=>[e(x)]),default:a(()=>[J]),_:1})]),_:1}),y("section",K,[$((m(),g(E,{data:v.value,"row-key":"id",scroll:{x:"100%",y:"100%",minWidth:900},pagination:{showPageSize:!0}},{columns:a(()=>[e(t,{title:"\u5E8F\u53F7",width:60},{cell:a(i=>[p(N(i.rowIndex+1),1)]),_:1}),e(t,{title:"\u89D2\u8272\u540D\u79F0","data-index":"name"}),e(t,{title:"\u89D2\u8272\u7F16\u53F7","data-index":"roleCode"}),e(t,{title:"\u72B6\u6001",width:100},{cell:a(({record:i})=>[i.status==1?(m(),g(b,{key:0,color:"green"},{default:a(()=>[Q]),_:1})):(m(),g(b,{key:1,color:"red"},{default:a(()=>[X]),_:1}))]),_:1}),e(t,{title:"\u89D2\u8272\u63CF\u8FF0","data-index":"description"}),e(t,{title:"\u521B\u5EFA\u65F6\u95F4","data-index":"createTime"}),e(t,{title:"\u64CD\u4F5C",width:220,align:"center"},{cell:a(({record:i})=>[e(k,null,{default:a(()=>[e(V,{type:"warning",content:"\u60A8\u786E\u5B9A\u8981\u5220\u9664\u8BE5\u9879\u5417?",onOk:u},{default:a(()=>[e(r,{type:"primary",status:"danger",size:"mini"},{icon:a(()=>[e(w)]),_:1})]),_:1}),e(r,{type:"primary",size:"mini",onClick:l[1]||(l[1]=ee=>n.value=!0)},{icon:a(()=>[e(h)]),_:1}),e(r,{type:"primary",status:"success",size:"mini"},{icon:a(()=>[e(C)]),default:a(()=>[Y]),_:1})]),_:1})]),_:1})]),_:1},8,["data"])),[[A,c.value]])]),e(W,{modelValue:n.value,"onUpdate:modelValue":l[2]||(l[2]=i=>n.value=i)},null,8,["modelValue"])])}}});var ne=S(Z,[["__scopeId","data-v-1da57c56"]]);export{ne as default};
