import{d as a,b as e,k as s,Y as l,e as o,o as t,c as u,w as i,B as n,i as d,s as v,g as r,h as c,t as p,an as f,T as x,_ as m}from"./index-nwng0QS3.js";import{u as g,f as _,g as y}from"./index-BHeqEjUV.js";const h={style:{padding:"10px 14px 14px 14px"}},C={class:"audio-name"},k=["src"],S=m(a({__name:"ModalContent",props:{data:{},onClose:{}},setup(a){const m=a,S=e(!1),b=e(null),w=e(null),I=s((()=>{var a;return(null==(a=m.data)?void 0:a.src)||""}));l((()=>{S.value=!0}));const{width:J,height:N}=g(),{width:Y,height:j}=_(b),z=e({top:40,left:J.value-Y.value}),A=JSON.parse(sessionStorage.getItem("AudioDialogXY"));A&&A.top&&A.left&&(z.value.top=A.top,z.value.left=A.left);const{x:D,y:O}=y(b,{initialValue:{x:z.value.left-Y.value,y:z.value.top}}),R=s((()=>{let a=D.value,e=O.value;return D.value>J.value-Y.value&&(a=J.value-Y.value),D.value<0&&(a=0),O.value>N.value-j.value&&(e=N.value-j.value),O.value<0&&(e=0),sessionStorage.setItem("AudioDialogXY",JSON.stringify({top:e,left:a})),{left:`${a}px`,top:`${e}px`}})),X=()=>{S.value=!1,m.onClose&&m.onClose()};return(a,e)=>{const s=o("icon-music"),l=o("icon-close");return t(),u(x,{name:"slide-dynamic-origin"},{default:i((()=>{var a,e;return[n(d("div",{ref_key:"audioRef",ref:b,class:"audio-box",style:v(r(R))},[d("section",h,[d("div",{ref_key:"audioHeadRef",ref:w,class:"audio-box__header"},[d("div",C,[c(s,{size:16,spin:""}),d("span",null,p(null==(a=m.data)?void 0:a.name)+"."+p(null==(e=m.data)?void 0:e.extendName),1)]),d("div",{class:"close-icon",onClick:X},[c(l,{size:12})])],512),d("audio",{class:"audio",src:r(I),controls:"",autoplay:""},null,8,k)])],4),[[f,r(S)]])]})),_:1})}}}),[["__scopeId","data-v-7608e815"]]);export{S as default};
