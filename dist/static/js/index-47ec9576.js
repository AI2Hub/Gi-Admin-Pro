import{d as e,g as a,r as l,o as t,c as n,a as i,w as d,u as r,e as o,f as c,h as u,t as s,I as p,eM as _,eN as f,i as y,p as m,j as v,_ as g}from"./index-2d829550.js";import{_ as h}from"./AddMenuModal.vue_vue_type_script_setup_true_lang-5dde1056.js";import"./index-349c89d2.js";const k=e=>(m("data-v-c1d715ca"),e=e(),v(),e),w={class:"gi_page_scroll_y menu-manage"},x=k((()=>u("span",null,"新增",-1))),b=k((()=>u("span",null,"搜索",-1))),I=k((()=>u("span",null,"重置",-1))),M={class:"gi_mt"},j=k((()=>u("span",null,"编辑",-1))),z=k((()=>u("span",null,"删除",-1))),A=g(e({name:"SystemMenu",__name:"index",setup(e){const m=a(),v=a(!1),g=a([]),k=a(),A=a(!1),C=()=>{var e;A.value=!A.value,null==(e=k.value)||e.expandAll(A.value)};(async()=>{try{const e=await f();g.value=e.data}catch(e){}finally{v.value=!1}})();const R=()=>{var e;null==(e=m.value)||e.add()};return(e,a)=>{const f=l("icon-plus"),S=l("a-button"),D=l("icon-list"),N=l("icon-mind-mapping"),T=l("a-tooltip"),W=l("a-space"),q=l("icon-search"),B=l("a-input"),E=l("a-option"),F=l("a-select"),G=l("icon-refresh"),H=l("a-row"),J=l("IconDown"),K=l("IconRight"),L=l("a-table-column"),O=y,P=l("a-tag"),Q=l("icon-edit"),U=l("icon-delete"),V=l("a-popconfirm"),X=l("a-table"),Y=l("a-card");return t(),n("div",w,[i(Y,{title:"菜单管理"},{default:d((()=>[i(H,{justify:"space-between"},{default:d((()=>[i(W,null,{default:d((()=>[i(S,{type:"primary",onClick:R},{icon:d((()=>[i(f)])),default:d((()=>[x])),_:1}),i(T,{content:"展开/折叠"},{default:d((()=>[i(S,{type:"primary",status:"success",onClick:C},{icon:d((()=>[r(A)?(t(),o(N,{key:1})):(t(),o(D,{key:0}))])),_:1})])),_:1})])),_:1}),i(W,null,{default:d((()=>[i(B,{placeholder:"输入菜单名称搜索","allow-clear":"",style:{width:"250px"}},{prefix:d((()=>[i(q)])),_:1}),i(F,{placeholder:"菜单状态",style:{width:"120px"}},{default:d((()=>[i(E,{value:1},{default:d((()=>[c("正常")])),_:1}),i(E,{value:0},{default:d((()=>[c("禁用")])),_:1})])),_:1}),i(S,{type:"primary"},{icon:d((()=>[i(q)])),default:d((()=>[b])),_:1}),i(S,null,{icon:d((()=>[i(G)])),default:d((()=>[I])),_:1})])),_:1})])),_:1}),u("section",M,[i(X,{ref_key:"TableRef",ref:k,data:r(g),"row-key":"path",loading:r(v),scroll:{x:"100%",y:"100%",minWidth:900},pagination:!1,expandable:{width:80}},{"expand-icon":d((({expanded:e})=>[e?(t(),o(J,{key:0})):(t(),o(K,{key:1}))])),columns:d((()=>[i(L,{title:"菜单名称"},{cell:d((({record:e})=>{var a;return[c(s((null==(a=e.meta)?void 0:a.title)||""),1)]})),_:1}),i(L,{title:"排序","data-index":"meta.sort",width:80,align:"center"},{cell:d((({record:e})=>{var a;return[c(s((null==(a=e.meta)?void 0:a.sort)||0),1)]})),_:1}),i(L,{title:"组件路径","data-index":"path"}),i(L,{title:"菜单图标","data-index":"icon",width:100,align:"center"},{cell:d((({record:e})=>{var a,l,n;return[(null==(a=e.meta)?void 0:a.svgIcon)?(t(),o(O,{key:0,size:24,name:null==(l=e.meta)?void 0:l.svgIcon},null,8,["name"])):(t(),o(p(null==(n=e.meta)?void 0:n.icon),{key:1,size:24}))]})),_:1}),i(L,{title:"是否缓存",width:100,align:"center"},{cell:d((({record:e})=>{var a;return[(null==(a=e.meta)?void 0:a.keepAlive)?(t(),o(P,{key:0,color:"green"},{default:d((()=>[c("是")])),_:1})):(t(),o(P,{key:1,color:"red"},{default:d((()=>[c("否")])),_:1}))]})),_:1}),i(L,{title:"是否隐藏","data-index":"hidden",width:100,align:"center"},{cell:d((({record:e})=>{var a;return[(null==(a=e.meta)?void 0:a.hidden)?(t(),o(P,{key:0,color:"green"},{default:d((()=>[c("是")])),_:1})):(t(),o(P,{key:1,color:"red"},{default:d((()=>[c("否")])),_:1}))]})),_:1}),i(L,{title:"是否外链",width:100,align:"center"},{cell:d((({record:e})=>[r(_)(e.path)?(t(),o(P,{key:0,color:"green"},{default:d((()=>[c("是")])),_:1})):(t(),o(P,{key:1,color:"red"},{default:d((()=>[c("否")])),_:1}))])),_:1}),i(L,{title:"操作",width:200,align:"center",fixed:"right"},{cell:d((({record:e})=>[i(W,null,{default:d((()=>[i(S,{type:"primary",size:"mini",onClick:a=>{return l=e,void(null==(t=m.value)||t.edit(l.path));var l,t}},{icon:d((()=>[i(Q)])),default:d((()=>[j])),_:2},1032,["onClick"]),i(V,{type:"warning",content:"您确定要删除该项吗?"},{default:d((()=>[i(S,{type:"primary",status:"danger",size:"mini"},{icon:d((()=>[i(U)])),default:d((()=>[z])),_:1})])),_:1})])),_:2},1024)])),_:1})])),_:1},8,["data","loading"])])])),_:1}),i(h,{ref_key:"AddMenuModalRef",ref:m},null,512)])}}}),[["__scopeId","data-v-c1d715ca"]]);export{A as default};
