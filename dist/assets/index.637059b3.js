import"./index.e8660781.js";import{d as C,r as U,D as M,i as o,o as i,k as c,w as t,b as e,u as l,j as h,_ as N,G as R,f as k,c as v,a as x,N as T,a2 as G,J as q,p as j,e as J,l as D}from"./index.195bc1d1.js";const $=C({props:{modelValue:{type:Boolean,default:!1},treeData:{type:Array,default:()=>[]}},emits:["update:modelValue"],setup(m,{emit:F}){const f=m,a=U({parentId:"",name:"",path:"",icon:"",keepAlive:!1,hidden:!1});let r=M({get:()=>f.modelValue,set:y=>{F("update:modelValue",y)}});return(y,s)=>{const _=o("a-tree-select"),p=o("a-form-item"),d=o("a-input"),g=o("a-switch"),V=o("a-form"),b=o("a-modal");return i(),c(b,{visible:l(r),"onUpdate:visible":s[5]||(s[5]=u=>h(r)?r.value=u:r=u),title:"\u65B0\u589E\u83DC\u5355"},{default:t(()=>[e(V,{ref:"formRef",model:l(a),labelCol:{span:4}},{default:t(()=>[e(p,{label:"\u4E0A\u7EA7\u83DC\u5355",parentId:"name"},{default:t(()=>[e(_,{data:m.treeData,modelValue:l(a).parentId,"onUpdate:modelValue":s[0]||(s[0]=u=>l(a).parentId=u),placeholder:"\u8BF7\u9009\u62E9","field-names":{key:"id",title:"name",children:"children"}},null,8,["data","modelValue"])]),_:1}),e(p,{label:"\u83DC\u5355\u540D\u79F0",field:"name",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u83DC\u5355\u540D\u79F0",trigger:"blur"},{min:3,max:10,message:"\u957F\u5EA6\u5728 3 - 10\u4E2A\u5B57\u7B26",trigger:"blur"}],"validate-trigger":["change","input"]},{default:t(()=>[e(d,{placeholder:"\u8BF7\u8F93\u5165\u83DC\u5355\u540D\u79F0",modelValue:l(a).name,"onUpdate:modelValue":s[1]||(s[1]=u=>l(a).name=u)},null,8,["modelValue"])]),_:1}),e(p,{label:"\u83DC\u5355\u5730\u5740",field:"path",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u83DC\u5355\u5730\u5740",trigger:"blur"},{min:3,max:10,message:"\u957F\u5EA6\u5728 3 - 30\u4E2A\u5B57\u7B26",trigger:"blur"}],"validate-trigger":["change","input"]},{default:t(()=>[e(d,{placeholder:"\u8BF7\u8F93\u5165\u83DC\u5355\u5730\u5740",modelValue:l(a).path,"onUpdate:modelValue":s[2]||(s[2]=u=>l(a).path=u)},null,8,["modelValue"])]),_:1}),e(p,{label:"\u662F\u5426\u7F13\u5B58",name:"keepAlive"},{default:t(()=>[e(g,{size:"medium",modelValue:l(a).keepAlive,"onUpdate:modelValue":s[3]||(s[3]=u=>l(a).keepAlive=u)},null,8,["modelValue"])]),_:1}),e(p,{label:"\u662F\u5426\u9690\u85CF",name:"hidden"},{default:t(()=>[e(g,{size:"medium",modelValue:l(a).hidden,"onUpdate:modelValue":s[4]||(s[4]=u=>l(a).hidden=u)},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["visible"])}}});const H=m=>(j("data-v-21a36fd8"),m=m(),J(),m),K={class:"menu-manage"},L=H(()=>x("span",null,"\u65B0\u589E\u83DC\u5355",-1)),O={class:"table-box"},P={key:0},Q={key:1,class:"no-text"},W={key:1,class:"no-text"},X=D("\u662F"),Y=D("\u5426"),Z=D("\u662F"),ee=D("\u5426"),te=C({setup(m){const F=R();let f=k(!1),a=k(!1),r=k([]);return(()=>{f.value=!0,setTimeout(()=>{r.value=F.list,f.value=!1},300)})(),(s,_)=>{const p=o("icon-plus"),d=o("a-button"),g=o("a-row"),V=o("IconDown"),b=o("IconRight"),u=o("a-table-column"),B=o("GiSvgIcon"),w=o("icon-edit"),A=o("icon-delete"),E=o("a-popconfirm"),I=o("a-space"),S=o("a-table"),z=G("loading");return i(),v("div",K,[e(g,{class:"head"},{default:t(()=>[e(d,{type:"primary",onClick:_[0]||(_[0]=n=>h(a)?a.value=!0:a=!0)},{icon:t(()=>[e(p)]),default:t(()=>[L]),_:1})]),_:1}),x("section",O,[T((i(),c(S,{data:l(r),"row-key":"id",scroll:{x:"100%",y:"100%"},pagination:!1,expandable:{width:80}},{"expand-icon":t(({expanded:n})=>[n?(i(),c(V,{key:0})):(i(),c(b,{key:1}))]),columns:t(()=>[e(u,{title:"\u83DC\u5355\u540D\u79F0","data-index":"name"}),e(u,{title:"\u83DC\u5355\u5730\u5740","data-index":"path"},{cell:t(({record:n})=>[n.path?(i(),v("span",P,q(n.path),1)):(i(),v("span",Q,"\u65E0"))]),_:1}),e(u,{title:"\u83DC\u5355\u56FE\u6807","data-index":"icon",width:"200"},{cell:t(({record:n})=>[n.icon?(i(),c(B,{key:0,size:24,name:n.icon},null,8,["name"])):(i(),v("span",W,"\u65E0"))]),_:1}),e(u,{title:"\u662F\u5426\u7F13\u5B58","data-index":"keepAlive",width:"200"},{cell:t(({record:n})=>[n.keepAlive?(i(),c(d,{key:0,status:"success",size:"mini"},{icon:t(()=>[X]),_:1})):(i(),c(d,{key:1,status:"danger",size:"mini"},{icon:t(()=>[Y]),_:1}))]),_:1}),e(u,{title:"\u662F\u5426\u9690\u85CF","data-index":"hidden",width:"200"},{cell:t(({record:n})=>[n.hidden?(i(),c(d,{key:0,status:"success",size:"mini"},{icon:t(()=>[Z]),_:1})):(i(),c(d,{key:1,status:"danger",size:"mini"},{icon:t(()=>[ee]),_:1}))]),_:1}),e(u,{title:"\u64CD\u4F5C",width:"100"},{cell:t(({record:n})=>[e(I,null,{default:t(()=>[e(d,{type:"primary",onClick:_[1]||(_[1]=ae=>h(a)?a.value=!0:a=!0)},{icon:t(()=>[e(w)]),_:1}),e(E,{content:"\u4F60\u786E\u5B9A\u8981\u5220\u9664\u8BE5\u9879\u5417?"},{default:t(()=>[e(d,{type:"primary",status:"danger"},{icon:t(()=>[e(A)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["data"])),[[z,l(f)]])]),e($,{"tree-data":l(r),modelValue:l(a),"onUpdate:modelValue":_[2]||(_[2]=n=>h(a)?a.value=n:a=n)},null,8,["tree-data","modelValue"])])}}});var ne=N(te,[["__scopeId","data-v-21a36fd8"]]);export{ne as default};
