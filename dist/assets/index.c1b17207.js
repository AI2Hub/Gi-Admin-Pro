var Y=Object.defineProperty,Z=Object.defineProperties;var q=Object.getOwnPropertyDescriptors;var U=Object.getOwnPropertySymbols;var H=Object.prototype.hasOwnProperty,Q=Object.prototype.propertyIsEnumerable;var j=(s,n,l)=>n in s?Y(s,n,{enumerable:!0,configurable:!0,writable:!0,value:l}):s[n]=l,L=(s,n)=>{for(var l in n||(n={}))H.call(n,l)&&j(s,l,n[l]);if(U)for(var l of U(n))Q.call(n,l)&&j(s,l,n[l]);return s},N=(s,n)=>Z(s,q(n));import{_ as ee}from"./GiFooter.17e4d34a.js";import{g as te}from"./index.5fa07cce.js";import{_ as K,d as O,eJ as oe,eK as ne,r as p,h as o,o as x,c as W,b as e,w as t,s as J,i as c,l as R,a as F,eL as ae,J as se,X as le,Z as ie,j as u,eA as ue,P as ce,I as M,Y as _e,p as re,e as de,M as I}from"./index.68efc988.js";import"./index.88aaa5a8.js";import{u as pe}from"./usePagination.c7ad29a1.js";import"./viewer.761483c3.js";import{g as me}from"./table.e1faa7e3.js";const fe=u("\u5C0F"),ge=u("\u9ED8\u8BA4"),ve=u("\u4E2D"),he=u("\u5927"),be={class:"table-box"},xe={name:"GiTable",inheritAttrs:!1},ye=O(N(L({},xe),{emits:["refresh"],setup(s,{expose:n,emit:l}){const y=oe(),z=ne(),C=p(null),v=p(!1),h=p("small"),b=p(!0),m=p(null),{isFullscreen:w,toggle:k}=te(m),E=()=>{l("refresh")};return n({tableRef:C}),(_,d)=>{const B=o("a-space"),r=o("a-switch"),f=o("a-tooltip"),S=o("icon-refresh"),i=o("a-button"),V=o("icon-fullscreen"),A=o("icon-fullscreen-exit"),D=o("icon-apps"),g=o("a-radio"),T=o("a-radio-group"),$=o("a-row"),P=o("a-table");return x(),W("div",{class:ie(["gi-table",{fullscreen:c(w)}]),ref_key:"giTableRef",ref:m},[e($,{justify:"space-between"},{default:t(()=>[e(B,null,{default:t(()=>[J(_.$slots,"left",{},void 0,!0)]),_:3}),e(B,{size:15},{default:t(()=>[e(f,{content:"\u6591\u9A6C\u7EB9"},{default:t(()=>[e(r,{modelValue:v.value,"onUpdate:modelValue":d[0]||(d[0]=a=>v.value=a),size:"medium"},null,8,["modelValue"])]),_:1}),e(f,{content:"\u5237\u65B0"},{default:t(()=>[e(i,{size:"mini",class:"gi_hover_btn",onClick:E},{icon:t(()=>[e(S,{size:18})]),_:1})]),_:1}),e(f,{content:"\u5168\u5C4F"},{default:t(()=>[e(i,{size:"mini",class:"gi_hover_btn",onClick:c(k)},{icon:t(()=>[c(w)?(x(),R(A,{key:1,size:18})):(x(),R(V,{key:0,size:18}))]),_:1},8,["onClick"])]),_:1}),e(f,{content:"\u663E\u793A\u8FB9\u6846"},{default:t(()=>[e(i,{size:"mini",class:"gi_hover_btn",onClick:d[1]||(d[1]=a=>b.value=!b.value)},{icon:t(()=>[e(D,{size:18})]),_:1})]),_:1}),e(T,{type:"button",size:"mini",modelValue:h.value,"onUpdate:modelValue":d[2]||(d[2]=a=>h.value=a)},{default:t(()=>[e(g,{value:"mini"},{default:t(()=>[fe]),_:1}),e(g,{value:"small"},{default:t(()=>[ge]),_:1}),e(g,{value:"medium"},{default:t(()=>[ve]),_:1}),e(g,{value:"large"},{default:t(()=>[he]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:3}),F("div",be,[e(P,le(c(y),{stripe:v.value,size:h.value,bordered:{cell:b.value},ref_key:"tableRef",ref:C}),ae({_:2},[se(Object.keys(c(z)),a=>({name:a,fn:t(()=>[J(_.$slots,a,{},void 0,!0)])}))]),1040,["stripe","size","bordered"])])],2)}}}));var ze=K(ye,[["__scopeId","data-v-52fbc251"]]);const G=s=>(re("data-v-2b2d875f"),s=s(),de(),s),Ce={class:"table-page"},we=G(()=>F("span",null,"\u65B0\u589E",-1)),Be=G(()=>F("span",null,"\u5220\u9664",-1)),Fe=G(()=>F("span",null,"\u5BFC\u5165",-1)),ke=u("\u5F00\u542F"),Ee=u("\u5173\u95ED"),Se=u("\u4FEE\u6539"),Ve=u("\u8BE6\u60C5"),Ae=u("\u5220\u9664"),De=O({__name:"index",setup(s){const n=p(!1),l=p([]),{current:y,pageSize:z,total:C,changeCurrent:v,changePageSize:h,setTotal:b}=pe(()=>{m()}),m=async()=>{try{n.value=!0;const _=await me({current:y.value,pageSize:z.value});l.value=_.data.list,b(_.data.total)}catch(_){return _}finally{n.value=!1}};m();const w=()=>{I.info("\u70B9\u51FB\u4E86\u65B0\u589E")},k=()=>{I.info("\u70B9\u51FB\u4E86\u5220\u9664")},E=()=>{I.info("\u70B9\u51FB\u4E86\u5BFC\u5165")};return(_,d)=>{const B=o("icon-plus"),r=o("a-button"),f=o("icon-delete"),S=o("icon-export"),i=o("a-table-column"),V=o("a-avatar"),A=o("a-switch"),D=o("a-popconfirm"),g=o("a-space"),T=ze,$=ee,P=ue("loading");return x(),W("div",Ce,[ce((x(),R(T,{"row-key":"id",data:l.value,scroll:{x:"100%",y:"100%",minWidth:1e3},"row-selection":{type:"checkbox",showCheckedAll:!0},pagination:{showPageSize:!0,total:c(C),current:c(y),pageSize:c(z)},onPageChange:c(v),onPageSizeChange:c(h),onRefresh:m},{left:t(()=>[e(r,{type:"primary",onClick:w},{icon:t(()=>[e(B)]),default:t(()=>[we]),_:1}),e(r,{type:"primary",status:"danger",onClick:k},{icon:t(()=>[e(f)]),default:t(()=>[Be]),_:1}),e(r,{onClick:E},{icon:t(()=>[e(S)]),default:t(()=>[Fe]),_:1})]),columns:t(()=>[e(i,{title:"\u5E8F\u53F7",width:68},{cell:t(a=>[u(M(a.rowIndex+1),1)]),_:1}),e(i,{title:"\u59D3\u540D","data-index":"name"}),e(i,{title:"\u5934\u50CF",width:100},{cell:t(({record:a})=>[e(V,{size:30,style:_e({backgroundColor:a.color})},{default:t(()=>[u(M(a.name[0]),1)]),_:2},1032,["style"])]),_:1}),e(i,{title:"\u624B\u673A\u53F7","data-index":"phone",width:150}),e(i,{title:"\u521B\u5EFA\u65F6\u95F4","data-index":"startTime"}),e(i,{title:"\u5730\u5740","data-index":"address"}),e(i,{title:"\u72B6\u6001",width:100},{cell:t(({record:a})=>[e(A,{modelValue:a.status,"onUpdate:modelValue":X=>a.status=X,size:"medium"},{checked:t(()=>[ke]),unchecked:t(()=>[Ee]),_:2},1032,["modelValue","onUpdate:modelValue"])]),_:1}),e(i,{title:"\u64CD\u4F5C",width:200},{cell:t(({record:a})=>[e(g,null,{default:t(()=>[e(r,{type:"primary",size:"mini"},{default:t(()=>[Se]),_:1}),e(r,{size:"mini"},{default:t(()=>[Ve]),_:1}),e(D,{type:"warning",content:"\u60A8\u786E\u5B9A\u8981\u5220\u9664\u8BE5\u9879\u5417?"},{default:t(()=>[e(r,{type:"primary",status:"danger",size:"mini"},{default:t(()=>[Ae]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["data","pagination","onPageChange","onPageSizeChange"])),[[P,n.value]]),e($)])}}});var Le=K(De,[["__scopeId","data-v-2b2d875f"]]);export{Le as default};
