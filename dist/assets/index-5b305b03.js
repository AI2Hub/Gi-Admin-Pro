import{_ as Q}from"./EditDeptModal.vue_vue_type_script_setup_true_lang-bceeb4fb.js";import{u as W}from"./useDept-9fbc6bab.js";import{d as q,g as b,Q as F,r as n,o as l,c as G,a as e,w as t,u as _,f as y,h as i,e as m,E as H,p as J,j as K,_ as O}from"./index-cf2c3459.js";import"./index-4cdbcf33.js";const r=f=>(J("data-v-5c5c6e47"),f=f(),K(),f),P={class:"dept-manage"},X=r(()=>i("span",null,"部门名称",-1)),Y=r(()=>i("span",null,"状态",-1)),Z=r(()=>i("span",null,"搜索",-1)),ee=r(()=>i("span",null,"重置",-1)),te=r(()=>i("span",null,"新增部门",-1)),ne={class:"table-box"},oe=q({name:"SystemDept",__name:"index",setup(f){const{deptList:C,getDeptList:x}=W();x();const h=b(),V=b(!1),s=F({name:"",status:""}),I=()=>{x()},D=()=>{s.name="",s.status=""},w=()=>{var d;(d=h.value)==null||d.add()},E=d=>{var a;(a=h.value)==null||a.edit(d.id)};return(d,a)=>{const R=n("a-input"),p=n("a-space"),g=n("a-option"),z=n("a-select"),B=n("icon-search"),c=n("a-button"),N=n("icon-sync"),k=n("icon-plus"),S=n("a-row"),$=n("IconDown"),L=n("IconRight"),u=n("a-table-column"),v=n("a-tag"),M=n("icon-edit"),T=n("icon-delete"),U=n("a-popconfirm"),j=n("a-table");return l(),G("div",P,[e(p,{size:20,class:"head"},{default:t(()=>[e(p,null,{default:t(()=>[X,e(R,{modelValue:_(s).name,"onUpdate:modelValue":a[0]||(a[0]=o=>_(s).name=o),placeholder:"请输入部门名称","allow-clear":"",style:{width:"250px"}},null,8,["modelValue"])]),_:1}),e(p,null,{default:t(()=>[Y,e(z,{modelValue:_(s).status,"onUpdate:modelValue":a[1]||(a[1]=o=>_(s).status=o),placeholder:"部门状态",style:{width:"120px"}},{default:t(()=>[e(g,{value:1},{default:t(()=>[y("正常")]),_:1}),e(g,{value:0},{default:t(()=>[y("禁用")]),_:1})]),_:1},8,["modelValue"])]),_:1}),e(p,null,{default:t(()=>[e(c,{type:"primary",onClick:I},{icon:t(()=>[e(B)]),default:t(()=>[Z]),_:1}),e(c,{onClick:D},{icon:t(()=>[e(N)]),default:t(()=>[ee]),_:1})]),_:1})]),_:1}),e(S,{class:"head"},{default:t(()=>[e(c,{type:"primary",onClick:w},{icon:t(()=>[e(k)]),default:t(()=>[te]),_:1})]),_:1}),i("section",ne,[e(j,{loading:_(V),ref:"tableRef","row-key":"id",data:_(C),scroll:{x:"100%",y:"100%",minWidth:900},pagination:!1,expandable:{width:80}},{"expand-icon":t(({expanded:o})=>[o?(l(),m($,{key:0})):(l(),m(L,{key:1}))]),columns:t(()=>[e(u,{title:"部门名称","data-index":"name"}),e(u,{title:"排序","data-index":"sort",width:100}),e(u,{title:"状态",width:100},{cell:t(({record:o})=>[o.status==1?(l(),m(v,{key:0,color:"green"},{default:t(()=>[y("正常")]),_:1})):(l(),m(v,{key:1,color:"red"},{default:t(()=>[y("禁用")]),_:1}))]),_:1}),e(u,{title:"创建时间","data-index":"createTime",width:200}),e(u,{title:"操作",width:150,align:"left"},{cell:t(({record:o})=>[e(p,null,{default:t(()=>[e(c,{type:"primary",size:"mini",onClick:A=>E(o)},{icon:t(()=>[e(M)]),_:2},1032,["onClick"]),o.parentId?(l(),m(c,{key:0,type:"primary",status:"success",size:"mini",onClick:a[2]||(a[2]=A=>w())},{icon:t(()=>[e(k)]),_:1})):H("",!0),e(U,{type:"warning",content:"您确定要删除该项吗?"},{default:t(()=>[e(c,{type:"primary",status:"danger",size:"mini"},{icon:t(()=>[e(T)]),_:1})]),_:1})]),_:2},1024)]),_:1})]),_:1},8,["loading","data"])]),e(Q,{ref_key:"EditDeptModalRef",ref:h},null,512)])}}});const _e=O(oe,[["__scopeId","data-v-5c5c6e47"]]);export{_e as default};
