var J=Object.defineProperty,K=Object.defineProperties;var Q=Object.getOwnPropertyDescriptors;var G=Object.getOwnPropertySymbols;var Y=Object.prototype.hasOwnProperty,Z=Object.prototype.propertyIsEnumerable;var N=(s,a,l)=>a in s?J(s,a,{enumerable:!0,configurable:!0,writable:!0,value:l}):s[a]=l,j=(s,a)=>{for(var l in a||(a={}))Y.call(a,l)&&N(s,l,a[l]);if(G)for(var l of G(a))Z.call(a,l)&&N(s,l,a[l]);return s},L=(s,a)=>K(s,Q(a));import{_ as ee}from"./GiFooter.7e8454f0.js";import{c as te}from"./index.291075ee.js";import{_ as W,d as X,a6 as oe,a7 as ae,f as p,g as o,o as x,c as q,b as e,w as t,B as M,k as u,j as R,a as k,a8 as ne,l as se,L as le,X as ie,h as c,U as ce,z as ue,t as O,N as _e,p as re,e as de,M as I}from"./index.118b2da1.js";import"./index.88aaa5a8.js";import{u as pe}from"./usePagination.21865fc8.js";import{g as me}from"./table.28a66b3d.js";import"./axios.1e8f3c56.js";const fe=c("\u5C0F"),ge=c("\u9ED8\u8BA4"),ve=c("\u4E2D"),he=c("\u5927"),be={class:"table-box"},xe={name:"GiTable",inheritAttrs:!1},ye=X(L(j({},xe),{emits:["refresh"],setup(s,{expose:a,emit:l}){const y=oe(),z=ae(),C=p(null),v=p(!1),h=p("small"),b=p(!0),m=p(null),{isFullscreen:B,toggle:F}=te(m),E=()=>{l("refresh")};return a({tableRef:C}),(_,d)=>{const w=o("a-space"),r=o("a-switch"),f=o("a-tooltip"),S=o("icon-refresh"),i=o("a-button"),V=o("icon-fullscreen"),D=o("icon-fullscreen-exit"),A=o("icon-apps"),g=o("a-radio"),T=o("a-radio-group"),$=o("a-row"),P=o("a-table");return x(),q("div",{class:ie(["gi-table",{fullscreen:u(B)}]),ref_key:"giTableRef",ref:m},[e($,{justify:"space-between"},{default:t(()=>[e(w,null,{default:t(()=>[M(_.$slots,"left",{},void 0,!0)]),_:3}),e(w,{size:15},{default:t(()=>[e(f,{content:"\u6591\u9A6C\u7EB9"},{default:t(()=>[e(r,{modelValue:v.value,"onUpdate:modelValue":d[0]||(d[0]=n=>v.value=n),size:"medium"},null,8,["modelValue"])]),_:1}),e(f,{content:"\u5237\u65B0"},{default:t(()=>[e(i,{size:"mini",class:"gi_hover_btn",onClick:E},{icon:t(()=>[e(S,{size:18})]),_:1})]),_:1}),e(f,{content:"\u5168\u5C4F"},{default:t(()=>[e(i,{size:"mini",class:"gi_hover_btn",onClick:u(F)},{icon:t(()=>[u(B)?(x(),R(D,{key:1,size:18})):(x(),R(V,{key:0,size:18}))]),_:1},8,["onClick"])]),_:1}),e(f,{content:"\u663E\u793A\u8FB9\u6846"},{default:t(()=>[e(i,{size:"mini",class:"gi_hover_btn",onClick:d[1]||(d[1]=n=>b.value=!b.value)},{icon:t(()=>[e(A,{size:18})]),_:1})]),_:1}),e(T,{type:"button",size:"mini",modelValue:h.value,"onUpdate:modelValue":d[2]||(d[2]=n=>h.value=n)},{default:t(()=>[e(g,{value:"mini"},{default:t(()=>[fe]),_:1}),e(g,{value:"small"},{default:t(()=>[ge]),_:1}),e(g,{value:"medium"},{default:t(()=>[ve]),_:1}),e(g,{value:"large"},{default:t(()=>[he]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:3}),k("div",be,[e(P,le(u(y),{stripe:v.value,size:h.value,bordered:{cell:b.value},ref_key:"tableRef",ref:C}),ne({_:2},[se(Object.keys(u(z)),n=>({name:n,fn:t(()=>[M(_.$slots,n,{},void 0,!0)])}))]),1040,["stripe","size","bordered"])])],2)}}}));var ze=W(ye,[["__scopeId","data-v-cec706c2"]]);const U=s=>(re("data-v-5fbdd7fa"),s=s(),de(),s),Ce={class:"table-page"},Be=U(()=>k("span",null,"\u65B0\u589E",-1)),we=U(()=>k("span",null,"\u5220\u9664",-1)),ke=U(()=>k("span",null,"\u5BFC\u5165",-1)),Fe=c("\u5F00\u542F"),Ee=c("\u5173\u95ED"),Se=c("\u4FEE\u6539"),Ve=c("\u8BE6\u60C5"),De=c("\u5220\u9664"),Ae=X({__name:"index",setup(s){const a=p(!1),l=p([]),{current:y,pageSize:z,total:C,changeCurrent:v,changePageSize:h,setTotal:b}=pe(()=>{m()}),m=async()=>{try{a.value=!0;const _=await me({current:y.value,pageSize:z.value});l.value=_.data.list,b(_.data.total)}catch(_){return _}finally{a.value=!1}};m();const B=()=>{I.info("\u70B9\u51FB\u4E86\u65B0\u589E")},F=()=>{I.info("\u70B9\u51FB\u4E86\u5220\u9664")},E=()=>{I.info("\u70B9\u51FB\u4E86\u5BFC\u5165")};return(_,d)=>{const w=o("icon-plus"),r=o("a-button"),f=o("icon-delete"),S=o("icon-export"),i=o("a-table-column"),V=o("a-avatar"),D=o("a-switch"),A=o("a-popconfirm"),g=o("a-space"),T=ze,$=ee,P=ce("loading");return x(),q("div",Ce,[ue((x(),R(T,{"row-key":"id",data:l.value,scroll:{x:"100%",y:"100%",minWidth:1e3},"row-selection":{type:"checkbox",showCheckedAll:!0},pagination:{showPageSize:!0,total:u(C),current:u(y),pageSize:u(z)},onPageChange:u(v),onPageSizeChange:u(h),onRefresh:m},{left:t(()=>[e(r,{type:"primary",onClick:B},{icon:t(()=>[e(w)]),default:t(()=>[Be]),_:1}),e(r,{type:"primary",status:"danger",onClick:F},{icon:t(()=>[e(f)]),default:t(()=>[we]),_:1}),e(r,{onClick:E},{icon:t(()=>[e(S)]),default:t(()=>[ke]),_:1})]),columns:t(()=>[e(i,{title:"\u5E8F\u53F7",width:68},{cell:t(n=>[c(O(n.rowIndex+1),1)]),_:1}),e(i,{title:"\u59D3\u540D","data-index":"name"}),e(i,{title:"\u5934\u50CF",width:100},{cell:t(({record:n})=>[e(V,{size:30,style:_e({backgroundColor:n.color})},{default:t(()=>[c(O(n.name[0]),1)]),_:2},1032,["style"])]),_:1}),e(i,{title:"\u624B\u673A\u53F7","data-index":"phone",width:150}),e(i,{title:"\u521B\u5EFA\u65F6\u95F4","data-index":"startTime"}),e(i,{title:"\u5730\u5740","data-index":"address"}),e(i,{title:"\u72B6\u6001",width:100},{cell:t(({record:n})=>[e(D,{modelValue:n.status,"onUpdate:modelValue":H=>n.status=H,size:"medium"},{checked:t(()=>[Fe]),unchecked:t(()=>[Ee]),_:2},1032,["modelValue","onUpdate:modelValue"])]),_:1}),e(i,{title:"\u64CD\u4F5C",width:200},{cell:t(({record:n})=>[e(g,null,{default:t(()=>[e(r,{type:"primary",size:"mini"},{default:t(()=>[Se]),_:1}),e(r,{size:"mini"},{default:t(()=>[Ve]),_:1}),e(A,{content:"\u60A8\u786E\u5B9A\u8981\u5220\u9664\u8BE5\u9879\u5417?"},{default:t(()=>[e(r,{type:"primary",status:"danger",size:"mini"},{default:t(()=>[De]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["data","pagination","onPageChange","onPageSizeChange"])),[[P,a.value]]),e($)])}}});var je=W(Ae,[["__scopeId","data-v-5fbdd7fa"]]);export{je as default};
