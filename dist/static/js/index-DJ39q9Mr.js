import{d as e,e as a,o as t,c as l,w as s,h as i,f as n,F as o,j as d,I as r,t as u,a as p,U as c,b as m,g as _,J as f,i as g,_ as x}from"./index-4GaN-tSn.js";import{_ as y}from"./GiCellGender.vue_vue_type_script_setup_true_lang-_WdM4ulJ.js";import{_ as b}from"./GiCellStatus.vue_vue_type_script_setup_true_lang-fAiV9UqF.js";import{_ as v}from"./GiCellAvatar.vue_vue_type_script_setup_true_lang-Bh5C2ysw.js";import{_ as h}from"./GiForm.vue_vue_type_script_setup_true_lang--X33-drI.js";import{u as w}from"./useBreakpoint-Bb40JIRv.js";import{u as j}from"./useBreakpointIndex-CzRqqTXY.js";import{b as z}from"./index-Cf-gO4YV.js";import{u as k}from"./useDict-DgkWgCKu.js";import"./index-D9QJmjK6.js";const T=e({name:"GiCellTags",__name:"GiCellTags",props:{data:{default:()=>[]}},setup:e=>(e,c)=>{const m=a("a-tag"),_=a("a-space"),f=a("a-popover"),g=a("a-overflow-list");return e.data.length?(t(),l(g,{key:0},{overflow:s((({number:a})=>[i(f,{"content-style":{maxWidth:"300px",padding:"8px 12px"}},{content:s((()=>[i(_,{wrap:""},{default:s((()=>[(t(!0),n(o,null,d(e.data.filter(((t,l)=>l>=e.data.length-a)),(e=>(t(),l(m,{key:e,size:"small"},{default:s((()=>[r(u(e),1)])),_:2},1024)))),128))])),_:2},1024)])),default:s((()=>[i(m,{color:"arcoblue",size:"small"},{default:s((()=>[r("+"+u(a),1)])),_:2},1024)])),_:2},1024)])),default:s((()=>[(t(!0),n(o,null,d(e.data,((e,a)=>(t(),l(m,{key:a,size:"small"},{default:s((()=>[r(u(e),1)])),_:2},1024)))),128))])),_:1})):p("",!0)}}),G={class:"table-page"},C={class:"gi_table_box"},B=x(e({name:"TableBase",__name:"index",setup(e){const{data:l}=k({code:"status"}),o=c({}),d=c({form:{layout:"inline"},col:{xs:24,sm:12,md:12,lg:8,xl:8,xxl:6},btns:{col:{xs:24,sm:12,md:12,lg:8,xl:8,xxl:6}},fold:{enable:!0,index:2,defaultCollapsed:!0}});j((e=>{d.fold&&(d.fold.index=e)}));const p=c([{type:"input",label:"姓名",field:"name"},{type:"input",label:"手机",field:"phone",props:{maxLength:11}},{type:"select",label:"状态",field:"status",options:l},{type:"date-picker",label:"创建日期",field:"createTime"},{type:"input",label:"地址",field:"address"}]),x=m(!1),B=m([]),{pagination:I,setTotal:S}=w((()=>V()));async function V(){try{x.value=!0;const e=await z({page:I.current,size:I.pageSize});B.value=e.data.records,S(e.data.total)}finally{x.value=!1}}V();const A=()=>{I.current=1,V()},D=()=>{V()},F=()=>new Promise((e=>setTimeout((()=>e(!0)),300)));return(e,l)=>{const c=h,m=a("a-table-column"),w=v,j=b,z=y,k=T,S=a("a-button"),V=a("a-popconfirm"),U=a("a-space"),W=a("a-table");return t(),n("div",G,[i(c,{modelValue:_(o),"onUpdate:modelValue":l[0]||(l[0]=e=>f(o)?o.value=e:null),options:_(d),columns:_(p),onSearch:A,onReset:D},null,8,["modelValue","options","columns"]),g("div",C,[i(W,{"row-key":"id","page-position":"bottom",bordered:{cell:!0},loading:_(x),data:_(B),scroll:{x:"100%",y:"100%",minWidth:1400},pagination:_(I)},{columns:s((()=>[i(m,{title:"序号",width:66,align:"center"},{cell:s((e=>[r(u(e.rowIndex+1),1)])),_:1}),i(m,{title:"姓名","data-index":"name",width:120},{cell:s((({record:e})=>[i(w,{avatar:e.avatar,name:e.name},null,8,["avatar","name"])])),_:1}),i(m,{title:"账户","data-index":"account",width:120}),i(m,{title:"状态",width:100,align:"center"},{cell:s((({record:e})=>[i(j,{status:e.status},null,8,["status"])])),_:1}),i(m,{title:"手机号","data-index":"phone",width:150}),i(m,{title:"性别","data-index":"gender",width:100,align:"center"},{cell:s((({record:e})=>[i(z,{gender:e.gender},null,8,["gender"])])),_:1}),i(m,{title:"爱好","data-index":"hobbys"},{cell:s((({record:e})=>[i(k,{data:e.hobbys},null,8,["data"])])),_:1}),i(m,{title:"创建时间","data-index":"createTime",width:180,sortable:{sortDirections:["ascend","descend"]}}),i(m,{title:"地址","data-index":"address",ellipsis:"",tooltip:""}),i(m,{title:"操作",width:200,align:"center",fixed:"right"},{cell:s((()=>[i(U,null,{default:s((()=>[i(S,{type:"primary",size:"mini"},{default:s((()=>[r("编辑")])),_:1}),i(S,{size:"mini"},{default:s((()=>[r("详情")])),_:1}),i(V,{type:"warning",content:"您确定要删除该项吗?",onBeforeOk:F},{default:s((()=>[i(S,{type:"primary",status:"danger",size:"mini"},{default:s((()=>[r("删除")])),_:1})])),_:1})])),_:1})])),_:1})])),_:1},8,["loading","data","pagination"])])])}}}),[["__scopeId","data-v-3d278cc5"]]);export{B as default};
