var G=Object.defineProperty,M=Object.defineProperties;var A=Object.getOwnPropertyDescriptors;var x=Object.getOwnPropertySymbols;var H=Object.prototype.hasOwnProperty,P=Object.prototype.propertyIsEnumerable;var y=(n,t,s)=>t in n?G(n,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):n[t]=s,h=(n,t)=>{for(var s in t||(t={}))H.call(t,s)&&y(n,s,t[s]);if(x)for(var s of x(t))P.call(t,s)&&y(n,s,t[s]);return n},k=(n,t)=>M(n,A(t));import{g as j,a as q}from"./system.7bd9325c.js";import{_ as J,c as K}from"./index.dd880750.js";import{e as b,p as u,B as O,o as _,g as d,C as w,u as B,a as e,h as D,w as a,c as Q,r as c,a2 as R,H as r,t as W}from"./vendor.f5ffb9c3.js";import"./axios.de507c21.js";const X={class:"user-manage"},Y={class:"left"},Z={class:"right"},$=r("\u65B0\u589E"),ee={class:"table-box"},te={key:0},ae={key:1},se=r("\u6B63\u5E38"),oe=r("\u7981\u7528"),ne=b({name:"UserManage"}),ce=b(k(h({},ne),{setup(n){let t=u(!1);const s=u([]);let p=u(!1);const v=u([]);let F=u(0);(async()=>{try{t.value=!0;const o=await j({});o.success&&(s.value=o.data.list,t.value=!1)}catch(o){return t.value=!1,o}})();const C=O({pageCount:1,pageSize:500}),g=async()=>{try{p.value=!0;const o=await q(h({},C));o.success&&(v.value=o.data.list,F.value=o.data.total,p.value=!1)}catch(o){return o}};return g(),(o,ie)=>{const T=c("a-tree"),V=c("icon-plus"),m=c("a-button"),S=c("GiTitle"),l=c("a-table-column"),I=c("a-switch"),L=c("icon-edit"),U=c("icon-delete"),z=c("a-space"),E=c("a-table"),f=R("loading");return _(),d("div",X,[w((_(),d("section",Y,[e(T,{"show-line":"",data:s.value,"default-expand-all":!0,"block-node":"","field-names":{key:"id",title:"name",children:"children"},onSelect:g},null,8,["data"])])),[[f,B(t)]]),D("section",Z,[e(S,{title:"\u7528\u6237\u7BA1\u7406"},{default:a(()=>[e(m,{type:"primary"},{icon:a(()=>[e(V)]),default:a(()=>[$]),_:1})]),_:1}),D("section",ee,[w((_(),Q(E,{data:v.value,scroll:{x:"100%",y:"100%"},pagination:{"show-page-size":!0}},{columns:a(()=>[e(l,{title:"\u5E8F\u53F7"},{cell:a(i=>[r(W(i.rowIndex+1),1)]),_:1}),e(l,{title:"\u540D\u79F0","data-index":"nickName"}),e(l,{title:"\u6027\u522B","data-index":"sex"},{cell:a(({record:i})=>[i.sex===1?(_(),d("span",te,"\u7537")):(_(),d("span",ae,"\u5973"))]),_:1}),e(l,{title:"\u5934\u50CF","data-index":"avatar"},{cell:a(()=>[e(K,{name:"avatar",size:40})]),_:1}),e(l,{title:"\u5730\u5740","data-index":"address"}),e(l,{title:"\u767B\u5F55\u65F6\u95F4","data-index":"lastLoginTime"}),e(l,{title:"\u767B\u5F55IP","data-index":"lastLoginIp"}),e(l,{title:"\u72B6\u6001",width:"100"},{cell:a(({record:i})=>[e(I,{modelValue:i.status,"onUpdate:modelValue":N=>i.status=N,size:"medium","checked-value":1,"unchecked-value":0},{checked:a(()=>[se]),unchecked:a(()=>[oe]),_:2},1032,["modelValue","onUpdate:modelValue"])]),_:1}),e(l,{title:"\u64CD\u4F5C",width:"100"},{cell:a(({record:i})=>[e(z,null,{default:a(()=>[e(m,{type:"primary"},{icon:a(()=>[e(L)]),_:1}),e(m,{type:"primary",status:"danger"},{icon:a(()=>[e(U)]),_:1})]),_:1})]),_:1})]),_:1},8,["data"])),[[f,B(p)]])])])])}}}));var me=J(ce,[["__scopeId","data-v-46c4dc47"]]);export{me as default};
