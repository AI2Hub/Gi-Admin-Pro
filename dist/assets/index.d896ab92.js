import{d as b,r as A,v as R,g as o,o as x,j as D,w as a,b as e,k as S,C as I,h as F,_ as M,f as p,W as U,c as z,a as V,z as T,t as $,p as N,e as W,M as j}from"./index.43cb35c7.js";import{b as q}from"./system.0d68512a.js";import"./axios.9950c2f3.js";const L=F("role_code_"),O=b({__name:"AddRoleModal",props:{modelValue:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(r,{emit:i}){const _=r,s=A({name:"",roleCode:"",remarks:""}),d=R({get:()=>_.modelValue,set:f=>{i("update:modelValue",f)}});return(f,u)=>{const l=o("a-input"),n=o("a-form-item"),v=o("a-textarea"),c=o("a-form"),g=o("a-modal");return x(),D(g,{visible:S(d),"onUpdate:visible":u[3]||(u[3]=t=>I(d)?d.value=t:null),title:"\u65B0\u589E\u89D2\u8272"},{default:a(()=>[e(c,null,{default:a(()=>[e(n,{label:"\u89D2\u8272\u540D\u79F0",name:"name",field:"name",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u89D2\u8272\u540D\u79F0",trigger:"blur"},{min:3,max:10,message:"\u957F\u5EA6\u5728 3 - 10\u4E2A\u5B57\u7B26",trigger:"blur"}],"validate-trigger":["change","input"]},{default:a(()=>[e(l,{placeholder:"\u8BF7\u8F93\u5165\u89D2\u8272\u540D\u79F0",modelValue:s.name,"onUpdate:modelValue":u[0]||(u[0]=t=>s.name=t)},null,8,["modelValue"])]),_:1}),e(n,{label:"\u89D2\u8272\u7F16\u53F7",name:"roleCode"},{default:a(()=>[e(l,{placeholder:"\u8BF7\u8F93\u5165\u89D2\u8272\u7F16\u53F7",modelValue:s.roleCode,"onUpdate:modelValue":u[1]||(u[1]=t=>s.roleCode=t)},{prepend:a(()=>[L]),_:1},8,["modelValue"])]),_:1}),e(n,{label:"\u63CF\u8FF0",name:"remarks"},{default:a(()=>[e(v,{modelValue:s.remarks,"onUpdate:modelValue":u[2]||(u[2]=t=>s.remarks=t),placeholder:"\u89D2\u8272\u63CF\u8FF0","auto-size":{minRows:3,maxRows:5}},null,8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["visible"])}}});const P=r=>(N("data-v-cceecc9a"),r=r(),W(),r),G={class:"role-manage"},H=P(()=>V("span",null,"\u65B0\u589E\u89D2\u8272",-1)),J={class:"table-box"},K=F("\u83DC\u5355\u6743\u9650"),Q=b({__name:"index",setup(r){const i=p(!1),_=p([]),s=p(0),d=p(!1);(async()=>{try{i.value=!0;const l=await q();l.success&&(_.value=l.data.list,s.value=l.data.total,i.value=!1)}catch(l){return l}})();const u=()=>{j.info("\u70B9\u51FB\u4E86\u786E\u8BA4\u6309\u94AE")};return(l,n)=>{const v=o("icon-plus"),c=o("a-button"),g=o("a-row"),t=o("a-table-column"),y=o("icon-delete"),B=o("a-popconfirm"),w=o("icon-edit"),C=o("icon-safe"),h=o("a-space"),k=o("a-table"),E=U("loading");return x(),z("div",G,[e(g,{class:"head"},{default:a(()=>[e(c,{type:"primary",onClick:n[0]||(n[0]=m=>d.value=!0)},{icon:a(()=>[e(v)]),default:a(()=>[H]),_:1})]),_:1}),V("section",J,[T((x(),D(k,{data:_.value,"row-key":"id",scroll:{x:"100%",y:"100%",minWidth:900},pagination:{showPageSize:!0}},{columns:a(()=>[e(t,{title:"\u5E8F\u53F7",width:60},{cell:a(m=>[F($(m.rowIndex+1),1)]),_:1}),e(t,{title:"\u89D2\u8272\u540D\u79F0","data-index":"name"}),e(t,{title:"\u89D2\u8272\u7F16\u53F7","data-index":"roleCode"}),e(t,{title:"\u89D2\u8272\u63CF\u8FF0","data-index":"description"}),e(t,{title:"\u521B\u5EFA\u65F6\u95F4","data-index":"createTime"}),e(t,{title:"\u64CD\u4F5C",width:220},{cell:a(({record:m})=>[e(h,null,{default:a(()=>[e(B,{content:"\u60A8\u786E\u5B9A\u8981\u5220\u9664\u8BE5\u9879\u5417?",onOk:u},{default:a(()=>[e(c,{type:"primary",status:"danger"},{icon:a(()=>[e(y)]),_:1})]),_:1}),e(c,{type:"primary",onClick:n[1]||(n[1]=X=>d.value=!0)},{icon:a(()=>[e(w)]),_:1}),e(c,{type:"primary",status:"success"},{icon:a(()=>[e(C)]),default:a(()=>[K]),_:1})]),_:1})]),_:1})]),_:1},8,["data"])),[[E,i.value]])]),e(O,{modelValue:d.value,"onUpdate:modelValue":n[2]||(n[2]=m=>d.value=m)},null,8,["modelValue"])])}}});var ae=M(Q,[["__scopeId","data-v-cceecc9a"]]);export{ae as default};
