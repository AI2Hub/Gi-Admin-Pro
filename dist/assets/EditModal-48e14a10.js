import{O as e,P as a}from"./regexp-643c037a.js";import{d as l,O as t,g as s,l as u,r as o,o as d,e as n,w as i,a as r,u as m,f,n as p,c,F as v,b as _,h,t as g,I as b,N as y,p as w,j as x,_ as V}from"./index-184a506f.js";const k=e=>(w("data-v-e5225c5f"),e=e(),x(),e),j=k((()=>h("div",null,"仅支持中文姓名",-1))),U=k((()=>h("span",null,"权限配置",-1))),q=k((()=>h("span",null,"自定义管理员、编辑者的权限， 点击",-1))),I=V(l({__name:"EditModal",setup(l,{expose:w}){const x=t({name:"",phone:"",status:!1}),V={name:[{required:!0,message:"请输入姓名"},{match:e,message:"只能是中文姓名"},{minLength:1,maxLength:4,message:"名字最长不超过4个字符"}],phone:[{match:a,message:"手机号格式不正确"}],status:[{required:!0}]},k=[{name:"新增"},{name:"编辑"},{name:"重命名"},{name:"分享"},{name:"删除"}],I=s(!1),L=s(""),O=u((()=>!!L.value)),P=u((()=>O.value?"编辑":"新增")),z=s(),E=async()=>{var e;return!(await(null==(e=z.value)?void 0:e.validate()))&&(await new Promise((e=>setTimeout(e,1500))),y.success(O.value?"编辑成功":"新增成功"),!0)};return w({add:()=>{L.value="",I.value=!0},edit:e=>{L.value=e,I.value=!0}}),(e,a)=>{const l=o("a-input"),t=o("a-form-item"),s=o("a-radio"),u=o("a-radio-group"),y=o("a-form"),w=o("a-row"),L=o("icon-question-circle-fill"),O=o("a-link"),F=o("a-tooltip"),M=o("a-space"),N=o("icon-right"),R=o("a-checkbox"),T=o("a-checkbox-group"),A=o("a-collapse-item"),B=o("a-collapse"),C=o("a-modal");return d(),n(C,{visible:m(I),"onUpdate:visible":a[3]||(a[3]=e=>b(I)?I.value=e:null),title:m(P),"on-before-ok":E},{default:i((()=>[r(w,{justify:"center"},{default:i((()=>[r(y,{ref_key:"formRef",ref:z,model:m(x),size:"medium","auto-label-width":"",style:{width:"auto"}},{default:i((()=>[r(t,{field:"name",label:"姓名",rules:V.name},{extra:i((()=>[j])),default:i((()=>[r(l,{modelValue:m(x).name,"onUpdate:modelValue":a[0]||(a[0]=e=>m(x).name=e),placeholder:"请输入姓名",style:{width:"300px"}},null,8,["modelValue"])])),_:1},8,["rules"]),r(t,{field:"phone",label:"手机号"},{default:i((()=>[r(l,{modelValue:m(x).phone,"onUpdate:modelValue":a[1]||(a[1]=e=>m(x).phone=e),placeholder:"请输入手机号",style:{width:"300px"}},null,8,["modelValue"])])),_:1}),r(t,{field:"status",label:"状态",rules:V.status},{default:i((()=>[r(u,{modelValue:m(x).status,"onUpdate:modelValue":a[2]||(a[2]=e=>m(x).status=e)},{default:i((()=>[r(s,{value:!1},{default:i((()=>[f("关闭")])),_:1}),r(s,{value:!0},{default:i((()=>[f("开启")])),_:1})])),_:1},8,["modelValue"])])),_:1},8,["rules"])])),_:1},8,["model"])])),_:1}),r(B,{bordered:!1,"default-active-key":["1"]},{default:i((()=>[r(A,{"show-expand-icon":!0,key:"1"},{header:i((()=>[r(M,null,{default:i((()=>[U,r(F,{position:"right","content-style":{width:"200px"}},{content:i((()=>[q,r(O,{type:"primary",hoverable:!1},{default:i((()=>[f("了解更多权限")])),_:1})])),default:i((()=>[r(L,{style:{color:"rgb(var(--warning-6))"}})])),_:1})])),_:1})])),"expand-icon":i((({active:e})=>[r(N,{class:p({gi_rotate_90deg:e})},null,8,["class"])])),default:i((()=>[(d(),c(v,null,_(k,((e,a)=>r(w,{justify:"space-between",key:a},{default:i((()=>[h("span",null,g(e.name),1),r(T,null,{default:i((()=>[r(R,{value:"1"},{default:i((()=>[f("管理员")])),_:1}),r(R,{value:"2"},{default:i((()=>[f("编辑者")])),_:1})])),_:1})])),_:2},1024))),64))])),_:1})])),_:1})])),_:1},8,["visible","title"])}}}),[["__scopeId","data-v-e5225c5f"]]);export{I as default};
