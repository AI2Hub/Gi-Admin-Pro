import{d as y,h as g,G as M,r as I,i as t,o as f,m as D,w as o,b as e,j as E,k as F,er as z,c as S,a as h,es as U,K as N,M as $,p as T,e as j,_ as q}from"./index.f607aeb8.js";import"./index.463d26de.js";import"./viewer.8af04544.js";import{a as G}from"./useApiSystem.3ed30b1a.js";const K=F("role_"),L=y({__name:"EditRoleModal",setup(r,{expose:b}){const s=g(""),x=M(()=>s.value?"\u7F16\u8F91\u89D2\u8272":"\u65B0\u589E\u89D2\u8272"),d=g(!1),n=I({name:"",roleCode:"",remarks:""});return b({add:()=>{s.value="",d.value=!0},edit:_=>{s.value=_,d.value=!0}}),(_,a)=>{const i=t("a-input"),m=t("a-form-item"),u=t("a-textarea"),v=t("a-form"),B=t("a-modal");return f(),D(B,{visible:d.value,"onUpdate:visible":a[3]||(a[3]=l=>d.value=l),title:E(x)},{default:o(()=>[e(v,{model:n,size:"medium","auto-label-width":""},{default:o(()=>[e(m,{label:"\u89D2\u8272\u540D\u79F0",name:"name",field:"name",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u89D2\u8272\u540D\u79F0"},{min:3,max:10,message:"\u957F\u5EA6\u5728 3 - 10\u4E2A\u5B57\u7B26"}],"validate-trigger":["change","input"]},{default:o(()=>[e(i,{placeholder:"\u8BF7\u8F93\u5165\u89D2\u8272\u540D\u79F0",modelValue:n.name,"onUpdate:modelValue":a[0]||(a[0]=l=>n.name=l)},null,8,["modelValue"])]),_:1}),e(m,{label:"\u89D2\u8272\u7F16\u53F7",name:"roleCode"},{default:o(()=>[e(i,{placeholder:"\u8BF7\u8F93\u5165\u89D2\u8272\u7F16\u53F7",modelValue:n.roleCode,"onUpdate:modelValue":a[1]||(a[1]=l=>n.roleCode=l)},{prepend:o(()=>[K]),_:1},8,["modelValue"])]),_:1}),e(m,{label:"\u63CF\u8FF0",name:"remarks"},{default:o(()=>[e(u,{modelValue:n.remarks,"onUpdate:modelValue":a[2]||(a[2]=l=>n.remarks=l),placeholder:"\u89D2\u8272\u63CF\u8FF0","auto-size":{minRows:3,maxRows:5}},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["visible","title"])}}}),O=r=>(T("data-v-728eeb34"),r=r(),j(),r),W={class:"role-manage"},H=O(()=>h("span",null,"\u65B0\u589E\u89D2\u8272",-1)),J={class:"table-box"},P=F("\u6B63\u5E38"),Q=F("\u7981\u7528"),X=F("\u83DC\u5355\u6743\u9650"),Y=y({name:"RoleManage"}),Z=y({...Y,setup(r){const b=g(!1),s=g(),{roleList:x}=G(),d=()=>{var c;(c=s.value)==null||c.add()},n=c=>{var _;(_=s.value)==null||_.edit(c.id)},C=()=>{$.info("\u70B9\u51FB\u4E86\u786E\u8BA4\u6309\u94AE")};return(c,_)=>{const a=t("icon-plus"),i=t("a-button"),m=t("a-row"),u=t("a-table-column"),v=t("a-tag"),B=t("icon-delete"),l=t("a-popconfirm"),k=t("icon-edit"),w=t("icon-safe"),V=t("a-space"),R=t("a-table"),A=z("loading");return f(),S("div",W,[e(m,{class:"head"},{default:o(()=>[e(i,{type:"primary",onClick:d},{icon:o(()=>[e(a)]),default:o(()=>[H]),_:1})]),_:1}),h("section",J,[U((f(),D(R,{data:E(x),"row-key":"id",scroll:{x:"100%",y:"100%",minWidth:900},pagination:!1},{columns:o(()=>[e(u,{title:"\u5E8F\u53F7",width:60},{cell:o(p=>[F(N(p.rowIndex+1),1)]),_:1}),e(u,{title:"\u89D2\u8272\u540D\u79F0","data-index":"name"}),e(u,{title:"\u89D2\u8272\u7F16\u53F7","data-index":"roleCode"}),e(u,{title:"\u72B6\u6001",width:100},{cell:o(({record:p})=>[p.status==1?(f(),D(v,{key:0,color:"green"},{default:o(()=>[P]),_:1})):(f(),D(v,{key:1,color:"red"},{default:o(()=>[Q]),_:1}))]),_:1}),e(u,{title:"\u89D2\u8272\u63CF\u8FF0","data-index":"description"}),e(u,{title:"\u521B\u5EFA\u65F6\u95F4","data-index":"createTime"}),e(u,{title:"\u64CD\u4F5C",width:220,align:"center"},{cell:o(({record:p})=>[e(V,null,{default:o(()=>[e(l,{type:"warning",content:"\u60A8\u786E\u5B9A\u8981\u5220\u9664\u8BE5\u9879\u5417?",onOk:C},{default:o(()=>[e(i,{type:"primary",status:"danger",size:"mini"},{icon:o(()=>[e(B)]),_:1})]),_:1}),e(i,{type:"primary",size:"mini",onClick:ee=>n(p)},{icon:o(()=>[e(k)]),_:2},1032,["onClick"]),e(i,{type:"primary",status:"success",size:"mini"},{icon:o(()=>[e(w)]),default:o(()=>[X]),_:1})]),_:2},1024)]),_:1})]),_:1},8,["data"])),[[A,b.value]])]),e(L,{ref_key:"EditRoleModalRef",ref:s},null,512)])}}});const ue=q(Z,[["__scopeId","data-v-728eeb34"]]);export{ue as default};
