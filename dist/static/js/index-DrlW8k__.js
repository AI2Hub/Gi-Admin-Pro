import{_ as e}from"./index-Cqs_ap7e.js";import{d as a,b as l,U as d,k as t,e as o,o as n,f as s,h as r,w as u,I as i,g as m,V as p,_ as c}from"./index-DyiAUk2E.js";const f={class:"gi_page form-table"},_=c(a({name:"FormTable",__name:"index",setup(a){const c=l(),_=[{title:"姓名",dataIndex:"name",slotName:"name",headerCellClass:"column-require"},{title:"手机",dataIndex:"phone",slotName:"phone",headerCellClass:"column-require"},{title:"地址",dataIndex:"address",slotName:"address"},{title:"操作",width:60,slotName:"action"}],y=d({tableData:[{name:"",phone:"",address:""}]}),b=t((()=>JSON.stringify(y.tableData,null,"\t"))),h=()=>{y.tableData.push({name:"",phone:"",address:""})},w=async()=>{var e;await(null==(e=c.value)?void 0:e.validate())||p.success("提交通过")},V=()=>{var e,a;null==(e=c.value)||e.resetFields(),null==(a=c.value)||a.clearValidate()};return(a,l)=>{const d=o("a-button"),t=o("a-space"),p=o("a-row"),x=o("a-input"),g=o("a-form-item"),v=o("icon-delete"),C=o("a-table"),I=o("a-form"),D=e,k=o("a-alert"),U=o("a-card");return n(),s("div",f,[r(U,{title:"编辑表格"},{default:u((()=>[r(p,{justify:"end"},{default:u((()=>[r(t,{wrap:""},{default:u((()=>[r(d,{type:"primary",onClick:h},{default:u((()=>[i("新增")])),_:1})])),_:1})])),_:1}),r(I,{ref_key:"formRef",ref:c,model:m(y)},{default:u((()=>[r(C,{columns:_,data:m(y).tableData,bordered:{cell:!0},pagination:!1},{name:u((({record:e,rowIndex:a})=>[r(g,{field:`tableData[${a}].name`,"label-col-style":{display:"none"},rules:[{required:!0,message:"请输入姓名"}]},{default:u((()=>[r(x,{modelValue:e.name,"onUpdate:modelValue":a=>e.name=a,placeholder:"请输入姓名","allow-clear":""},null,8,["modelValue","onUpdate:modelValue"])])),_:2},1032,["field"])])),phone:u((({record:e,rowIndex:a})=>[r(g,{field:`tableData[${a}].phone`,"label-col-style":{display:"none"},rules:[{required:!0,message:"请输入手机号"}]},{default:u((()=>[r(x,{modelValue:e.phone,"onUpdate:modelValue":a=>e.phone=a,placeholder:"请输入手机号","allow-clear":""},null,8,["modelValue","onUpdate:modelValue"])])),_:2},1032,["field"])])),address:u((({record:e,rowIndex:a})=>[r(g,{field:`tableData[${a}].address`,"label-col-style":{display:"none"}},{default:u((()=>[r(x,{modelValue:e.address,"onUpdate:modelValue":a=>e.address=a,placeholder:"请输入地址","allow-clear":""},null,8,["modelValue","onUpdate:modelValue"])])),_:2},1032,["field"])])),action:u((({rowIndex:e})=>[r(d,{type:"primary",status:"danger",onClick:a=>{return l=e,void y.tableData.splice(l,1);var l}},{icon:u((()=>[r(v)])),_:2},1032,["onClick"])])),_:1},8,["data"])])),_:1},8,["model"]),r(p,{justify:"end",style:{"margin-top":"8px"}},{default:u((()=>[r(t,{wrap:""},{default:u((()=>[r(d,{onClick:V},{default:u((()=>[i("重置")])),_:1}),r(d,{type:"primary",onClick:w},{default:u((()=>[i("验证并提交")])),_:1})])),_:1})])),_:1}),r(D,{"code-json":m(b)},null,8,["code-json"]),r(k,{type:"warning",style:{"margin-top":"8px"}},{default:u((()=>[i(" 本示例均采用原生arco组件开发，并不建议过渡封装编辑表格，经历过才知道，过渡封装会限制灵活性，还有可维护性，多点代码也没啥，直接copy就行 ")])),_:1})])),_:1})])}}}),[["__scopeId","data-v-f95b23d3"]]);export{_ as default};
