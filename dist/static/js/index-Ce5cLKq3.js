import{a as e,_ as a}from"./index.vue_vue_type_script_setup_true_lang-QzvOYr1I.js";import l from"./index-CfRo8hSA.js";import{b as s,d as t,K as o,N as r,U as i,f as n,h as u,w as d,n as m,e as c,o as p,i as f,g as _,L as g,J as v,I as y,V as w,y as x,z as h,_ as b}from"./index-CJb6VCzA.js";import{P as V}from"./regexp-LyZ7ySAN.js";import"./index-DyPUfkac.js";import"./CornerTop.vue_vue_type_script_setup_true_lang-B9hLPRH3.js";import"./CornerBottom.vue_vue_type_script_setup_true_lang-BkLc8yaq.js";const j=e=>(x("data-v-61f953bd"),e=e(),h(),e),k={class:"login"},z=j((()=>f("div",{class:"login-left"},[f("img",{class:"login-left__img",src:"/gi-demo/static/svg/login-img-BnXpmWAf.svg"})],-1))),L={class:"login-right"},q=j((()=>f("h3",{class:"login-right__title"},[f("img",{class:"logo",src:a}),f("span",null,"Admin Pro")],-1))),U=b(t({name:"Login",__name:"index",setup(a){const t=m(),x=o(),h=r(),b=i({username:"admin",password:"123456"}),j={username:[{required:!0,message:"请输入账号"}],password:[{required:!0,message:"请输入密码"},{match:V,message:"输入密码格式不正确"}]},U=s(!1),{loading:C,setLoading:A}=function(e=!1){const a=s(e);return{loading:a,setLoading:e=>{a.value=e},toggle:()=>{a.value=!a.value}}}(),B=s(""),I=s(),J=async()=>{var e;try{if(await(null==(e=I.value)?void 0:e.validate()))return;A(!0),await x.login(b),h.reset();const{redirect:a,...l}=t.currentRoute.value.query;t.push({path:a||"/",query:{...l}}),w.success("登录成功")}catch(a){B.value=a.message}finally{A(!1)}};return(a,s)=>{const t=c("a-col"),o=c("icon-user"),r=c("a-input"),i=c("a-form-item"),m=c("icon-lock"),w=c("a-input-password"),x=c("a-checkbox"),h=c("a-link"),V=c("a-row"),A=c("a-button"),B=c("a-space"),K=c("a-form"),N=e;return p(),n("div",k,[u(V,{align:"stretch",class:"login-box"},{default:d((()=>[u(t,{xs:0,sm:12,md:15},{default:d((()=>[z])),_:1}),u(t,{xs:24,sm:12,md:9},{default:d((()=>[f("div",L,[u(K,{ref_key:"formRef",ref:I,size:_(g)()?"large":"medium",model:_(b),rules:j,style:{width:"84%"},"label-col-style":{display:"none"},"wrapper-col-style":{flex:1}},{default:d((()=>[q,u(i,{field:"username"},{default:d((()=>[u(r,{modelValue:_(b).username,"onUpdate:modelValue":s[0]||(s[0]=e=>_(b).username=e),placeholder:"账号 admin/user","allow-clear":""},{prefix:d((()=>[u(o,{"stroke-width":1,style:{fontSize:"20px"}})])),_:1},8,["modelValue"])])),_:1}),u(i,{field:"password"},{default:d((()=>[u(w,{modelValue:_(b).password,"onUpdate:modelValue":s[1]||(s[1]=e=>_(b).password=e),placeholder:"密码","allow-clear":""},{prefix:d((()=>[u(m,{"stroke-width":1,style:{fontSize:"20px"}})])),_:1},8,["modelValue"])])),_:1}),u(i,null,{default:d((()=>[u(V,{justify:"space-between",align:"center",class:"w-full"},{default:d((()=>[u(x,{modelValue:_(U),"onUpdate:modelValue":s[2]||(s[2]=e=>v(U)?U.value=e:null)},{default:d((()=>[y("记住密码")])),_:1},8,["modelValue"]),u(h,null,{default:d((()=>[y("忘记密码")])),_:1})])),_:1})])),_:1}),u(i,null,{default:d((()=>[u(B,{direction:"vertical",fill:"",class:"w-full"},{default:d((()=>[u(A,{type:"primary",size:"large",long:"",loading:_(C),onClick:J},{default:d((()=>[y("登录")])),_:1},8,["loading"]),u(A,{type:"text",size:"large",long:"",class:"register-btn"},{default:d((()=>[y("注册账号")])),_:1})])),_:1})])),_:1})])),_:1},8,["size","model"])])])),_:1})])),_:1}),u(N,{class:"theme-btn"}),u(l)])}}}),[["__scopeId","data-v-61f953bd"]]);export{U as default};
