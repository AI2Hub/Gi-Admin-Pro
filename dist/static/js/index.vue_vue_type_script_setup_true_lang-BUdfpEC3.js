import{_ as e}from"./GiCellStatus.vue_vue_type_script_setup_true_lang-JcDpYvVG.js";import{_ as a}from"./AddDictDataModal.vue_vue_type_script_setup_true_lang-CSRu6Dxr.js";import{d as l,b as t,e as n,o as i,c as s,w as o,h as d,g as r,I as u,t as c,J as p,i as _,fb as m,V as v}from"./index-DyiAUk2E.js";import{d as f}from"./index-BgQnqqtj.js";import{u as y}from"./useTable-C3n_eLe3.js";const g=_("span",null,"新增",-1),h=_("span",null,"删除",-1),k=_("span",null,"编辑",-1),w=_("span",null,"删除",-1),b=l({__name:"index",setup(l,{expose:_}){const b=t(!1),x=t(),S=t(""),{loading:A,tableData:C,pagination:D,selectedKeys:j,search:z,select:M,selectAll:B,handleDelete:I}=y((e=>m({...e,code:S.value})),{immediate:!1});_({open:e=>{C.value=[],S.value=e.code,b.value=!0,z()}});const O=()=>{if(!j.value.length)return v.warning("请选择字典数据！");I((()=>f({ids:j.value})))},U=()=>{var e;null==(e=x.value)||e.add()};return(l,t)=>{const _=n("icon-plus"),m=n("a-button"),v=n("icon-delete"),y=n("a-space"),V=n("a-row"),W=n("a-table-column"),q=e,G=n("icon-edit"),J=n("a-popconfirm"),K=n("a-table"),R=n("a-modal");return i(),s(R,{visible:r(b),"onUpdate:visible":t[0]||(t[0]=e=>p(b)?b.value=e:null),title:"字典数据",width:"90%","hide-cancel":"","ok-text":"关闭","mask-closable":!1,"modal-style":{maxWidth:"680px"}},{default:o((()=>[d(V,null,{default:o((()=>[d(y,{wrap:""},{default:o((()=>[d(m,{type:"primary",onClick:U},{icon:o((()=>[d(_)])),default:o((()=>[g])),_:1}),d(m,{type:"primary",status:"danger",onClick:O},{icon:o((()=>[d(v)])),default:o((()=>[h])),_:1})])),_:1})])),_:1}),d(K,{"row-key":"id",size:"small",data:r(C),bordered:{cell:!0},loading:r(A),scroll:{x:"100%",y:"100%",minWidth:600},pagination:{...r(D),size:"small"},"row-selection":{type:"checkbox",showCheckedAll:!0},"selected-keys":r(j),onSelect:r(M),onSelectAll:r(B)},{columns:o((()=>[d(W,{title:"序号",width:64},{cell:o((e=>[u(c(e.rowIndex+1),1)])),_:1}),d(W,{title:"字典名","data-index":"name"}),d(W,{title:"字典值","data-index":"value"}),d(W,{title:"状态",width:100,align:"center"},{cell:o((({record:e})=>[d(q,{status:e.status},null,8,["status"])])),_:1}),d(W,{title:"操作",width:180,align:"center"},{cell:o((({record:e})=>[d(y,null,{default:o((()=>[d(m,{type:"primary",size:"mini",onClick:a=>{return l=e,void(null==(t=x.value)||t.edit({id:l.id,code:S.value}));var l,t}},{icon:o((()=>[d(G)])),default:o((()=>[k])),_:2},1032,["onClick"]),d(J,{type:"warning",content:"确定删除该角色吗?",onBeforeOk:a=>{return l=e,I((()=>f({ids:[l.id]})),{showModal:!1});var l}},{default:o((()=>[d(m,{type:"primary",status:"danger",size:"mini"},{icon:o((()=>[d(v)])),default:o((()=>[w])),_:1})])),_:2},1032,["onBeforeOk"])])),_:2},1024)])),_:1})])),_:1},8,["data","loading","pagination","selected-keys","onSelect","onSelectAll"]),d(a,{ref_key:"AddDictDataModalRef",ref:x,onSaveSuccess:r(z)},null,8,["onSaveSuccess"])])),_:1},8,["visible"])}}});export{b as _};
