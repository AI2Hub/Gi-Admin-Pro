import{_ as z}from"./GiSvgIcon.b0d2d353.js";import{f as M}from"./index.1e899b54.js";import{d as V,h as U,i as o,o as s,m as d,w as t,b as e,j as R,z as S,r as y,eq as T,c as h,a as k,er as q,k as f,K as b,eH as N,p as $,e as j,_ as G}from"./index.bf63d02c.js";const H=V({__name:"AddMenuModal",props:{modelValue:{type:Boolean,default:!1},treeData:{type:Array,default:()=>[]}},emits:["update:modelValue"],setup(m,{emit:p}){const c=M(m,"modelValue",p),i=U({parentId:"",name:"",path:"",icon:"",keepAlive:!1,hidden:!1});return(C,a)=>{const D=o("a-tree-select"),u=o("a-form-item"),g=o("a-input"),v=o("a-switch"),F=o("a-form"),_=o("a-modal");return s(),d(_,{visible:R(c),"onUpdate:visible":a[5]||(a[5]=l=>S(c)?c.value=l:null),title:"\u65B0\u589E\u83DC\u5355"},{default:t(()=>[e(F,{ref:"formRef",model:i,labelCol:{span:4}},{default:t(()=>[e(u,{label:"\u4E0A\u7EA7\u83DC\u5355",parentId:"name"},{default:t(()=>[e(D,{data:m.treeData,modelValue:i.parentId,"onUpdate:modelValue":a[0]||(a[0]=l=>i.parentId=l),placeholder:"\u8BF7\u9009\u62E9","field-names":{key:"id",title:"name",children:"children"}},null,8,["data","modelValue"])]),_:1}),e(u,{label:"\u83DC\u5355\u540D\u79F0",field:"name",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u83DC\u5355\u540D\u79F0",trigger:"blur"},{min:3,max:10,message:"\u957F\u5EA6\u5728 3 - 10\u4E2A\u5B57\u7B26",trigger:"blur"}],"validate-trigger":["change","input"]},{default:t(()=>[e(g,{placeholder:"\u8BF7\u8F93\u5165\u83DC\u5355\u540D\u79F0",modelValue:i.name,"onUpdate:modelValue":a[1]||(a[1]=l=>i.name=l)},null,8,["modelValue"])]),_:1}),e(u,{label:"\u83DC\u5355\u5730\u5740",field:"path",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u83DC\u5355\u5730\u5740",trigger:"blur"},{min:3,max:10,message:"\u957F\u5EA6\u5728 3 - 30\u4E2A\u5B57\u7B26",trigger:"blur"}],"validate-trigger":["change","input"]},{default:t(()=>[e(g,{placeholder:"\u8BF7\u8F93\u5165\u83DC\u5355\u5730\u5740",modelValue:i.path,"onUpdate:modelValue":a[2]||(a[2]=l=>i.path=l)},null,8,["modelValue"])]),_:1}),e(u,{label:"\u662F\u5426\u7F13\u5B58",name:"keepAlive"},{default:t(()=>[e(v,{size:"medium",modelValue:i.keepAlive,"onUpdate:modelValue":a[3]||(a[3]=l=>i.keepAlive=l)},null,8,["modelValue"])]),_:1}),e(u,{label:"\u662F\u5426\u9690\u85CF",name:"hidden"},{default:t(()=>[e(v,{size:"medium",modelValue:i.hidden,"onUpdate:modelValue":a[4]||(a[4]=l=>i.hidden=l)},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["visible"])}}}),K=m=>($("data-v-03987491"),m=m(),j(),m),W={class:"menu-manage"},J=K(()=>k("span",null,"\u65B0\u589E\u83DC\u5355",-1)),L={class:"table-box"},O={key:0},P={key:1,class:"no-text"},Q={key:1,class:"no-text"},X=f("\u662F"),Y=f("\u5426"),Z=f("\u662F"),ee=f("\u5426"),te=V({name:"MenuManage"}),ae=V({...te,setup(m){const p=y(!1),r=y(!1),c=y([]);return(()=>{p.value=!0,setTimeout(()=>{c.value=N,p.value=!1},300)})(),(C,a)=>{const D=o("icon-plus"),u=o("a-button"),g=o("a-row"),v=o("IconDown"),F=o("IconRight"),_=o("a-table-column"),l=z,B=o("icon-edit"),x=o("icon-delete"),w=o("a-popconfirm"),A=o("a-space"),E=o("a-table"),I=T("loading");return s(),h("div",W,[e(g,{class:"head"},{default:t(()=>[e(u,{type:"primary",onClick:a[0]||(a[0]=n=>r.value=!0)},{icon:t(()=>[e(D)]),default:t(()=>[J]),_:1})]),_:1}),k("section",L,[q((s(),d(E,{data:c.value,"row-key":"name",scroll:{x:"100%",y:"100%",minWidth:900},pagination:!1,expandable:{width:80}},{"expand-icon":t(({expanded:n})=>[n?(s(),d(v,{key:0})):(s(),d(F,{key:1}))]),columns:t(()=>[e(_,{title:"\u83DC\u5355\u540D\u79F0"},{cell:t(({record:n})=>[f(b(n.meta.title||""),1)]),_:1}),e(_,{title:"\u83DC\u5355\u5730\u5740","data-index":"path"},{cell:t(({record:n})=>[n.path?(s(),h("span",O,b(n.path),1)):(s(),h("span",P,"\u65E0"))]),_:1}),e(_,{title:"\u83DC\u5355\u56FE\u6807","data-index":"icon",width:200},{cell:t(({record:n})=>[n.meta.icon?(s(),d(l,{key:0,size:24,name:n.meta.icon},null,8,["name"])):(s(),h("span",Q,"\u65E0"))]),_:1}),e(_,{title:"\u662F\u5426\u7F13\u5B58",width:200},{cell:t(({record:n})=>[n.meta.keepAlive?(s(),d(u,{key:0,status:"success",size:"mini"},{icon:t(()=>[X]),_:1})):(s(),d(u,{key:1,status:"danger",size:"mini"},{icon:t(()=>[Y]),_:1}))]),_:1}),e(_,{title:"\u662F\u5426\u9690\u85CF","data-index":"hidden",width:200},{cell:t(({record:n})=>[n.meta.hidden?(s(),d(u,{key:0,status:"success",size:"mini"},{icon:t(()=>[Z]),_:1})):(s(),d(u,{key:1,status:"danger",size:"mini"},{icon:t(()=>[ee]),_:1}))]),_:1}),e(_,{title:"\u64CD\u4F5C",width:100},{cell:t(({record:n})=>[e(A,null,{default:t(()=>[e(u,{type:"primary",size:"mini",onClick:a[1]||(a[1]=ne=>r.value=!0)},{icon:t(()=>[e(B)]),_:1}),e(w,{type:"warning",content:"\u60A8\u786E\u5B9A\u8981\u5220\u9664\u8BE5\u9879\u5417?"},{default:t(()=>[e(u,{type:"primary",status:"danger",size:"mini"},{icon:t(()=>[e(x)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["data"])),[[I,p.value]])]),e(H,{"tree-data":c.value,modelValue:r.value,"onUpdate:modelValue":a[2]||(a[2]=n=>r.value=n)},null,8,["tree-data","modelValue"])])}}});const se=G(ae,[["__scopeId","data-v-03987491"]]);export{se as default};
