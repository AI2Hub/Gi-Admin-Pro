import{e as b,q as N,r as s,o as r,c as d,w as c,a as o,g as w,B as q,z as $,t as A,u as f,F as G,i as U,C as R,D as O,E as H,h as p,G as j,H as J,I as Q,T as W,K as X,J as Y,L as Z}from"./vendor.971c48e5.js";import{u as L,a as ee,b as V}from"./index.8f4f9c9c.js";import{_ as y}from"./index.ca497cca.js";import{_ as te}from"./avatar.d240db71.js";import{u as ne,a as oe}from"./index.dab9c093.js";const se=b({setup(n){const e=N(),t=L(),a=l=>{t.setActivePath(l.path),e.push(l.path)};return(l,u)=>{const i=s("GiSvgIcon"),F=s("a-menu-item"),v=s("a-menu"),g=s("a-layout-sider");return r(),d(g,{collapsible:"",breakpoint:"xl",class:"aside"},{default:c(()=>[o(v,{"selected-keys":[f(t).activePath],style:{width:"100%",height:"100%"}},{default:c(()=>[(r(!0),w(G,null,q(f(t).menuList,m=>(r(),d(F,{key:m.path,onClick:x=>a(m)},{icon:c(()=>[o(i,{size:24,name:m.icon},null,8,["name"])]),default:c(()=>[$(" "+A(m.name),1)]),_:2},1032,["onClick"]))),128))]),_:1},8,["selected-keys"])]),_:1})}}});var ce=y(se,[["__scopeId","data-v-456b2811"]]),ae="/gi-demo/assets/logo.1ea765ca.png";const M=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],h=(()=>{const n=M[0],e={};for(const t of M)if((t==null?void 0:t[1])in document){for(const[l,u]of t.entries())e[n[l]]=u;return e}return!1})(),P={change:h.fullscreenchange,error:h.fullscreenerror};let _={request(n=document.documentElement,e){return new Promise((t,a)=>{const l=()=>{_.off("change",l),t()};_.on("change",l);const u=n[h.requestFullscreen](e);u instanceof Promise&&u.then(l).catch(a)})},exit(){return new Promise((n,e)=>{if(!_.isFullscreen){n();return}const t=()=>{_.off("change",t),n()};_.on("change",t);const a=document[h.exitFullscreen]();a instanceof Promise&&a.then(t).catch(e)})},toggle(n,e){return _.isFullscreen?_.exit():_.request(n,e)},onchange(n){_.on("change",n)},onerror(n){_.on("error",n)},on(n,e){const t=P[n];t&&document.addEventListener(t,e,!1)},off(n,e){const t=P[n];t&&document.removeEventListener(t,e,!1)},raw:h};Object.defineProperties(_,{isFullscreen:{get:()=>Boolean(document[h.fullscreenElement])},element:{enumerable:!0,get:()=>{var n;return(n=document[h.fullscreenElement])!=null?n:void 0}},isEnabled:{enumerable:!0,get:()=>Boolean(document[h.fullscreenEnabled])}});h||(_={isEnabled:!1});var S=_;const le=b({setup(n){const e=U(!1),t=()=>{e.value=S.isFullscreen},a=()=>{S.toggle()};return R(()=>{S.on("change",t)}),O(()=>{S.off("change",t)}),(l,u)=>{const i=s("icon-fullscreen"),F=s("icon-fullscreen-exit");return r(),w("span",{class:"gi-fullscreen-icon",onClick:a},[e.value?(r(),d(F,{key:1,style:{"font-size":"18px"}})):(r(),d(i,{key:0,style:{"font-size":"18px"}}))])}}});var re=y(le,[["__scopeId","data-v-b8912720"]]);const ue=b({setup(n){const e=L(),t=ne({selector:"body",attribute:"arco-theme",valueDark:"dark",valueLight:"light",storageKey:"arco-theme",onChanged(l){e.toggleTheme(l)}}),a=oe(t);return(l,u)=>{const i=s("a-button");return r(),d(i,{class:"toggle-theme-btn",size:"mini",onClick:f(a)},{icon:c(()=>[(r(),d(H(f(e).theme==="light"?"icon-sun-fill":"icon-moon-fill"),{size:18}))]),_:1},8,["onClick"])}}});var _e=y(ue,[["__scopeId","data-v-6df983de"]]);const B=n=>(j("data-v-6d54f0e2"),n=n(),J(),n),ie=B(()=>p("img",{src:ae},null,-1)),de={class:"gi_hover"},pe=B(()=>p("img",{src:te},null,-1)),me={class:"option-item"},fe={style:{background:"#1677ff"}},he=B(()=>p("span",null,"\u4E2A\u4EBA\u4E2D\u5FC3",-1)),ve={class:"option-item"},ge={style:{background:"#ff7d00"}},be=B(()=>p("span",null,"\u9000\u51FA\u767B\u5F55",-1)),ye=b({setup(n){const e=N(),t=L(),a=ee(),l=()=>{e.push("/")},u=()=>{e.push("/user")},i=()=>{Q.warning({title:"\u63D0\u793A",content:"\u786E\u8BA4\u9000\u51FA\u767B\u5F55\uFF1F",hideCancel:!1,onOk:()=>{e.replace("/login")}})};return(F,v)=>{const g=s("icon-notification"),m=s("a-tooltip"),x=s("a-avatar"),I=s("icon-down"),T=s("a-button"),E=s("icon-user"),C=s("a-doption"),z=s("icon-export"),D=s("a-dropdown"),k=s("a-space"),K=s("a-layout-header");return r(),d(K,null,{default:c(()=>[p("section",{class:"system-logo",onClick:l},[ie,p("span",de,A(f(t).systemName),1)]),o(k,{class:"system-head",size:"medium"},{default:c(()=>[o(m,{content:"\u6D88\u606F\u901A\u77E5",position:"bl"},{default:c(()=>[o(g,{class:"gi_hover",size:18})]),_:1}),o(re,{class:"gi_hover"}),o(_e),o(x,{size:32},{default:c(()=>[pe]),_:1}),o(D,{trigger:"hover"},{content:c(()=>[o(C,{onClick:u},{default:c(()=>[p("div",me,[p("span",fe,[o(E)]),he])]),_:1}),o(C,{onClick:i},{default:c(()=>[p("div",ve,[p("span",ge,[o(z)]),be])]),_:1})]),default:c(()=>[o(T,{type:"text",class:"username"},{default:c(()=>[p("span",null,A(f(a).userName),1),o(I)]),_:1})]),_:1})]),_:1})]),_:1})}}});var Fe=y(ye,[["__scopeId","data-v-6d54f0e2"]]);const ke=b({setup(n){const e=V();return(t,a)=>{const l=s("router-view"),u=s("a-layout");return r(),d(u,{class:"main"},{default:c(()=>[o(l,null,{default:c(({Component:i})=>[o(W,{name:"fade-transform",mode:"out-in",appear:""},{default:c(()=>[(r(),d(X,{include:f(e).cacheList},[(r(),d(H(i)))],1032,["include"]))]),_:2},1024)]),_:1})]),_:1})}}});var xe=y(ke,[["__scopeId","data-v-437fa010"]]);const Ee={class:"nav-tab"},Ce=$("\u5173\u95ED\u5F53\u524D\u9875\u7B7E"),Se=$("\u5173\u95ED\u6240\u6709\u9875\u7B7E"),we=b({setup(n){const e=Y(),t=N(),a=V();R(()=>{l()}),Z(()=>e.path,()=>{l()});const l=()=>{a.addTabItem({name:e.meta.title||"\u672A\u547D\u540D",path:e.path,componentName:e.name}),e.meta.keepAlive&&a.addCacheItem(e.name)},u=v=>{console.log("\u70B9\u51FB\u524D",a.cacheList),t.push({path:v})},i=v=>{let g=a.tabList.find(m=>m.path===v);a.removeTabItem(v),a.removeCacheItem(g.componentName),console.log("\u5173\u95ED\u540E",a.cacheList)},F=()=>{a.clearTabList()};return(v,g)=>{const m=s("a-tab-pane"),x=s("icon-settings"),I=s("a-button"),T=s("icon-minus-circle-fill"),E=s("a-doption"),C=s("icon-close-circle-fill"),z=s("a-dropdown"),D=s("a-tabs");return r(),w("div",Ee,[o(D,{type:"card-gutter","active-key":f(e).path,editable:"",onTabClick:u,onDelete:i},{extra:c(()=>[o(z,{trigger:"hover"},{content:c(()=>[o(E,{onClick:g[0]||(g[0]=k=>i(f(e).path))},{icon:c(()=>[o(T,{size:20,style:{color:"#ff7d00"}})]),default:c(()=>[Ce]),_:1}),o(E,{onClick:F},{icon:c(()=>[o(C,{size:20,style:{color:"#f53f3f"}})]),default:c(()=>[Se]),_:1})]),default:c(()=>[o(I,{type:"primary",class:"extra-btn"},{icon:c(()=>[o(x,{size:18})]),_:1})]),_:1})]),default:c(()=>[(r(!0),w(G,null,q(f(a).tabList,k=>(r(),d(m,{key:k.path,title:k.name,closable:k.path!=="/home"},null,8,["title","closable"]))),128))]),_:1},8,["active-key"])])}}});var Be=y(we,[["__scopeId","data-v-48e6d049"]]);const Ie=b({setup(n){return(e,t)=>{const a=s("a-layout");return r(),d(a,{class:"layout"},{default:c(()=>[o(ce),o(a,null,{default:c(()=>[o(Fe),o(Be),o(xe)]),_:1})]),_:1})}}});var $e=y(Ie,[["__scopeId","data-v-2d039723"]]);export{$e as default};
