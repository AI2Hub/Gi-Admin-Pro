import{_ as z}from"./GiSvgIcon.b787fedf.js";import{d as D,g as M,h as n,o as i,l as d,w as t,b as e,i as S,y as U,_ as N,N as R,r as y,eA as T,c as g,a as F,P as $,I as q,p as j,e as G,j as v}from"./index.68efc988.js";import{b as P}from"./index.5fa07cce.js";const W=D({__name:"AddMenuModal",props:{modelValue:{type:Boolean,default:!1},treeData:{type:Array,default:()=>[]}},emits:["update:modelValue"],setup(r,{emit:b}){const c=P(r,"modelValue",b),o=M({parentId:"",name:"",path:"",icon:"",keepAlive:!1,hidden:!1});return(V,l)=>{const m=n("a-tree-select"),p=n("a-form-item"),s=n("a-input"),f=n("a-switch"),x=n("a-form"),h=n("a-modal");return i(),d(h,{visible:S(c),"onUpdate:visible":l[5]||(l[5]=a=>U(c)?c.value=a:null),title:"\u65B0\u589E\u83DC\u5355"},{default:t(()=>[e(x,{ref:"formRef",model:o,labelCol:{span:4}},{default:t(()=>[e(p,{label:"\u4E0A\u7EA7\u83DC\u5355",parentId:"name"},{default:t(()=>[e(m,{data:r.treeData,modelValue:o.parentId,"onUpdate:modelValue":l[0]||(l[0]=a=>o.parentId=a),placeholder:"\u8BF7\u9009\u62E9","field-names":{key:"id",title:"name",children:"children"}},null,8,["data","modelValue"])]),_:1}),e(p,{label:"\u83DC\u5355\u540D\u79F0",field:"name",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u83DC\u5355\u540D\u79F0",trigger:"blur"},{min:3,max:10,message:"\u957F\u5EA6\u5728 3 - 10\u4E2A\u5B57\u7B26",trigger:"blur"}],"validate-trigger":["change","input"]},{default:t(()=>[e(s,{placeholder:"\u8BF7\u8F93\u5165\u83DC\u5355\u540D\u79F0",modelValue:o.name,"onUpdate:modelValue":l[1]||(l[1]=a=>o.name=a)},null,8,["modelValue"])]),_:1}),e(p,{label:"\u83DC\u5355\u5730\u5740",field:"path",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u83DC\u5355\u5730\u5740",trigger:"blur"},{min:3,max:10,message:"\u957F\u5EA6\u5728 3 - 30\u4E2A\u5B57\u7B26",trigger:"blur"}],"validate-trigger":["change","input"]},{default:t(()=>[e(s,{placeholder:"\u8BF7\u8F93\u5165\u83DC\u5355\u5730\u5740",modelValue:o.path,"onUpdate:modelValue":l[2]||(l[2]=a=>o.path=a)},null,8,["modelValue"])]),_:1}),e(p,{label:"\u662F\u5426\u7F13\u5B58",name:"keepAlive"},{default:t(()=>[e(f,{size:"medium",modelValue:o.keepAlive,"onUpdate:modelValue":l[3]||(l[3]=a=>o.keepAlive=a)},null,8,["modelValue"])]),_:1}),e(p,{label:"\u662F\u5426\u9690\u85CF",name:"hidden"},{default:t(()=>[e(f,{size:"medium",modelValue:o.hidden,"onUpdate:modelValue":l[4]||(l[4]=a=>o.hidden=a)},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["visible"])}}});const H=r=>(j("data-v-ccb5f572"),r=r(),G(),r),J={class:"menu-manage"},K=H(()=>F("span",null,"\u65B0\u589E\u83DC\u5355",-1)),L={class:"table-box"},O={key:0},Q={key:1,class:"no-text"},X={key:1,class:"no-text"},Y=v("\u662F"),Z=v("\u5426"),ee=v("\u662F"),te=v("\u5426"),ae=D({__name:"index",setup(r){const b=R(),_=y(!1),c=y(!1),o=y([]);return(()=>{_.value=!0,setTimeout(()=>{o.value=b.list,_.value=!1},300)})(),(l,m)=>{const p=n("icon-plus"),s=n("a-button"),f=n("a-row"),x=n("IconDown"),h=n("IconRight"),a=n("a-table-column"),k=z,C=n("icon-edit"),w=n("icon-delete"),B=n("a-popconfirm"),A=n("a-space"),E=n("a-table"),I=T("loading");return i(),g("div",J,[e(f,{class:"head"},{default:t(()=>[e(s,{type:"primary",onClick:m[0]||(m[0]=u=>c.value=!0)},{icon:t(()=>[e(p)]),default:t(()=>[K]),_:1})]),_:1}),F("section",L,[$((i(),d(E,{data:o.value,"row-key":"id",scroll:{x:"100%",y:"100%",minWidth:900},pagination:!1,expandable:{width:80}},{"expand-icon":t(({expanded:u})=>[u?(i(),d(x,{key:0})):(i(),d(h,{key:1}))]),columns:t(()=>[e(a,{title:"\u83DC\u5355\u540D\u79F0","data-index":"name"}),e(a,{title:"\u83DC\u5355\u5730\u5740","data-index":"path"},{cell:t(({record:u})=>[u.path?(i(),g("span",O,q(u.path),1)):(i(),g("span",Q,"\u65E0"))]),_:1}),e(a,{title:"\u83DC\u5355\u56FE\u6807","data-index":"icon",width:200},{cell:t(({record:u})=>[u.icon?(i(),d(k,{key:0,size:24,name:u.icon},null,8,["name"])):(i(),g("span",X,"\u65E0"))]),_:1}),e(a,{title:"\u662F\u5426\u7F13\u5B58","data-index":"keepAlive",width:200},{cell:t(({record:u})=>[u.keepAlive?(i(),d(s,{key:0,status:"success",size:"mini"},{icon:t(()=>[Y]),_:1})):(i(),d(s,{key:1,status:"danger",size:"mini"},{icon:t(()=>[Z]),_:1}))]),_:1}),e(a,{title:"\u662F\u5426\u9690\u85CF","data-index":"hidden",width:200},{cell:t(({record:u})=>[u.hidden?(i(),d(s,{key:0,status:"success",size:"mini"},{icon:t(()=>[ee]),_:1})):(i(),d(s,{key:1,status:"danger",size:"mini"},{icon:t(()=>[te]),_:1}))]),_:1}),e(a,{title:"\u64CD\u4F5C",width:100},{cell:t(({record:u})=>[e(A,null,{default:t(()=>[e(s,{type:"primary",size:"mini",onClick:m[1]||(m[1]=ne=>c.value=!0)},{icon:t(()=>[e(C)]),_:1}),e(B,{type:"warning",content:"\u60A8\u786E\u5B9A\u8981\u5220\u9664\u8BE5\u9879\u5417?"},{default:t(()=>[e(s,{type:"primary",status:"danger",size:"mini"},{icon:t(()=>[e(w)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["data"])),[[I,_.value]])]),e(W,{"tree-data":o.value,modelValue:c.value,"onUpdate:modelValue":m[2]||(m[2]=u=>c.value=u)},null,8,["tree-data","modelValue"])])}}});var ie=N(ae,[["__scopeId","data-v-ccb5f572"]]);export{ie as default};
