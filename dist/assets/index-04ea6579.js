import{h as g,f as R,L as E,G as S,r as o,o as y,c as w,w as t,a as e,U as f,u as h,d as U,b as C,t as B,p as N,e as D,_ as T}from"./_plugin-vue_export-helper-9a924bd0.js";import"./utils-176e37a8.js";import{a as $}from"./index-e072260a.js";import{R as q}from"./index-e3175ab6.js";import"./auth-56bca224.js";import"./runtime-dom.esm-bundler-fb8c0843.js";function A(){const d=g([]);return{roleList:d,getRoleList:async()=>{const a=await $();a.success&&(d.value=a.data.list)}}}const G=R({__name:"EditRoleModal",setup(d,{expose:v}){const a=g(""),b=E(()=>a.value?"编辑角色":"新增角色"),_=g(!1),l=S({name:"",roleCode:"",remarks:""});return v({add:()=>{a.value="",_.value=!0},edit:m=>{a.value=m,_.value=!0}}),(m,n)=>{const c=o("a-input"),p=o("a-form-item"),s=o("a-textarea"),x=o("a-form"),k=o("a-modal");return y(),w(k,{visible:_.value,"onUpdate:visible":n[3]||(n[3]=i=>_.value=i),title:h(b)},{default:t(()=>[e(x,{model:l,size:"medium","auto-label-width":""},{default:t(()=>[e(p,{label:"角色名称",name:"name",field:"name",rules:[{required:!0,message:"请输入角色名称"},{min:3,max:10,message:"长度在 3 - 10个字符"}],"validate-trigger":["change","input"]},{default:t(()=>[e(c,{placeholder:"请输入角色名称",modelValue:l.name,"onUpdate:modelValue":n[0]||(n[0]=i=>l.name=i)},null,8,["modelValue"])]),_:1}),e(p,{label:"角色编号",name:"roleCode"},{default:t(()=>[e(c,{placeholder:"请输入角色编号",modelValue:l.roleCode,"onUpdate:modelValue":n[1]||(n[1]=i=>l.roleCode=i)},{prepend:t(()=>[f("role_")]),_:1},8,["modelValue"])]),_:1}),e(p,{label:"描述",name:"remarks"},{default:t(()=>[e(s,{modelValue:l.remarks,"onUpdate:modelValue":n[2]||(n[2]=i=>l.remarks=i),placeholder:"角色描述","auto-size":{minRows:3,maxRows:5}},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["visible","title"])}}}),O=d=>(N("data-v-8e82e190"),d=d(),D(),d),W={class:"role-manage"},j=O(()=>C("span",null,"新增角色",-1)),F={class:"table-box"},H=R({name:"RoleManage"}),J=R({...H,setup(d){const v=g(!1),a=g(),{roleList:b}=A(),_=()=>{var r;(r=a.value)==null||r.add()},l=r=>{var m;(m=a.value)==null||m.edit(r.id)},V=()=>{q.info("点击了确认按钮")};return(r,m)=>{const n=o("icon-plus"),c=o("a-button"),p=o("a-row"),s=o("a-table-column"),x=o("a-tag"),k=o("icon-delete"),i=o("a-popconfirm"),I=o("icon-edit"),L=o("icon-safe"),M=o("a-space"),z=o("a-table");return y(),U("div",W,[e(p,{class:"head"},{default:t(()=>[e(c,{type:"primary",onClick:_},{icon:t(()=>[e(n)]),default:t(()=>[j]),_:1})]),_:1}),C("section",F,[e(z,{data:h(b),"row-key":"id",loading:v.value,scroll:{x:"100%",y:"100%",minWidth:900},pagination:!1},{columns:t(()=>[e(s,{title:"序号",width:60},{cell:t(u=>[f(B(u.rowIndex+1),1)]),_:1}),e(s,{title:"角色名称","data-index":"name"}),e(s,{title:"角色编号","data-index":"roleCode"}),e(s,{title:"状态",width:100},{cell:t(({record:u})=>[u.status==1?(y(),w(x,{key:0,color:"green"},{default:t(()=>[f("正常")]),_:1})):(y(),w(x,{key:1,color:"red"},{default:t(()=>[f("禁用")]),_:1}))]),_:1}),e(s,{title:"角色描述","data-index":"description"}),e(s,{title:"创建时间","data-index":"createTime"}),e(s,{title:"操作",width:220,align:"center"},{cell:t(({record:u})=>[e(M,null,{default:t(()=>[e(i,{type:"warning",content:"您确定要删除该项吗?",onOk:V},{default:t(()=>[e(c,{type:"primary",status:"danger",size:"mini"},{icon:t(()=>[e(k)]),_:1})]),_:1}),e(c,{type:"primary",size:"mini",onClick:K=>l(u)},{icon:t(()=>[e(I)]),_:2},1032,["onClick"]),e(c,{type:"primary",status:"success",size:"mini"},{icon:t(()=>[e(L)]),default:t(()=>[f("菜单权限")]),_:1})]),_:2},1024)]),_:1})]),_:1},8,["data","loading"])]),e(G,{ref_key:"EditRoleModalRef",ref:a},null,512)])}}});const te=T(J,[["__scopeId","data-v-8e82e190"]]);export{te as default};
