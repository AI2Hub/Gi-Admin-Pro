var I=Object.defineProperty;var D=Object.getOwnPropertySymbols;var M=Object.prototype.hasOwnProperty,T=Object.prototype.propertyIsEnumerable;var V=(n,o,t)=>o in n?I(n,o,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[o]=t,y=(n,o)=>{for(var t in o||(o={}))M.call(o,t)&&V(n,t,o[t]);if(D)for(var t of D(o))T.call(o,t)&&V(n,t,o[t]);return n};import{d as B,r as w,v as $,g as u,o as x,j as C,w as a,b as e,k as N,C as j,h as F,_ as q,f as v,U as L,c as O,a as h,z as P,t as W,p as G,e as H,M as J}from"./index.93e86477.js";import{b as K}from"./system.2565c2bd.js";import"./axios.14c1a96b.js";const Q=F("role_code_"),X=B({__name:"AddRoleModal",props:{modelValue:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(n,{emit:o}){const t=n,r=w({name:"",roleCode:"",remarks:""}),i=$({get:()=>t.modelValue,set:f=>{o("update:modelValue",f)}});return(f,s)=>{const g=u("a-input"),l=u("a-form-item"),c=u("a-textarea"),b=u("a-form"),m=u("a-modal");return x(),C(m,{visible:N(i),"onUpdate:visible":s[3]||(s[3]=d=>j(i)?i.value=d:null),title:"\u65B0\u589E\u89D2\u8272"},{default:a(()=>[e(b,null,{default:a(()=>[e(l,{label:"\u89D2\u8272\u540D\u79F0",name:"name",field:"name",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u89D2\u8272\u540D\u79F0",trigger:"blur"},{min:3,max:10,message:"\u957F\u5EA6\u5728 3 - 10\u4E2A\u5B57\u7B26",trigger:"blur"}],"validate-trigger":["change","input"]},{default:a(()=>[e(g,{placeholder:"\u8BF7\u8F93\u5165\u89D2\u8272\u540D\u79F0",modelValue:r.name,"onUpdate:modelValue":s[0]||(s[0]=d=>r.name=d)},null,8,["modelValue"])]),_:1}),e(l,{label:"\u89D2\u8272\u7F16\u53F7",name:"roleCode"},{default:a(()=>[e(g,{placeholder:"\u8BF7\u8F93\u5165\u89D2\u8272\u7F16\u53F7",modelValue:r.roleCode,"onUpdate:modelValue":s[1]||(s[1]=d=>r.roleCode=d)},{prepend:a(()=>[Q]),_:1},8,["modelValue"])]),_:1}),e(l,{label:"\u63CF\u8FF0",name:"remarks"},{default:a(()=>[e(c,{modelValue:r.remarks,"onUpdate:modelValue":s[2]||(s[2]=d=>r.remarks=d),placeholder:"\u89D2\u8272\u63CF\u8FF0","auto-size":{minRows:3,maxRows:5}},null,8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["visible"])}}});const Y=n=>(G("data-v-15724b97"),n=n(),H(),n),Z={class:"role-manage"},ee=Y(()=>h("span",null,"\u65B0\u589E\u89D2\u8272",-1)),ae={class:"table-box"},oe=F("\u83DC\u5355\u6743\u9650"),te=B({__name:"index",setup(n){const o=v(!1),t=v([]),r=v(0),i=v(!1),f=w({current:1,pageSize:500});(async()=>{try{o.value=!0;const l=await K(y({},f));l.success&&(t.value=l.data.list,r.value=l.data.total,o.value=!1)}catch(l){return l}})();const g=()=>{J.info("\u70B9\u51FB\u4E86\u786E\u8BA4\u6309\u94AE")};return(l,c)=>{const b=u("icon-plus"),m=u("a-button"),d=u("a-row"),_=u("a-table-column"),k=u("icon-delete"),E=u("a-popconfirm"),A=u("icon-edit"),R=u("icon-safe"),S=u("a-space"),U=u("a-table"),z=L("loading");return x(),O("div",Z,[e(d,{class:"head"},{default:a(()=>[e(m,{type:"primary",onClick:c[0]||(c[0]=p=>i.value=!0)},{icon:a(()=>[e(b)]),default:a(()=>[ee]),_:1})]),_:1}),h("section",ae,[P((x(),C(U,{data:t.value,"row-key":"id",scroll:{x:"100%",y:"100%",minWidth:900},pagination:{showPageSize:!0}},{columns:a(()=>[e(_,{title:"\u5E8F\u53F7",width:60},{cell:a(p=>[F(W(p.rowIndex+1),1)]),_:1}),e(_,{title:"\u89D2\u8272\u540D\u79F0","data-index":"name"}),e(_,{title:"\u89D2\u8272\u7F16\u53F7","data-index":"roleCode"}),e(_,{title:"\u89D2\u8272\u63CF\u8FF0","data-index":"description"}),e(_,{title:"\u521B\u5EFA\u65F6\u95F4","data-index":"createTime"}),e(_,{title:"\u64CD\u4F5C",width:220},{cell:a(({record:p})=>[e(S,null,{default:a(()=>[e(E,{content:"\u60A8\u786E\u5B9A\u8981\u5220\u9664\u8BE5\u9879\u5417?",onOk:g},{default:a(()=>[e(m,{type:"primary",status:"danger"},{icon:a(()=>[e(k)]),_:1})]),_:1}),e(m,{type:"primary",onClick:c[1]||(c[1]=ue=>i.value=!0)},{icon:a(()=>[e(A)]),_:1}),e(m,{type:"primary",status:"success"},{icon:a(()=>[e(R)]),default:a(()=>[oe]),_:1})]),_:1})]),_:1})]),_:1},8,["data"])),[[z,o.value]])]),e(X,{modelValue:i.value,"onUpdate:modelValue":c[2]||(c[2]=p=>i.value=p)},null,8,["modelValue"])])}}});var re=q(te,[["__scopeId","data-v-15724b97"]]);export{re as default};
