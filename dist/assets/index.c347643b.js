var S=Object.defineProperty,U=Object.defineProperties;var T=Object.getOwnPropertyDescriptors;var y=Object.getOwnPropertySymbols;var $=Object.prototype.hasOwnProperty,N=Object.prototype.propertyIsEnumerable;var B=(t,o,l)=>o in t?S(t,o,{enumerable:!0,configurable:!0,writable:!0,value:l}):t[o]=l,w=(t,o)=>{for(var l in o||(o={}))$.call(o,l)&&B(t,l,o[l]);if(y)for(var l of y(o))N.call(o,l)&&B(t,l,o[l]);return t},V=(t,o)=>U(t,T(o));import{b as P}from"./index.50ea5dfa.js";import{d as b,g as j,h as n,o as p,l as v,w as a,b as e,i as q,y as L,j as f,_ as O,r as g,ez as W,c as G,a as h,P as H,I as J,p as K,e as Q,M as X}from"./index.855e9ebd.js";import{b as Y}from"./system.201a5b6b.js";const Z=f("role_"),ee=b({__name:"AddRoleModal",props:{modelValue:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(t,{emit:o}){const m=P(t,"modelValue",o),s=j({name:"",roleCode:"",remarks:""});return(C,d)=>{const r=n("a-input"),i=n("a-form-item"),F=n("a-textarea"),_=n("a-form"),x=n("a-modal");return p(),v(x,{visible:q(m),"onUpdate:visible":d[3]||(d[3]=u=>L(m)?m.value=u:null),title:"\u65B0\u589E\u89D2\u8272"},{default:a(()=>[e(_,null,{default:a(()=>[e(i,{label:"\u89D2\u8272\u540D\u79F0",name:"name",field:"name",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u89D2\u8272\u540D\u79F0",trigger:"blur"},{min:3,max:10,message:"\u957F\u5EA6\u5728 3 - 10\u4E2A\u5B57\u7B26",trigger:"blur"}],"validate-trigger":["change","input"]},{default:a(()=>[e(r,{placeholder:"\u8BF7\u8F93\u5165\u89D2\u8272\u540D\u79F0",modelValue:s.name,"onUpdate:modelValue":d[0]||(d[0]=u=>s.name=u)},null,8,["modelValue"])]),_:1}),e(i,{label:"\u89D2\u8272\u7F16\u53F7",name:"roleCode"},{default:a(()=>[e(r,{placeholder:"\u8BF7\u8F93\u5165\u89D2\u8272\u7F16\u53F7",modelValue:s.roleCode,"onUpdate:modelValue":d[1]||(d[1]=u=>s.roleCode=u)},{prepend:a(()=>[Z]),_:1},8,["modelValue"])]),_:1}),e(i,{label:"\u63CF\u8FF0",name:"remarks"},{default:a(()=>[e(F,{modelValue:s.remarks,"onUpdate:modelValue":d[2]||(d[2]=u=>s.remarks=u),placeholder:"\u89D2\u8272\u63CF\u8FF0","auto-size":{minRows:3,maxRows:5}},null,8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["visible"])}}});const ae=t=>(K("data-v-65c0ffdc"),t=t(),Q(),t),oe={class:"role-manage"},te=ae(()=>h("span",null,"\u65B0\u589E\u89D2\u8272",-1)),ne={class:"table-box"},ue=f("\u6B63\u5E38"),le=f("\u7981\u7528"),se=f("\u83DC\u5355\u6743\u9650"),de=b({name:"RoleManage"}),ie=b(V(w({},de),{setup(t){const o=g(!1),l=g([]),m=g(0),s=g(!1);(async()=>{try{o.value=!0;const r=await Y();r.success&&(l.value=r.data.list,m.value=r.data.total,o.value=!1)}catch(r){return r}})();const d=()=>{X.info("\u70B9\u51FB\u4E86\u786E\u8BA4\u6309\u94AE")};return(r,i)=>{const F=n("icon-plus"),_=n("a-button"),x=n("a-row"),u=n("a-table-column"),D=n("a-tag"),k=n("icon-delete"),E=n("a-popconfirm"),A=n("icon-edit"),R=n("icon-safe"),z=n("a-space"),M=n("a-table"),I=W("loading");return p(),G("div",oe,[e(x,{class:"head"},{default:a(()=>[e(_,{type:"primary",onClick:i[0]||(i[0]=c=>s.value=!0)},{icon:a(()=>[e(F)]),default:a(()=>[te]),_:1})]),_:1}),h("section",ne,[H((p(),v(M,{data:l.value,"row-key":"id",scroll:{x:"100%",y:"100%",minWidth:900},pagination:{showPageSize:!0}},{columns:a(()=>[e(u,{title:"\u5E8F\u53F7",width:60},{cell:a(c=>[f(J(c.rowIndex+1),1)]),_:1}),e(u,{title:"\u89D2\u8272\u540D\u79F0","data-index":"name"}),e(u,{title:"\u89D2\u8272\u7F16\u53F7","data-index":"roleCode"}),e(u,{title:"\u72B6\u6001",width:100},{cell:a(({record:c})=>[c.status==1?(p(),v(D,{key:0,color:"green"},{default:a(()=>[ue]),_:1})):(p(),v(D,{key:1,color:"red"},{default:a(()=>[le]),_:1}))]),_:1}),e(u,{title:"\u89D2\u8272\u63CF\u8FF0","data-index":"description"}),e(u,{title:"\u521B\u5EFA\u65F6\u95F4","data-index":"createTime"}),e(u,{title:"\u64CD\u4F5C",width:220,align:"center"},{cell:a(({record:c})=>[e(z,null,{default:a(()=>[e(E,{type:"warning",content:"\u60A8\u786E\u5B9A\u8981\u5220\u9664\u8BE5\u9879\u5417?",onOk:d},{default:a(()=>[e(_,{type:"primary",status:"danger",size:"mini"},{icon:a(()=>[e(k)]),_:1})]),_:1}),e(_,{type:"primary",size:"mini",onClick:i[1]||(i[1]=re=>s.value=!0)},{icon:a(()=>[e(A)]),_:1}),e(_,{type:"primary",status:"success",size:"mini"},{icon:a(()=>[e(R)]),default:a(()=>[se]),_:1})]),_:1})]),_:1})]),_:1},8,["data"])),[[I,o.value]])]),e(ee,{modelValue:s.value,"onUpdate:modelValue":i[2]||(i[2]=c=>s.value=c)},null,8,["modelValue"])])}}}));var fe=O(ie,[["__scopeId","data-v-65c0ffdc"]]);export{fe as default};
