import{_ as S}from"./GiSvgIcon-f0d8bb1d.js";import{f as w,h as y,j as B,J as T,r as n,o as i,c,w as t,a as e,u as N,ad as q,b as x,e as D,a1 as $,V as g,t as M,p as j,d as G,_ as J}from"./_plugin-vue_export-helper-916c4ad5.js";import{a as W}from"./index-dec030b9.js";import"./vue-router-7a234af7.js";const F=w({__name:"EditMenuModal",setup(v,{expose:h}){const m=y(""),u=y(!1),I=B(()=>m.value?"编辑菜单":"新增菜单"),l=T({parentId:"",name:"",path:"",icon:"",keepAlive:!1,hidden:!1});return h({add:()=>{m.value="",u.value=!0},edit:async f=>{m.value=f,u.value=!0}}),(f,o)=>{const d=n("a-tree-select"),p=n("a-form-item"),k=n("a-input"),b=n("a-switch"),_=n("a-form"),V=n("a-modal");return i(),c(V,{visible:u.value,"onUpdate:visible":o[5]||(o[5]=s=>u.value=s),title:N(I)},{default:t(()=>[e(_,{ref:"formRef",model:l,size:"medium","auto-label-width":""},{default:t(()=>[e(p,{label:"上级菜单",parentId:"name"},{default:t(()=>[e(d,{modelValue:l.parentId,"onUpdate:modelValue":o[0]||(o[0]=s=>l.parentId=s),placeholder:"请选择","field-names":{key:"id",title:"name",children:"children"}},null,8,["modelValue"])]),_:1}),e(p,{label:"菜单名称",field:"name",rules:[{required:!0,message:"请输入菜单名称"},{min:3,max:10,message:"长度在 3 - 10个字符"}],"validate-trigger":["change","input"]},{default:t(()=>[e(k,{placeholder:"请输入菜单名称",modelValue:l.name,"onUpdate:modelValue":o[1]||(o[1]=s=>l.name=s)},null,8,["modelValue"])]),_:1}),e(p,{label:"菜单地址",field:"path",rules:[{required:!0,message:"请输入菜单地址"},{min:3,max:10,message:"长度在 3 - 30个字符"}],"validate-trigger":["change","input"]},{default:t(()=>[e(k,{placeholder:"请输入菜单地址",modelValue:l.path,"onUpdate:modelValue":o[2]||(o[2]=s=>l.path=s)},null,8,["modelValue"])]),_:1}),e(p,{label:"是否缓存",name:"keepAlive"},{default:t(()=>[e(b,{size:"medium",modelValue:l.keepAlive,"onUpdate:modelValue":o[3]||(o[3]=s=>l.keepAlive=s)},null,8,["modelValue"])]),_:1}),e(p,{label:"是否隐藏",name:"hidden"},{default:t(()=>[e(b,{size:"medium",modelValue:l.hidden,"onUpdate:modelValue":o[4]||(o[4]=s=>l.hidden=s)},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["visible","title"])}}}),H=v=>(j("data-v-1368ef92"),v=v(),G(),v),K={class:"menu-manage"},L=H(()=>D("span",null,"新增菜单",-1)),O={class:"table-box"},P={key:0},Q={key:1,class:"no-text"},X={key:1,class:"no-text"},Y=w({name:"MenuManage"}),Z=w({...Y,setup(v){const h=y(),m=y(!1),u=y([]);(()=>{m.value=!0,setTimeout(()=>{u.value=W,m.value=!1},300)})();const l=()=>{var r;(r=h.value)==null||r.add()},z=r=>{var f;(f=h.value)==null||f.edit(r.path)};return(r,f)=>{const o=n("icon-plus"),d=n("a-button"),p=n("a-row"),k=n("IconDown"),b=n("IconRight"),_=n("a-table-column"),V=S,s=n("icon-edit"),A=n("icon-delete"),C=n("a-popconfirm"),R=n("a-space"),U=n("a-table"),E=q("loading");return i(),x("div",K,[e(p,{class:"head"},{default:t(()=>[e(d,{type:"primary",onClick:l},{icon:t(()=>[e(o)]),default:t(()=>[L]),_:1})]),_:1}),D("section",O,[$((i(),c(U,{data:u.value,"row-key":"name",scroll:{x:"100%",y:"100%",minWidth:900},pagination:!1,expandable:{width:80}},{"expand-icon":t(({expanded:a})=>[a?(i(),c(k,{key:0})):(i(),c(b,{key:1}))]),columns:t(()=>[e(_,{title:"菜单名称"},{cell:t(({record:a})=>[g(M(a.name),1)]),_:1}),e(_,{title:"菜单地址","data-index":"path"},{cell:t(({record:a})=>[a.path?(i(),x("span",P,M(a.path),1)):(i(),x("span",Q,"无"))]),_:1}),e(_,{title:"菜单图标","data-index":"icon",width:200},{cell:t(({record:a})=>[a.icon?(i(),c(V,{key:0,size:24,name:a.icon},null,8,["name"])):(i(),x("span",X,"无"))]),_:1}),e(_,{title:"是否缓存",width:200},{cell:t(({record:a})=>[a.keepAlive?(i(),c(d,{key:0,status:"success",size:"mini"},{icon:t(()=>[g("是")]),_:1})):(i(),c(d,{key:1,status:"danger",size:"mini"},{icon:t(()=>[g("否")]),_:1}))]),_:1}),e(_,{title:"是否隐藏","data-index":"hidden",width:200},{cell:t(({record:a})=>[a.hidden?(i(),c(d,{key:0,status:"success",size:"mini"},{icon:t(()=>[g("是")]),_:1})):(i(),c(d,{key:1,status:"danger",size:"mini"},{icon:t(()=>[g("否")]),_:1}))]),_:1}),e(_,{title:"操作",width:100},{cell:t(({record:a})=>[e(R,null,{default:t(()=>[e(d,{type:"primary",size:"mini",onClick:ee=>z(a)},{icon:t(()=>[e(s)]),_:2},1032,["onClick"]),e(C,{type:"warning",content:"您确定要删除该项吗?"},{default:t(()=>[e(d,{type:"primary",status:"danger",size:"mini"},{icon:t(()=>[e(A)]),_:1})]),_:1})]),_:2},1024)]),_:1})]),_:1},8,["data"])),[[E,m.value]])]),e(F,{ref_key:"EditMenuModalRef",ref:h},null,512)])}}});const le=J(Z,[["__scopeId","data-v-1368ef92"]]);export{le as default};
