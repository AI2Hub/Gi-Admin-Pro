var ye=Object.defineProperty,xe=Object.defineProperties;var ke=Object.getOwnPropertyDescriptors;var A=Object.getOwnPropertySymbols;var ge=Object.prototype.hasOwnProperty,Ce=Object.prototype.propertyIsEnumerable;var L=(t,e,o)=>e in t?ye(t,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[e]=o,G=(t,e)=>{for(var o in e||(e={}))ge.call(e,o)&&L(t,o,e[o]);if(A)for(var o of A(e))Ce.call(e,o)&&L(t,o,e[o]);return t},R=(t,e)=>xe(t,ke(e));import{_ as g}from"./index.e81e138c.js";import{r as i,o as _,g as x,a as n,w as a,C as Y,D as U,z as m,h,e as w,i as k,v as D,U as T,u as d,Z,P as q,f as S,c as y,t as N,X as K,V as Q,H as ee,j as M,s as be,L as we,E as $e,W as Fe,T as Ie,l as Me,A as De,p as Ne,Y as Ee,y as V,F as W,B as H,M as J,I as Te}from"./vendor.1acd98e9.js";import{c as Pe}from"./index.d21b05dd.js";import{o as Be,b as Se}from"./index.f95e1b7b.js";const ze={},Oe=t=>(Y("data-v-4b15ad41"),t=t(),U(),t),je={class:"file-aside"},Ae=Oe(()=>h("div",{class:"title"},"\u6587\u4EF6\u7BA1\u7406",-1)),Le=m("\u6587\u4EF6\u7C7B\u578B"),Ge=m(" \u5168\u90E8"),Re=m(" \u56FE\u7247"),Ve=m(" \u6587\u6863"),We=m(" \u89C6\u9891"),He=m(" \u97F3\u4E50"),Je=m(" \u5176\u4ED6");function Xe(t,e){const o=i("icon-apps"),l=i("GiSvgIcon"),u=i("a-menu-item"),s=i("a-sub-menu"),r=i("a-menu");return _(),x("div",je,[n(r,{style:{width:"250px",height:"100%","border-radius":"2px"},"default-open-keys":["0"],"default-selected-keys":["0_0"]},{default:a(()=>[Ae,n(s,{key:"0"},{icon:a(()=>[n(o)]),title:a(()=>[Le]),default:a(()=>[n(u,{key:"0_0"},{icon:a(()=>[n(l,{class:"icon",name:"menu-file"})]),default:a(()=>[Ge]),_:1}),n(u,{key:"0_1"},{icon:a(()=>[n(l,{class:"icon",name:"file-image"})]),default:a(()=>[Re]),_:1}),n(u,{key:"0_2"},{icon:a(()=>[n(l,{class:"icon",name:"file-txt"})]),default:a(()=>[Ve]),_:1}),n(u,{key:"0_3"},{icon:a(()=>[n(l,{class:"icon",name:"file-video"})]),default:a(()=>[We]),_:1}),n(u,{key:"0_4"},{icon:a(()=>[n(l,{class:"icon",name:"file-music"})]),default:a(()=>[He]),_:1}),n(u,{key:"0_5"},{icon:a(()=>[n(l,{class:"icon",name:"file-other"})]),default:a(()=>[Je]),_:1})]),_:1})]),_:1})])}var Ye=g(ze,[["render",Xe],["__scopeId","data-v-4b15ad41"]]);const z=t=>(Y("data-v-b5de0e6c"),t=t(),U(),t),Ue={class:"file-nav-path"},Ze=["onClick"],qe=z(()=>h("span",{class:"path-item"},"\u5168\u90E8",-1)),Ke=z(()=>h("span",{class:"path-item"},"\u6587\u4EF6\u59391",-1)),Qe=z(()=>h("span",{class:"path-item"},"\u5206\u7C7B",-1)),et=w({setup(t){let e=k(!1),o=k(null);const l=()=>{e.value=!0,q(()=>{o.value.focus()})},u=()=>{e.value=!1};return(s,r)=>{const p=i("a-input"),f=i("a-breadcrumb-item"),c=i("a-breadcrumb");return _(),x("div",Ue,[D(n(p,{ref_key:"inputRef",ref:o,size:"medium",placeholder:"\u8BF7\u8F93\u5165\u8DEF\u5F84","allow-clear":"",onBlur:u},null,512),[[T,d(e)]]),D(h("section",{class:"path",onClick:Z(l,["self"])},[n(c,null,{default:a(()=>[n(f,null,{default:a(()=>[qe]),_:1}),n(f,null,{default:a(()=>[Ke]),_:1}),n(f,null,{default:a(()=>[Qe]),_:1})]),_:1})],8,Ze),[[T,!d(e)]])])}}});var tt=g(et,[["__scopeId","data-v-b5de0e6c"]]);const nt=[{name:"\u5168\u90E8",value:"all",icon:"icon-stamp"},{name:"\u56FE\u7247",value:"image",icon:"icon-file-image"},{name:"\u6587\u6863",value:"document",icon:"icon-file"},{name:"\u89C6\u9891",value:"video",icon:"icon-video-camera"},{name:"\u97F3\u4E50",value:"music",icon:"icon-file-audio"},{name:"\u5176\u4ED6",value:"other",icon:"icon-bulb"}],E={mp3:"file-music",mp4:"file-video",dir:"file-dir",ppt:"file-ppt",doc:"file-wps",docx:"file-wps",xls:"file-excel",xlsx:"file-excel",txt:"file-txt",rar:"file-rar",zip:"file-zip",html:"file-html",css:"file-css",js:"file-js",other:"file-other"},X=["jpg","png","gif","jpeg"];const at=["src"],ot=w({props:{data:{type:Object,default:()=>{}}},setup(t){const e=t;let o=S(()=>X.includes(e.data.extendName)),l=S(()=>e.data.isDir?E.dir:X.includes(e.data.extendName)?e.data.src:Object.keys(E).includes(e.data.extendName)?E[e.data.extendName]:E.other);return(u,s)=>{const r=i("GiSvgIcon");return d(o)?(_(),x("img",{key:0,class:"img",src:e.data.src},null,8,at)):(_(),y(r,{key:1,class:"svg",name:d(l)},null,8,["name"]))}}});var te=g(ot,[["__scopeId","data-v-df851a1a"]]);const it={class:"file-image"},lt={class:"file-name"},st=["onClick"],ct=w({props:{data:{type:Object,default:()=>{}},checked:{type:Boolean,default:!1},checkMode:{type:Boolean,default:!1}},emits:["click","check","contextmenu"],setup(t,{emit:e}){const o=t;let l=S(()=>`${o.data.name}${o.data.extendName?`.${o.data.extendName}`:""}`);const u=()=>{console.log("\u70B9\u51FB\u4E86"),o.checkMode?e("check",o.data):e("click",o.data)},s=p=>{p.preventDefault(),e("contextmenu",p,o.data)},r=p=>{e("check",o.data)};return(p,f)=>{const c=i("a-checkbox");return _(),x("div",{class:"file-card",onClick:u,onContextmenu:s},[h("div",it,[n(te,{data:t.data},null,8,["data"])]),h("div",lt,N(d(l)),1),D(h("section",{class:K(["check-mode",{checked:t.checked}]),onClick:Z(u,["stop"])},[n(c,{class:"checkbox","model-value":t.checked,onChange:r},null,8,["model-value"])],10,st),[[T,t.checkMode]])],32)}}});var ut=g(ct,[["__scopeId","data-v-12d81dc4"]]);const dt={class:"file-list-wrap"},_t=["onContextmenu"],rt={class:"file-image"},mt=w({props:{data:{type:Array,default:()=>[]}},emits:["click","contextmenu"],setup(t,{emit:e}){const o=t,l=s=>{e("click",s)},u=(s,r)=>{s.preventDefault(),e("contextmenu",r)};return(s,r)=>{const p=i("a-table-column"),f=i("a-table");return _(),x("div",dt,[n(f,{data:o.data,bordered:!1,pagination:!1,onRowClick:l},{columns:a(()=>[n(p,{title:"\u540D\u79F0"},{cell:a(({record:c})=>[h("div",{class:"file-name",onContextmenu:C=>u(C,c)},[h("div",rt,[n(te,{data:c},null,8,["data"])]),h("span",null,N(c.name),1)],40,_t)]),_:1}),n(p,{title:"\u6269\u5C55\u540D","data-index":"extendName",width:"100"}),n(p,{title:"\u66F4\u6539\u65F6\u95F4","data-index":"updateTime",width:"200"})]),_:1},8,["data"])])}}});var pt=g(mt,[["__scopeId","data-v-35c32dac"]]);const ft=[{id:"001",type:"files",name:"\u6587\u4EF6\u5939",extendName:"",src:null,updateTime:"2022-01-20 18:30:00",isDir:!0,filePath:"/"},{id:"002",type:"files",name:"\u6587\u4EF6\u59391",extendName:"",src:null,updateTime:"2022-01-20 18:30:00",isDir:!0,filePath:"/"},{id:"003",type:"file",name:"\u54C8\u54C8",extendName:"doc",src:null,updateTime:"2022-01-20 18:30:00",isDir:!1,filePath:"/"},{id:"004",type:"file",name:"\u54C8\u54C8",extendName:"mp3",src:null,updateTime:"2022-01-20 18:30:00",isDir:!1,filePath:"/"},{id:"005",type:"file",name:"\u54C8\u54C8",extendName:"mp4",src:null,updateTime:"2022-01-20 18:30:00",isDir:!1,filePath:"/"},{id:"006",type:"file",name:"\u538B\u7F29\u5305",extendName:"zip",src:null,updateTime:"2022-01-20 18:30:00",isDir:!1,filePath:"/"},{id:"007",type:"file",name:"\u9879\u76EE",extendName:"rar",src:null,updateTime:"2022-01-20 18:30:00",isDir:!1,filePath:"/"},{id:"008",type:"file",name:"\u6570\u636E\u8868\u683C",extendName:"xls",src:null,updateTime:"2022-01-20 18:30:00",isDir:!1,filePath:"/"},{id:"009",type:"file",name:"PPT\u6F14\u793A",extendName:"ppt",src:null,updateTime:"2022-01-20 18:30:00",isDir:!1,filePath:"/"},{id:"010",type:"file",name:"\u6587\u672C",extendName:"txt",src:null,updateTime:"2022-01-20 18:30:00",isDir:!1,filePath:"/"},{id:"011",type:"file",name:"\u672A\u77E5\u6587\u4EF6",extendName:"",src:null,updateTime:"2022-01-20 18:30:00",isDir:!1,filePath:"/"},{id:"012",type:"file",name:"\u9996\u9875",extendName:"html",src:null,updateTime:"2022-01-20 18:30:00",filePath:"/"},{id:"013",type:"file",name:"\u6837\u5F0F",extendName:"css",src:null,updateTime:"2022-01-20 18:30:00",isDir:!1,filePath:"/"},{id:"014",type:"file",name:"\u4EE3\u7801",extendName:"js",src:null,updateTime:"2022-01-20 18:30:00",isDir:!1,filePath:"/"},{id:"106",type:"file",name:"\u56FE\u7247",extendName:"png",src:"https://img0.baidu.com/it/u=2746352008,2041591833&fm=253&fmt=auto&app=138&f=JPEG?w=360&h=360",updateTime:"2022-01-20 18:30:00",isDir:!1,filePath:"/"},{id:"107",type:"file",name:"\u5934\u50CF",extendName:"png",src:"https://img2.baidu.com/it/u=304294273,3088990845&fm=253&fmt=auto&app=138&f=JPEG?w=400&h=400",updateTime:"2022-01-20 18:30:00",isDir:!1,filePath:"/"},{id:"108",type:"file",name:"\u5934\u50CF1",extendName:"png",src:"https://img0.baidu.com/it/u=3745738950,3664021749&fm=253&fmt=auto&app=138&f=JPEG?w=500&h=500",updateTime:"2022-01-20 18:30:00",isDir:!1,filePath:"/"},{id:"109",type:"file",name:"\u5934\u50CF2",extendName:"png",src:"https://img1.baidu.com/it/u=1817951587,3188870642&fm=253&fmt=auto&app=138&f=JPEG?w=500&h=500",updateTime:"2022-01-20 18:30:00",isDir:!1,filePath:"/"},{id:"110",type:"file",name:"\u5934\u50CF3",extendName:"png",src:"https://img0.baidu.com/it/u=2927161611,205964738&fm=253&fmt=auto&app=138&f=JPEG?w=360&h=360",updateTime:"2022-01-20 18:30:00",isDir:!1,filePath:"/"}];const ht={},vt={class:"option"};function yt(t,e){return _(),x("div",vt,[Q(t.$slots,"default",{},void 0,!0)])}var xt=g(ht,[["render",yt],["__scopeId","data-v-2106a7ce"]]);const kt={class:"wrap"},gt=w({props:{icon:{type:String,default:""},label:{type:String,default:""},mode:{type:String,default:""},active:{type:Boolean,default:!1}},emits:["click"],setup(t,{emit:e}){const o=()=>{e("click")};return(l,u)=>{const s=i("IconRight");return _(),x("div",{class:K(["option-item",{more:t.mode==="more",active:t.active}]),onClick:o},[h("section",kt,[(_(),y(ee(t.icon),{size:"16","stroke-width":2,style:{"margin-right":"2px"}})),Q(l.$slots,"default",{},()=>[h("span",null,N(t.label),1)],!0)]),t.mode==="more"?(_(),y(s,{key:0})):M("",!0)],2)}}});var Ct=g(gt,[["__scopeId","data-v-ce82651a"]]);const bt=w({components:{Option:xt,OptionItem:Ct},props:{axis:{type:Object,default:()=>({x:0,y:0})},fileInfo:Object,onClick:Function,onCancel:Function},setup(t){let e=k(!1),o=k({}),l=k(0),u=k(0),s=k(null);const r=()=>{const c={};t.axis.x>window.innerWidth-l.value?c.right=window.innerWidth-t.axis.x+"px":c.left=t.axis.x+2+"px",t.axis.y>window.innerHeight-u.value?(c.bottom=window.innerHeight-t.axis.y+"px",c["transform-origin"]="center bottom"):(c.top=t.axis.y+2+"px",c["transform-origin"]="center top"),c["z-index"]=1e3,o.value=c};Be(s,()=>{e.value=!1,t.onCancel()});const p=c=>{e.value=!1,t.onClick(c)},f=be(Se());return we(()=>[f.width,f.height],()=>{e.value=!1,t.onCancel()}),$e(()=>{setTimeout(()=>{e.value=!0,q(()=>{l.value=s.value.offsetWidth,u.value=s.value.offsetHeight,r()})},100)}),{showContentMenu:e,contentMenuStyle:o,contextMenuRef:s,handleClickMenuItem:p}}}),wt=m("\u7F16\u8F91"),$t=m("\u5220\u9664"),Ft=m("\u590D\u5236"),It=m("\u4E0B\u8F7D"),Mt=m("\u89E3\u538B"),Dt=m("\u89E3\u538B1"),Nt=m("\u89E3\u538B2");function Et(t,e,o,l,u,s){const r=i("OptionItem"),p=i("Option"),f=i("a-popover");return _(),y(Ie,{name:"slide-dynamic-origin"},{default:a(()=>[D(h("div",{class:"wrap file-context-menu",ref:"contextMenuRef",style:Fe(t.contentMenuStyle)},[n(p,null,{default:a(()=>[n(r,{icon:"icon-edit",onClick:e[0]||(e[0]=c=>t.handleClickMenuItem("edit"))},{default:a(()=>[wt]),_:1}),n(r,{icon:"icon-delete",onClick:e[1]||(e[1]=c=>t.handleClickMenuItem("delete"))},{default:a(()=>[$t]),_:1}),n(r,{icon:"icon-copy",onClick:e[2]||(e[2]=c=>t.handleClickMenuItem("copy"))},{default:a(()=>[Ft]),_:1}),n(r,{icon:"icon-download",onClick:e[3]||(e[3]=c=>t.handleClickMenuItem("download"))},{default:a(()=>[It]),_:1}),n(f,{position:"right","content-style":{padding:0,overflow:"hidden"}},{content:a(()=>[n(p,null,{default:a(()=>[n(r,{icon:"icon-download",onClick:e[5]||(e[5]=c=>t.handleClickMenuItem("zip1"))},{default:a(()=>[Dt]),_:1}),n(r,{icon:"icon-download",onClick:e[6]||(e[6]=c=>t.handleClickMenuItem("zip2"))},{default:a(()=>[Nt]),_:1})]),_:1})]),default:a(()=>[t.fileInfo.extendName==="zip"?(_(),y(r,{key:0,icon:"icon-layers",onClick:e[4]||(e[4]=c=>t.handleClickMenuItem("zip"))},{default:a(()=>[Mt]),_:1})):M("",!0)]),_:1})]),_:1})],4),[[T,t.showContentMenu]])]),_:1})}var Tt=g(bt,[["render",Et],["__scopeId","data-v-03a093be"]]);let F=null,b=null;function Pt(t,e){return new Promise((o,l)=>{F!==null&&F.unmount(),b!==null&&document.body.removeChild(b),b=document.createElement("div"),document.body.appendChild(b),F=Me(Tt,{axis:{x:t.clientX,y:t.clientY},fileInfo:e,onClick:s=>{o({mode:s,fileInfo:e}),setTimeout(()=>{u(),F=null,b=null},500)},onCancel:()=>{l("error"),setTimeout(()=>{u(),F=null,b=null},500)}}).use(De).use(Ne);function u(){F!==null&&F.unmount(),b!==null&&document.body.removeChild(b)}F.mount(b)})}const Bt={class:"file-main"},St=m(" \u4E0A\u4F20"),zt=m("\u4E0A\u4F20\u6587\u4EF6"),Ot=m("\u4E0A\u4F20\u6587\u4EF6\u5939"),jt=m(" \u67E5\u8BE2 "),At={key:0,class:"file-wrap"},Lt=w({setup(t){const e=Pe();let o=k("\u7B49\u5F85\u4E2D..."),l=k(!1),u=k([]);u.value=ft;let s=k(!1);const r=C=>{J.success(`\u70B9\u51FB\u4E86\u6587\u4EF6-${C.name}`)},p=C=>{e.addSelectedFileItem(C)},f=(C,$)=>{Pt(C,$).then(P=>{J.success("\u70B9\u51FB\u4E86"+P.mode)})},c=()=>{Te.warning({title:"\u63D0\u793A",content:"\u662F\u5426\u786E\u8BA4\u5220\u9664\uFF1F",hideCancel:!1})};return(C,$)=>{const P=i("icon-upload"),I=i("a-button"),O=i("a-doption"),ne=i("a-dropdown"),ae=i("icon-select-all"),oe=i("a-option"),ie=i("a-select"),le=i("icon-search"),se=i("a-input-search"),ce=i("a-input-group"),j=i("a-space"),ue=i("icon-delete"),de=i("icon-swap"),B=i("a-tooltip"),_e=i("icon-filter"),re=i("icon-apps"),me=i("icon-list"),pe=i("a-button-group"),fe=i("a-row"),he=Ee("loading");return _(),x("div",Bt,[n(tt),n(fe,{justify:"space-between"},{default:a(()=>[n(j,null,{default:a(()=>[n(ne,null,{content:a(()=>[n(O,null,{default:a(()=>[zt]),_:1}),n(O,null,{default:a(()=>[Ot]),_:1})]),default:a(()=>[n(I,{type:"primary"},{default:a(()=>[n(P),St]),_:1})]),_:1}),n(I,{type:"primary",onClick:$[0]||($[0]=v=>V(s)?s.value=!d(s):s=!d(s))},{default:a(()=>[n(ae),m(" "+N(d(s)?"\u53D6\u6D88\u6279\u91CF\u64CD\u4F5C":"\u6279\u91CF\u64CD\u4F5C"),1)]),_:1}),n(ce,null,{default:a(()=>[n(ie,{style:{width:"120px"},placeholder:"\u8BF7\u9009\u62E9..."},{default:a(()=>[(_(!0),x(W,null,H(d(nt),v=>(_(),y(oe,{key:v.value},{default:a(()=>[(_(),y(ee(v.icon),{size:"18",style:{color:"#bbb","margin-right":"5px"}})),m(N(v.name),1)]),_:2},1024))),128))]),_:1}),n(se,{style:{width:"360px"},placeholder:"\u8BF7\u8F93\u5165\u5173\u952E\u8BCD...","allow-clear":"","search-button":""},{"button-icon":a(()=>[n(le)]),"button-default":a(()=>[jt]),_:1})]),_:1})]),_:1}),n(j,null,{default:a(()=>[d(s)?(_(),y(I,{key:0,disabled:!d(e).selectedFileIdList.length,type:"primary",status:"danger",onClick:c},{icon:a(()=>[n(ue)]),_:1},8,["disabled"])):M("",!0),n(pe,null,{default:a(()=>[n(B,{content:"\u4F20\u8F93\u5217\u8868",position:"bottom"},{default:a(()=>[n(I,{onClick:$[1]||($[1]=v=>V(l)?l.value=!d(l):l=!d(l))},{icon:a(()=>[n(de)]),_:1})]),_:1}),n(B,{content:"\u6392\u5E8F",position:"bottom"},{default:a(()=>[n(I,{onClick:C.handleFilter},{icon:a(()=>[n(_e)]),_:1},8,["onClick"])]),_:1}),n(B,{content:"\u89C6\u56FE",position:"bottom"},{default:a(()=>[n(I,{onClick:$[2]||($[2]=v=>d(e).changeViewMode(d(e).viewMode==1?2:1))},{icon:a(()=>[d(e).viewMode==1?(_(),y(re,{key:0})):(_(),y(me,{key:1}))]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),d(e).viewMode==1?D((_(),x("section",At,[(_(!0),x(W,null,H(d(u),v=>(_(),y(ut,{key:v.id,data:v,"check-mode":d(s),checked:d(e).selectedFileIdList.includes(v.id),onClick:ve=>r(v),onCheck:ve=>p(v),onContextmenu:f},null,8,["data","check-mode","checked","onClick","onCheck"]))),128))])),[[he,d(l),d(o)]]):M("",!0),d(e).viewMode==2?(_(),y(pt,{key:1,data:d(u),onClick:r,onContextmenu:f},null,8,["data"])):M("",!0)])}}});var Gt=g(Lt,[["__scopeId","data-v-96bbcf2c"]]);const Rt={class:"file-manage"},Vt=w({name:"FileManage"}),Wt=w(R(G({},Vt),{setup(t){return(e,o)=>(_(),x("div",Rt,[n(Ye),n(Gt)]))}}));var Zt=g(Wt,[["__scopeId","data-v-47b01f2a"]]);export{Zt as default};
