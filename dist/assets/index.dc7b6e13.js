import{e as b,y as N,r as s,o as r,c as d,w as c,a as o,g as w,B as q,z as $,t as A,u as f,F as G,i as U,C as R,D as O,E as H,h as p,G as j,H as J,I as Q,T as W,K as X,J as Y,L as Z}from"./vendor.3be56953.js";import{u as L,a as ee,b as V}from"./index.f662fbdd.js";import{_ as y}from"./index.4cb13fe5.js";import{_ as ne}from"./avatar.d240db71.js";import{u as te,a as oe}from"./index.95c0b268.js";const se=b({setup(t){const e=N(),n=L(),a=l=>{n.setActivePath(l.path),e.push(l.path)};return(l,u)=>{const i=s("GiSvgIcon"),F=s("a-menu-item"),v=s("a-menu"),g=s("a-layout-sider");return r(),d(g,{collapsible:"",breakpoint:"xl",class:"aside"},{default:c(()=>[o(v,{"selected-keys":[f(n).activePath],style:{width:"100%",height:"100%"}},{default:c(()=>[(r(!0),w(G,null,q(f(n).menuList,m=>(r(),d(F,{key:m.path,onClick:x=>a(m)},{icon:c(()=>[o(i,{size:24,name:m.icon},null,8,["name"])]),default:c(()=>[$(" "+A(m.name),1)]),_:2},1032,["onClick"]))),128))]),_:1},8,["selected-keys"])]),_:1})}}});var ce=y(se,[["__scopeId","data-v-456b2811"]]),ae="/gi-demo/assets/logo.1ea765ca.png";const M=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],h=(()=>{const t=M[0],e={};for(const n of M)if((n==null?void 0:n[1])in document){for(const[l,u]of n.entries())e[t[l]]=u;return e}return!1})(),P={change:h.fullscreenchange,error:h.fullscreenerror};let _={request(t=document.documentElement,e){return new Promise((n,a)=>{const l=()=>{_.off("change",l),n()};_.on("change",l);const u=t[h.requestFullscreen](e);u instanceof Promise&&u.then(l).catch(a)})},exit(){return new Promise((t,e)=>{if(!_.isFullscreen){t();return}const n=()=>{_.off("change",n),t()};_.on("change",n);const a=document[h.exitFullscreen]();a instanceof Promise&&a.then(n).catch(e)})},toggle(t,e){return _.isFullscreen?_.exit():_.request(t,e)},onchange(t){_.on("change",t)},onerror(t){_.on("error",t)},on(t,e){const n=P[t];n&&document.addEventListener(n,e,!1)},off(t,e){const n=P[t];n&&document.removeEventListener(n,e,!1)},raw:h};Object.defineProperties(_,{isFullscreen:{get:()=>Boolean(document[h.fullscreenElement])},element:{enumerable:!0,get:()=>{var t;return(t=document[h.fullscreenElement])!=null?t:void 0}},isEnabled:{enumerable:!0,get:()=>Boolean(document[h.fullscreenEnabled])}});h||(_={isEnabled:!1});var S=_;const le=b({setup(t){const e=U(!1),n=()=>{e.value=S.isFullscreen},a=()=>{S.toggle()};return R(()=>{S.on("change",n)}),O(()=>{S.off("change",n)}),(l,u)=>{const i=s("icon-fullscreen"),F=s("icon-fullscreen-exit");return r(),w("span",{class:"gi-fullscreen-icon",onClick:a},[e.value?(r(),d(F,{key:1,size:18})):(r(),d(i,{key:0,size:18}))])}}});var re=y(le,[["__scopeId","data-v-2dd6cd7e"]]);const ue=b({setup(t){const e=L(),n=te({selector:"body",attribute:"arco-theme",valueDark:"dark",valueLight:"light",storageKey:"arco-theme",onChanged(l){e.toggleTheme(l)}}),a=oe(n);return(l,u)=>{const i=s("a-button");return r(),d(i,{class:"toggle-theme-btn",size:"mini",onClick:f(a)},{icon:c(()=>[(r(),d(H(f(e).theme==="light"?"icon-sun-fill":"icon-moon-fill"),{size:18}))]),_:1},8,["onClick"])}}});var _e=y(ue,[["__scopeId","data-v-6df983de"]]);const B=t=>(j("data-v-6d54f0e2"),t=t(),J(),t),ie=B(()=>p("img",{src:ae},null,-1)),de={class:"gi_hover"},pe=B(()=>p("img",{src:ne},null,-1)),me={class:"option-item"},fe={style:{background:"#1677ff"}},he=B(()=>p("span",null,"\u4E2A\u4EBA\u4E2D\u5FC3",-1)),ve={class:"option-item"},ge={style:{background:"#ff7d00"}},be=B(()=>p("span",null,"\u9000\u51FA\u767B\u5F55",-1)),ye=b({setup(t){const e=N(),n=L(),a=ee(),l=()=>{e.push("/")},u=()=>{e.push("/user")},i=()=>{Q.warning({title:"\u63D0\u793A",content:"\u786E\u8BA4\u9000\u51FA\u767B\u5F55\uFF1F",hideCancel:!1,onOk:()=>{e.replace("/login")}})};return(F,v)=>{const g=s("icon-notification"),m=s("a-tooltip"),x=s("a-avatar"),I=s("icon-down"),T=s("a-button"),E=s("icon-user"),C=s("a-doption"),z=s("icon-export"),D=s("a-dropdown"),k=s("a-space"),K=s("a-layout-header");return r(),d(K,null,{default:c(()=>[p("section",{class:"system-logo",onClick:l},[ie,p("span",de,A(f(n).systemName),1)]),o(k,{class:"system-head",size:"medium"},{default:c(()=>[o(m,{content:"\u6D88\u606F\u901A\u77E5",position:"bl"},{default:c(()=>[o(g,{class:"gi_hover",size:18})]),_:1}),o(re,{class:"gi_hover"}),o(_e),o(x,{size:32},{default:c(()=>[pe]),_:1}),o(D,{trigger:"hover"},{content:c(()=>[o(C,{onClick:u},{default:c(()=>[p("div",me,[p("span",fe,[o(E)]),he])]),_:1}),o(C,{onClick:i},{default:c(()=>[p("div",ve,[p("span",ge,[o(z)]),be])]),_:1})]),default:c(()=>[o(T,{type:"text",class:"username"},{default:c(()=>[p("span",null,A(f(a).userName),1),o(I)]),_:1})]),_:1})]),_:1})]),_:1})}}});var Fe=y(ye,[["__scopeId","data-v-6d54f0e2"]]);const ke=b({setup(t){const e=V();return(n,a)=>{const l=s("router-view"),u=s("a-layout");return r(),d(u,{class:"main"},{default:c(()=>[o(l,null,{default:c(({Component:i})=>[o(W,{name:"fade-transform",mode:"out-in",appear:""},{default:c(()=>[(r(),d(X,{include:f(e).cacheList},[(r(),d(H(i)))],1032,["include"]))]),_:2},1024)]),_:1})]),_:1})}}});var xe=y(ke,[["__scopeId","data-v-437fa010"]]);const Ee={class:"nav-tab"},Ce=$("\u5173\u95ED\u5F53\u524D\u9875\u7B7E"),Se=$("\u5173\u95ED\u6240\u6709\u9875\u7B7E"),we=b({setup(t){const e=Y(),n=N(),a=V();R(()=>{l()}),Z(()=>e.path,()=>{l()});const l=()=>{a.addTabItem({name:e.meta.title||"\u672A\u547D\u540D",path:e.path,componentName:e.name}),e.meta.keepAlive&&a.addCacheItem(e.name)},u=v=>{console.log("\u70B9\u51FB\u524D",a.cacheList),n.push({path:v})},i=v=>{let g=a.tabList.find(m=>m.path===v);a.removeTabItem(v),a.removeCacheItem(g.componentName),console.log("\u5173\u95ED\u540E",a.cacheList)},F=()=>{a.clearTabList()};return(v,g)=>{const m=s("a-tab-pane"),x=s("icon-settings"),I=s("a-button"),T=s("icon-minus-circle-fill"),E=s("a-doption"),C=s("icon-close-circle-fill"),z=s("a-dropdown"),D=s("a-tabs");return r(),w("div",Ee,[o(D,{type:"card-gutter","active-key":f(e).path,editable:"",onTabClick:u,onDelete:i},{extra:c(()=>[o(z,{trigger:"hover"},{content:c(()=>[o(E,{onClick:g[0]||(g[0]=k=>i(f(e).path))},{icon:c(()=>[o(T,{size:20,style:{color:"#ff7d00"}})]),default:c(()=>[Ce]),_:1}),o(E,{onClick:F},{icon:c(()=>[o(C,{size:20,style:{color:"#f53f3f"}})]),default:c(()=>[Se]),_:1})]),default:c(()=>[o(I,{type:"primary",class:"extra-btn"},{icon:c(()=>[o(x,{size:18})]),_:1})]),_:1})]),default:c(()=>[(r(!0),w(G,null,q(f(a).tabList,k=>(r(),d(m,{key:k.path,title:k.name,closable:k.path!=="/home"},null,8,["title","closable"]))),128))]),_:1},8,["active-key"])])}}});var Be=y(we,[["__scopeId","data-v-48e6d049"]]);const Ie=b({setup(t){return(e,n)=>{const a=s("a-layout");return r(),d(a,{class:"layout"},{default:c(()=>[o(ce),o(a,null,{default:c(()=>[o(Fe),o(Be),o(xe)]),_:1})]),_:1})}}});var $e=y(Ie,[["__scopeId","data-v-2d039723"]]);export{$e as default};
