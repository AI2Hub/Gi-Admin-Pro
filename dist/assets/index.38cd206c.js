var A=Object.defineProperty;var x=Object.getOwnPropertySymbols;var T=Object.prototype.hasOwnProperty,z=Object.prototype.propertyIsEnumerable;var V=(u,a,t)=>a in u?A(u,a,{enumerable:!0,configurable:!0,writable:!0,value:t}):u[a]=t,y=(u,a)=>{for(var t in a||(a={}))T.call(a,t)&&V(u,t,a[t]);if(x)for(var t of x(a))z.call(a,t)&&V(u,t,a[t]);return u};import{d as C,r as w,v as N,h as n,o as b,m as B,w as l,e,u as i,i as D,j as k,_ as M,a as f,c as j,b as h,y as q,a2 as L,t as $,B as G,C as H}from"./index.31cd6548.js";import{b as J}from"./system.c70e58d5.js";import"./axios.f198eae6.js";const K=k("role_code_"),O=C({props:{modelValue:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(u,{emit:a}){const t=u,_=w({name:"",roleCode:"",remarks:""});let s=N({get:()=>t.modelValue,set:F=>{a("update:modelValue",F)}});return(F,r)=>{const d=n("a-input"),c=n("a-form-item"),g=n("a-textarea"),p=n("a-form"),v=n("a-modal");return b(),B(v,{visible:i(s),"onUpdate:visible":r[3]||(r[3]=o=>D(s)?s.value=o:s=o),title:"\u65B0\u589E\u89D2\u8272"},{default:l(()=>[e(p,null,{default:l(()=>[e(c,{label:"\u89D2\u8272\u540D\u79F0",name:"name",field:"name",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u89D2\u8272\u540D\u79F0",trigger:"blur"},{min:3,max:10,message:"\u957F\u5EA6\u5728 3 - 10\u4E2A\u5B57\u7B26",trigger:"blur"}],"validate-trigger":["change","input"]},{default:l(()=>[e(d,{placeholder:"\u8BF7\u8F93\u5165\u89D2\u8272\u540D\u79F0",modelValue:i(_).name,"onUpdate:modelValue":r[0]||(r[0]=o=>i(_).name=o)},null,8,["modelValue"])]),_:1}),e(c,{label:"\u89D2\u8272\u7F16\u53F7",name:"roleCode"},{default:l(()=>[e(d,{placeholder:"\u8BF7\u8F93\u5165\u89D2\u8272\u7F16\u53F7",modelValue:i(_).roleCode,"onUpdate:modelValue":r[1]||(r[1]=o=>i(_).roleCode=o)},{prepend:l(()=>[K]),_:1},8,["modelValue"])]),_:1}),e(c,{label:"\u63CF\u8FF0",name:"remarks"},{default:l(()=>[e(g,{modelValue:i(_).remarks,"onUpdate:modelValue":r[2]||(r[2]=o=>i(_).remarks=o),placeholder:"\u89D2\u8272\u63CF\u8FF0","auto-size":{minRows:3,maxRows:5}},null,8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["visible"])}}});const P=u=>(G("data-v-9987b83a"),u=u(),H(),u),Q={class:"role-manage"},W=P(()=>h("span",null,"\u65B0\u589E\u89D2\u8272",-1)),X={class:"table-box"},Y=C({setup(u){let a=f(!1);const t=f([]);let _=f(0),s=f(!1);const F=w({pageCount:1,pageSize:500});return(async()=>{try{a.value=!0;const d=await J(y({},F));d.success&&(t.value=d.data.list,_.value=d.data.total,a.value=!1)}catch(d){return d}})(),(d,c)=>{const g=n("icon-plus"),p=n("a-button"),v=n("a-row"),o=n("a-table-column"),E=n("icon-edit"),R=n("icon-delete"),S=n("a-space"),I=n("a-table"),U=L("loading");return b(),j("div",Q,[e(v,{class:"head"},{default:l(()=>[e(p,{type:"primary",onClick:c[0]||(c[0]=m=>D(s)?s.value=!0:s=!0)},{icon:l(()=>[e(g)]),default:l(()=>[W]),_:1})]),_:1}),h("section",X,[q((b(),B(I,{data:t.value,"row-key":"id",scroll:{x:"100%",y:"100%"},pagination:{"show-page-size":!0}},{columns:l(()=>[e(o,{title:"\u5E8F\u53F7"},{cell:l(m=>[k($(m.rowIndex+1),1)]),_:1}),e(o,{title:"\u89D2\u8272\u540D\u79F0","data-index":"name"}),e(o,{title:"\u89D2\u8272\u7F16\u53F7","data-index":"roleCode"}),e(o,{title:"\u89D2\u8272\u63CF\u8FF0","data-index":"description"}),e(o,{title:"\u521B\u5EFA\u65F6\u95F4","data-index":"createTime"}),e(o,{title:"\u64CD\u4F5C",width:"100"},{cell:l(({record:m})=>[e(S,null,{default:l(()=>[e(p,{type:"primary"},{icon:l(()=>[e(E)]),_:1}),e(p,{type:"primary",status:"danger"},{icon:l(()=>[e(R)]),_:1})]),_:1})]),_:1})]),_:1},8,["data"])),[[U,i(a)]])]),e(O,{modelValue:i(s),"onUpdate:modelValue":c[1]||(c[1]=m=>D(s)?s.value=m:s=m)},null,8,["modelValue"])])}}});var oe=M(Y,[["__scopeId","data-v-9987b83a"]]);export{oe as default};
