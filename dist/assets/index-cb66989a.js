import{f as V,h as g,j as B,J as S,r as t,o as v,c as w,w as o,a as e,V as f,u as C,d as U,b as R,t as N,p as A,e as D,_ as T}from"./_plugin-vue_export-helper-e17621df.js";import"./index-03184213.js";import"./index-a25f1d51.js";import{a as $}from"./useApiSystem-fceced91.js";import{l as j}from"./index-0c1638bc.js";import"./index-faa9367c.js";import"./vue-router-d5bba377.js";import"./runtime-dom.esm-bundler-aa2e2a76.js";const q=V({__name:"EditRoleModal",setup(m,{expose:x}){const i=g(""),y=B(()=>i.value?"编辑角色":"新增角色"),c=g(!1),n=S({name:"",roleCode:"",remarks:""});return x({add:()=>{i.value="",c.value=!0},edit:r=>{i.value=r,c.value=!0}}),(r,a)=>{const d=t("a-input"),p=t("a-form-item"),l=t("a-textarea"),b=t("a-form"),k=t("a-modal");return v(),w(k,{visible:c.value,"onUpdate:visible":a[3]||(a[3]=s=>c.value=s),title:C(y)},{default:o(()=>[e(b,{model:n,size:"medium","auto-label-width":""},{default:o(()=>[e(p,{label:"角色名称",name:"name",field:"name",rules:[{required:!0,message:"请输入角色名称"},{min:3,max:10,message:"长度在 3 - 10个字符"}],"validate-trigger":["change","input"]},{default:o(()=>[e(d,{placeholder:"请输入角色名称",modelValue:n.name,"onUpdate:modelValue":a[0]||(a[0]=s=>n.name=s)},null,8,["modelValue"])]),_:1}),e(p,{label:"角色编号",name:"roleCode"},{default:o(()=>[e(d,{placeholder:"请输入角色编号",modelValue:n.roleCode,"onUpdate:modelValue":a[1]||(a[1]=s=>n.roleCode=s)},{prepend:o(()=>[f("role_")]),_:1},8,["modelValue"])]),_:1}),e(p,{label:"描述",name:"remarks"},{default:o(()=>[e(l,{modelValue:n.remarks,"onUpdate:modelValue":a[2]||(a[2]=s=>n.remarks=s),placeholder:"角色描述","auto-size":{minRows:3,maxRows:5}},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["visible","title"])}}}),J=m=>(A("data-v-10fb6b29"),m=m(),D(),m),L={class:"role-manage"},O=J(()=>R("span",null,"新增角色",-1)),W={class:"table-box"},F=V({name:"RoleManage"}),G=V({...F,setup(m){const x=g(!1),i=g(),{roleList:y}=$(),c=()=>{var _;(_=i.value)==null||_.add()},n=_=>{var r;(r=i.value)==null||r.edit(_.id)},h=()=>{j.info("点击了确认按钮")};return(_,r)=>{const a=t("icon-plus"),d=t("a-button"),p=t("a-row"),l=t("a-table-column"),b=t("a-tag"),k=t("icon-delete"),s=t("a-popconfirm"),I=t("icon-edit"),M=t("icon-safe"),z=t("a-space"),E=t("a-table");return v(),U("div",L,[e(p,{class:"head"},{default:o(()=>[e(d,{type:"primary",onClick:c},{icon:o(()=>[e(a)]),default:o(()=>[O]),_:1})]),_:1}),R("section",W,[e(E,{data:C(y),"row-key":"id",loading:x.value,scroll:{x:"100%",y:"100%",minWidth:900},pagination:!1},{columns:o(()=>[e(l,{title:"序号",width:60},{cell:o(u=>[f(N(u.rowIndex+1),1)]),_:1}),e(l,{title:"角色名称","data-index":"name"}),e(l,{title:"角色编号","data-index":"roleCode"}),e(l,{title:"状态",width:100},{cell:o(({record:u})=>[u.status==1?(v(),w(b,{key:0,color:"green"},{default:o(()=>[f("正常")]),_:1})):(v(),w(b,{key:1,color:"red"},{default:o(()=>[f("禁用")]),_:1}))]),_:1}),e(l,{title:"角色描述","data-index":"description"}),e(l,{title:"创建时间","data-index":"createTime"}),e(l,{title:"操作",width:220,align:"center"},{cell:o(({record:u})=>[e(z,null,{default:o(()=>[e(s,{type:"warning",content:"您确定要删除该项吗?",onOk:h},{default:o(()=>[e(d,{type:"primary",status:"danger",size:"mini"},{icon:o(()=>[e(k)]),_:1})]),_:1}),e(d,{type:"primary",size:"mini",onClick:H=>n(u)},{icon:o(()=>[e(I)]),_:2},1032,["onClick"]),e(d,{type:"primary",status:"success",size:"mini"},{icon:o(()=>[e(M)]),default:o(()=>[f("菜单权限")]),_:1})]),_:2},1024)]),_:1})]),_:1},8,["data","loading"])]),e(q,{ref_key:"EditRoleModalRef",ref:i},null,512)])}}});const te=T(G,[["__scopeId","data-v-10fb6b29"]]);export{te as default};
