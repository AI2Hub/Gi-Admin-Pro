var W=Object.defineProperty,X=Object.defineProperties;var Y=Object.getOwnPropertyDescriptors;var U=Object.getOwnPropertySymbols;var q=Object.prototype.hasOwnProperty,Z=Object.prototype.propertyIsEnumerable;var j=(s,a,l)=>a in s?W(s,a,{enumerable:!0,configurable:!0,writable:!0,value:l}):s[a]=l,N=(s,a)=>{for(var l in a||(a={}))q.call(a,l)&&j(s,l,a[l]);if(U)for(var l of U(a))Z.call(a,l)&&j(s,l,a[l]);return s},L=(s,a)=>X(s,Y(a));import{_ as ee}from"./GiFooter.eeabd422.js";import{e as te}from"./index.6d1cc72a.js";import{_ as J,d as K,eI as oe,eJ as ae,r as p,i as o,o as x,c as O,e,w as t,t as M,j as c,m as R,b as k,eK as ne,B as se,Q as le,Y as ie,k as u,eA as ue,H as ce,A as H,X as _e,p as re,f as de,M as P}from"./index.fcf38972.js";import"./index.88aaa5a8.js";import{u as pe}from"./usePagination.251dedbe.js";import"./viewer.fc99b5d5.js";import{g as me}from"./table.96a9a2be.js";const fe=u("\u5C0F"),ge=u("\u9ED8\u8BA4"),ve=u("\u4E2D"),he=u("\u5927"),be={class:"table-box"},xe={name:"GiTable",inheritAttrs:!1},ye=K(L(N({},xe),{emits:["refresh"],setup(s,{expose:a,emit:l}){const y=oe(),z=ae(),C=p(null),v=p(!1),h=p("small"),b=p(!0),m=p(null),{isFullscreen:B,toggle:F}=te(m),E=()=>{l("refresh")};return a({tableRef:C}),(_,d)=>{const w=o("a-space"),r=o("a-switch"),f=o("a-tooltip"),S=o("icon-refresh"),i=o("a-button"),A=o("icon-fullscreen"),V=o("icon-fullscreen-exit"),D=o("icon-apps"),g=o("a-radio"),T=o("a-radio-group"),$=o("a-row"),I=o("a-table");return x(),O("div",{class:ie(["gi-table",{fullscreen:c(B)}]),ref_key:"giTableRef",ref:m},[e($,{justify:"space-between"},{default:t(()=>[e(w,null,{default:t(()=>[M(_.$slots,"left",{},void 0,!0)]),_:3}),e(w,{size:15},{default:t(()=>[e(f,{content:"\u6591\u9A6C\u7EB9"},{default:t(()=>[e(r,{modelValue:v.value,"onUpdate:modelValue":d[0]||(d[0]=n=>v.value=n),size:"medium"},null,8,["modelValue"])]),_:1}),e(f,{content:"\u5237\u65B0"},{default:t(()=>[e(i,{size:"mini",class:"gi_hover_btn",onClick:E},{icon:t(()=>[e(S,{size:18})]),_:1})]),_:1}),e(f,{content:"\u5168\u5C4F"},{default:t(()=>[e(i,{size:"mini",class:"gi_hover_btn",onClick:c(F)},{icon:t(()=>[c(B)?(x(),R(V,{key:1,size:18})):(x(),R(A,{key:0,size:18}))]),_:1},8,["onClick"])]),_:1}),e(f,{content:"\u663E\u793A\u8FB9\u6846"},{default:t(()=>[e(i,{size:"mini",class:"gi_hover_btn",onClick:d[1]||(d[1]=n=>b.value=!b.value)},{icon:t(()=>[e(D,{size:18})]),_:1})]),_:1}),e(T,{type:"button",size:"mini",modelValue:h.value,"onUpdate:modelValue":d[2]||(d[2]=n=>h.value=n)},{default:t(()=>[e(g,{value:"mini"},{default:t(()=>[fe]),_:1}),e(g,{value:"small"},{default:t(()=>[ge]),_:1}),e(g,{value:"medium"},{default:t(()=>[ve]),_:1}),e(g,{value:"large"},{default:t(()=>[he]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:3}),k("div",be,[e(I,le(c(y),{stripe:v.value,size:h.value,bordered:{cell:b.value},ref_key:"tableRef",ref:C}),ne({_:2},[se(Object.keys(c(z)),n=>({name:n,fn:t(()=>[M(_.$slots,n,{},void 0,!0)])}))]),1040,["stripe","size","bordered"])])],2)}}}));var ze=J(ye,[["__scopeId","data-v-cec706c2"]]);const G=s=>(re("data-v-76af9043"),s=s(),de(),s),Ce={class:"table-page"},Be=G(()=>k("span",null,"\u65B0\u589E",-1)),we=G(()=>k("span",null,"\u5220\u9664",-1)),ke=G(()=>k("span",null,"\u5BFC\u5165",-1)),Fe=u("\u5F00\u542F"),Ee=u("\u5173\u95ED"),Se=u("\u4FEE\u6539"),Ae=u("\u8BE6\u60C5"),Ve=u("\u5220\u9664"),De=K({__name:"index",setup(s){const a=p(!1),l=p([]),{current:y,pageSize:z,total:C,changeCurrent:v,changePageSize:h,setTotal:b}=pe(()=>{m()}),m=async()=>{try{a.value=!0;const _=await me({current:y.value,pageSize:z.value});l.value=_.data.list,b(_.data.total)}catch(_){return _}finally{a.value=!1}};m();const B=()=>{P.info("\u70B9\u51FB\u4E86\u65B0\u589E")},F=()=>{P.info("\u70B9\u51FB\u4E86\u5220\u9664")},E=()=>{P.info("\u70B9\u51FB\u4E86\u5BFC\u5165")};return(_,d)=>{const w=o("icon-plus"),r=o("a-button"),f=o("icon-delete"),S=o("icon-export"),i=o("a-table-column"),A=o("a-avatar"),V=o("a-switch"),D=o("a-popconfirm"),g=o("a-space"),T=ze,$=ee,I=ue("loading");return x(),O("div",Ce,[ce((x(),R(T,{"row-key":"id",data:l.value,scroll:{x:"100%",y:"100%",minWidth:1e3},"row-selection":{type:"checkbox",showCheckedAll:!0},pagination:{showPageSize:!0,total:c(C),current:c(y),pageSize:c(z)},onPageChange:c(v),onPageSizeChange:c(h),onRefresh:m},{left:t(()=>[e(r,{type:"primary",onClick:B},{icon:t(()=>[e(w)]),default:t(()=>[Be]),_:1}),e(r,{type:"primary",status:"danger",onClick:F},{icon:t(()=>[e(f)]),default:t(()=>[we]),_:1}),e(r,{onClick:E},{icon:t(()=>[e(S)]),default:t(()=>[ke]),_:1})]),columns:t(()=>[e(i,{title:"\u5E8F\u53F7",width:68},{cell:t(n=>[u(H(n.rowIndex+1),1)]),_:1}),e(i,{title:"\u59D3\u540D","data-index":"name"}),e(i,{title:"\u5934\u50CF",width:100},{cell:t(({record:n})=>[e(A,{size:30,style:_e({backgroundColor:n.color})},{default:t(()=>[u(H(n.name[0]),1)]),_:2},1032,["style"])]),_:1}),e(i,{title:"\u624B\u673A\u53F7","data-index":"phone",width:150}),e(i,{title:"\u521B\u5EFA\u65F6\u95F4","data-index":"startTime"}),e(i,{title:"\u5730\u5740","data-index":"address"}),e(i,{title:"\u72B6\u6001",width:100},{cell:t(({record:n})=>[e(V,{modelValue:n.status,"onUpdate:modelValue":Q=>n.status=Q,size:"medium"},{checked:t(()=>[Fe]),unchecked:t(()=>[Ee]),_:2},1032,["modelValue","onUpdate:modelValue"])]),_:1}),e(i,{title:"\u64CD\u4F5C",width:200},{cell:t(({record:n})=>[e(g,null,{default:t(()=>[e(r,{type:"primary",size:"mini"},{default:t(()=>[Se]),_:1}),e(r,{size:"mini"},{default:t(()=>[Ae]),_:1}),e(D,{content:"\u60A8\u786E\u5B9A\u8981\u5220\u9664\u8BE5\u9879\u5417?"},{default:t(()=>[e(r,{type:"primary",status:"danger",size:"mini"},{default:t(()=>[Ve]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["data","pagination","onPageChange","onPageSizeChange"])),[[I,a.value]]),e($)])}}});var Ne=J(De,[["__scopeId","data-v-76af9043"]]);export{Ne as default};
