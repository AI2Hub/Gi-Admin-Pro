import{_ as O}from"./GiFooter-fbdc8efa.js";import{g as W}from"./index-0813be0b.js";import{f as A,af as X,ag as Y,h as _,r as o,o as C,d as P,a as e,w as t,T as G,u as f,c as F,U as a,b as V,Y as q,a1 as H,X as J,S as K,_ as j,t as N,R as Q,p as Z,e as ee}from"./_plugin-vue_export-helper-a686c450.js";import"./index-03184213.js";import{u as te}from"./usePagination-a4b5d99b.js";import"./index-bd10b458.js";import{g as oe}from"./index-7123684c.js";import"./utils-b0df3aa8.js";import{R as U}from"./index-6b182eb3.js";import"./index-be8e24a0.js";import"./vue-router-dc831d57.js";import"./auth-56bca224.js";import"./runtime-dom.esm-bundler-a7552804.js";const ne={class:"table-box"},ae={name:"GiTable",inheritAttrs:!1},se=A({...ae,emits:["refresh"],setup(g,{expose:r,emit:z}){const v=X(),S=Y(),u=_(null),b=_(!1),h=_("small"),y=_(!0),w=_(null),{isFullscreen:p,toggle:T}=W(w),l=()=>{z("refresh")};return r({tableRef:u}),(k,i)=>{const n=o("a-space"),I=o("a-switch"),d=o("a-tooltip"),R=o("icon-refresh"),x=o("a-button"),$=o("icon-fullscreen"),B=o("icon-fullscreen-exit"),s=o("icon-apps"),m=o("a-radio"),L=o("a-radio-group"),E=o("a-row"),M=o("a-table");return C(),P("div",{class:K(["gi-table",{fullscreen:f(p)}]),ref_key:"giTableRef",ref:w},[e(E,{justify:"space-between"},{default:t(()=>[e(n,null,{default:t(()=>[G(k.$slots,"custom-extra",{},void 0,!0)]),_:3}),e(n,{size:15},{default:t(()=>[e(d,{content:"斑马纹"},{default:t(()=>[e(I,{modelValue:b.value,"onUpdate:modelValue":i[0]||(i[0]=c=>b.value=c),size:"medium"},null,8,["modelValue"])]),_:1}),e(d,{content:"刷新"},{default:t(()=>[e(x,{size:"mini",class:"gi_hover_btn",onClick:l},{icon:t(()=>[e(R,{size:18})]),_:1})]),_:1}),e(d,{content:"全屏"},{default:t(()=>[e(x,{size:"mini",class:"gi_hover_btn",onClick:f(T)},{icon:t(()=>[f(p)?(C(),F(B,{key:1,size:18})):(C(),F($,{key:0,size:18}))]),_:1},8,["onClick"])]),_:1}),e(d,{content:"显示边框"},{default:t(()=>[e(x,{size:"mini",class:"gi_hover_btn",onClick:i[1]||(i[1]=c=>y.value=!y.value)},{icon:t(()=>[e(s,{size:18})]),_:1})]),_:1}),e(L,{type:"button",size:"mini",modelValue:h.value,"onUpdate:modelValue":i[2]||(i[2]=c=>h.value=c)},{default:t(()=>[e(m,{value:"mini"},{default:t(()=>[a("小")]),_:1}),e(m,{value:"small"},{default:t(()=>[a("默认")]),_:1}),e(m,{value:"medium"},{default:t(()=>[a("中")]),_:1}),e(m,{value:"large"},{default:t(()=>[a("大")]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:3}),V("div",ne,[e(M,J(f(v),{stripe:b.value,size:h.value,bordered:{cell:y.value},ref_key:"tableRef",ref:u}),q({_:2},[H(Object.keys(f(S)),c=>({name:c,fn:t(()=>[G(k.$slots,c,{},void 0,!0)])}))]),1040,["stripe","size","bordered"])])],2)}}});const le=j(se,[["__scopeId","data-v-fa9b533e"]]),D=g=>(Z("data-v-81919d35"),g=g(),ee(),g),ie={class:"table-page"},ce=D(()=>V("span",null,"新增",-1)),_e=D(()=>V("span",null,"删除",-1)),re=D(()=>V("span",null,"导入",-1)),ue=A({name:"CustomTable"}),pe=A({...ue,setup(g){const r=_(!1),z=_([]),{pagination:v,setTotal:S}=te(()=>u()),u=async()=>{r.value=!0;const{success:w,data:p}=await oe({current:v.current,pageSize:v.pageSize});w&&(z.value=p.list,S(p.total)),r.value=!1};u();const b=()=>{U.info("点击了新增")},h=()=>{U.info("点击了删除")},y=()=>{U.info("点击了导入")};return(w,p)=>{const T=o("icon-plus"),l=o("a-button"),k=o("icon-delete"),i=o("icon-export"),n=o("a-table-column"),I=o("a-avatar"),d=o("a-switch"),R=o("a-popconfirm"),x=o("a-space"),$=le,B=O;return C(),P("div",ie,[e($,{"row-key":"id",loading:r.value,data:z.value,scroll:{x:"100%",y:"100%",minWidth:1e3},"row-selection":{type:"checkbox",showCheckedAll:!0},pagination:f(v),onRefresh:u},{"custom-extra":t(()=>[e(l,{type:"primary",onClick:b},{icon:t(()=>[e(T)]),default:t(()=>[ce]),_:1}),e(l,{type:"primary",status:"danger",onClick:h},{icon:t(()=>[e(k)]),default:t(()=>[_e]),_:1}),e(l,{onClick:y},{icon:t(()=>[e(i)]),default:t(()=>[re]),_:1})]),columns:t(()=>[e(n,{title:"序号",width:66,align:"center"},{cell:t(s=>[a(N(s.rowIndex+1),1)]),_:1}),e(n,{title:"姓名","data-index":"name",width:120}),e(n,{title:"头像",width:80},{cell:t(({record:s})=>[e(I,{size:30,style:Q({backgroundColor:s.color})},{default:t(()=>[a(N(s.name[0]),1)]),_:2},1032,["style"])]),_:1}),e(n,{title:"手机号","data-index":"phone",width:150}),e(n,{title:"创建时间","data-index":"createTime",ellipsis:"",tooltip:""}),e(n,{title:"地址","data-index":"address",ellipsis:"",tooltip:""}),e(n,{title:"状态",width:100},{cell:t(({record:s})=>[e(d,{modelValue:s.status,"onUpdate:modelValue":m=>s.status=m,size:"medium"},{checked:t(()=>[a("开启")]),unchecked:t(()=>[a("关闭")]),_:2},1032,["modelValue","onUpdate:modelValue"])]),_:1}),e(n,{title:"操作",width:200,align:"center"},{cell:t(({record:s})=>[e(x,null,{default:t(()=>[e(l,{type:"primary",size:"mini"},{default:t(()=>[a("修改")]),_:1}),e(l,{size:"mini"},{default:t(()=>[a("详情")]),_:1}),e(R,{type:"warning",content:"您确定要删除该项吗?"},{default:t(()=>[e(l,{type:"primary",status:"danger",size:"mini"},{default:t(()=>[a("删除")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["loading","data","pagination"]),e(B)])}}});const Ve=j(pe,[["__scopeId","data-v-81919d35"]]);export{Ve as default};
