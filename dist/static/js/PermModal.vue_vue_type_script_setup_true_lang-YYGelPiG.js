import{d as e,J as a,b as s,k as l,e as t,o as n,c,w as o,h as r,g as u,H as i,K as d,R as m,U as k}from"./index-CgpQDUug.js";import{a as f}from"./role-8XT4_3Yz.js";import{b as v}from"./menu-DLZisg7m.js";const p=e({__name:"PermModal",setup(e,{expose:p}){const b=a("treeRef"),h=s([]);(async()=>{const e=await v();h.value=e.data,m((()=>{var e;null==(e=b.value)||e.expandAll()}))})();const y=l((()=>"分配权限")),_=s(!1),x=s([]);p({open:e=>{x.value=[],_.value=!0,f({role:e.code}).then((e=>{x.value=e.data}))}});const j=()=>{k.success("模拟保存成功")};return(e,a)=>{const s=t("a-tree"),l=t("a-modal");return n(),c(l,{visible:u(_),"onUpdate:visible":a[1]||(a[1]=e=>i(_)?_.value=e:null),title:u(y),fullscreen:u(d)(),"mask-closable":!0,onOk:j},{default:o((()=>[r(s,{ref_key:"treeRef",ref:b,"checked-keys":u(x),"onUpdate:checkedKeys":a[0]||(a[0]=e=>i(x)?x.value=e:null),size:"mini",checkable:"","check-strictly":!0,data:u(h),"field-names":{key:"id"}},null,8,["checked-keys","data"])])),_:1},8,["visible","title","fullscreen"])}}});export{p as _};
