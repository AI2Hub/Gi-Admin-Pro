import{_ as e}from"./EditDeptModal.vue_vue_type_script_setup_true_lang-a8856030.js";import{u as a}from"./useDept-31acbccc.js";import{d as t,g as l,N as n,r as i,o as s,c as d,a as o,w as u,u as c,f as r,h as p,e as m,E as _,p as f,j as y,_ as h}from"./index-bada0a94.js";import"./index-df5ac24d.js";const x=e=>(f("data-v-5c5c6e47"),e=e(),y(),e),g={class:"dept-manage"},k=x((()=>p("span",null,"部门名称",-1))),w=x((()=>p("span",null,"状态",-1))),v=x((()=>p("span",null,"搜索",-1))),b=x((()=>p("span",null,"重置",-1))),C=x((()=>p("span",null,"新增部门",-1))),D={class:"table-box"},V=h(t({name:"SystemDept",__name:"index",setup(t){const{deptList:f,getDeptList:y}=a();y();const h=l(),x=l(!1),V=n({name:"",status:""}),j=()=>{y()},z=()=>{V.name="",V.status=""},I=()=>{var e;null==(e=h.value)||e.add()};return(a,t)=>{const l=i("a-input"),n=i("a-space"),y=i("a-option"),E=i("a-select"),R=i("icon-search"),L=i("a-button"),M=i("icon-sync"),U=i("icon-plus"),N=i("a-row"),O=i("IconDown"),P=i("IconRight"),Q=i("a-table-column"),S=i("a-tag"),T=i("icon-edit"),W=i("icon-delete"),q=i("a-popconfirm"),A=i("a-table");return s(),d("div",g,[o(n,{size:20,class:"head"},{default:u((()=>[o(n,null,{default:u((()=>[k,o(l,{modelValue:c(V).name,"onUpdate:modelValue":t[0]||(t[0]=e=>c(V).name=e),placeholder:"请输入部门名称","allow-clear":"",style:{width:"250px"}},null,8,["modelValue"])])),_:1}),o(n,null,{default:u((()=>[w,o(E,{modelValue:c(V).status,"onUpdate:modelValue":t[1]||(t[1]=e=>c(V).status=e),placeholder:"部门状态",style:{width:"120px"}},{default:u((()=>[o(y,{value:1},{default:u((()=>[r("正常")])),_:1}),o(y,{value:0},{default:u((()=>[r("禁用")])),_:1})])),_:1},8,["modelValue"])])),_:1}),o(n,null,{default:u((()=>[o(L,{type:"primary",onClick:j},{icon:u((()=>[o(R)])),default:u((()=>[v])),_:1}),o(L,{onClick:z},{icon:u((()=>[o(M)])),default:u((()=>[b])),_:1})])),_:1})])),_:1}),o(N,{class:"head"},{default:u((()=>[o(L,{type:"primary",onClick:I},{icon:u((()=>[o(U)])),default:u((()=>[C])),_:1})])),_:1}),p("section",D,[o(A,{loading:c(x),ref:"tableRef","row-key":"id",data:c(f),scroll:{x:"100%",y:"100%",minWidth:900},pagination:!1,expandable:{width:80}},{"expand-icon":u((({expanded:e})=>[e?(s(),m(O,{key:0})):(s(),m(P,{key:1}))])),columns:u((()=>[o(Q,{title:"部门名称","data-index":"name"}),o(Q,{title:"排序","data-index":"sort",width:100}),o(Q,{title:"状态",width:100},{cell:u((({record:e})=>[1==e.status?(s(),m(S,{key:0,color:"green"},{default:u((()=>[r("正常")])),_:1})):(s(),m(S,{key:1,color:"red"},{default:u((()=>[r("禁用")])),_:1}))])),_:1}),o(Q,{title:"创建时间","data-index":"createTime",width:200}),o(Q,{title:"操作",width:150,align:"left"},{cell:u((({record:e})=>[o(n,null,{default:u((()=>[o(L,{type:"primary",size:"mini",onClick:a=>{return t=e,void(null==(l=h.value)||l.edit(t.id));var t,l}},{icon:u((()=>[o(T)])),_:2},1032,["onClick"]),e.parentId?(s(),m(L,{key:0,type:"primary",status:"success",size:"mini",onClick:t[2]||(t[2]=e=>I())},{icon:u((()=>[o(U)])),_:1})):_("",!0),o(q,{type:"warning",content:"您确定要删除该项吗?"},{default:u((()=>[o(L,{type:"primary",status:"danger",size:"mini"},{icon:u((()=>[o(W)])),_:1})])),_:1})])),_:2},1024)])),_:1})])),_:1},8,["loading","data"])]),o(e,{ref_key:"EditDeptModalRef",ref:h},null,512)])}}}),[["__scopeId","data-v-5c5c6e47"]]);export{V as default};
