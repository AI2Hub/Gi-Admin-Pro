import{u as k}from"./useDept-1a6658b9.js";import{d as y,g as f,l as C,Q as D,r as d,o as L,e as N,w as n,a,u as e,f as c,L as q}from"./index-f4aadaae.js";const Q=y({__name:"EditDeptModal",setup(B,{expose:v}){const r=f(""),s=f(!1),V=C(()=>r.value?"编辑部门":"新增部门"),{deptList:m,getDeptList:i}=k();i();const l=D({id:"",parentId:"",name:"",sort:0,status:1});return v({add:()=>{r.value="",s.value=!0},edit:async p=>{m.value.length||await i(),r.value=p,s.value=!0}}),(p,t)=>{const b=d("a-tree-select"),u=d("a-form-item"),g=d("a-input"),w=d("a-input-number"),_=d("a-radio"),x=d("a-radio-group"),I=d("a-form"),U=d("a-modal");return L(),N(U,{visible:e(s),"onUpdate:visible":t[4]||(t[4]=o=>q(s)?s.value=o:null),title:e(V)},{default:n(()=>[a(I,{ref:"formRef",model:e(l),size:"medium","auto-label-width":""},{default:n(()=>[a(u,{label:"上级部门",name:"parentId"},{default:n(()=>[a(b,{modelValue:e(l).parentId,"onUpdate:modelValue":t[0]||(t[0]=o=>e(l).parentId=o),"allow-clear":"",data:e(m),placeholder:"请选择",fieldNames:{key:"id",title:"name",children:"children"}},null,8,["modelValue","data"])]),_:1}),a(u,{label:"部门名称",field:"name",rules:[{required:!0,message:"请输入部门名称"},{min:3,max:10,message:"长度在 3 - 10个字符"}],"validate-trigger":["change","input"]},{default:n(()=>[a(g,{modelValue:e(l).name,"onUpdate:modelValue":t[1]||(t[1]=o=>e(l).name=o),placeholder:"请输入部门名称","allow-clear":""},null,8,["modelValue"])]),_:1}),a(u,{label:"排序",name:"sort",rules:[{required:!0,message:"请输入排序序号"}]},{default:n(()=>[a(w,{modelValue:e(l).sort,"onUpdate:modelValue":t[2]||(t[2]=o=>e(l).sort=o),style:{width:"120px"}},null,8,["modelValue"])]),_:1}),a(u,{label:"状态",name:"status"},{default:n(()=>[a(x,{modelValue:e(l).status,"onUpdate:modelValue":t[3]||(t[3]=o=>e(l).status=o)},{default:n(()=>[a(_,{value:1},{default:n(()=>[c("正常")]),_:1}),a(_,{value:0},{default:n(()=>[c("禁用")]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["visible","title"])}}});export{Q as _};
