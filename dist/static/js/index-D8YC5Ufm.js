import{_ as e}from"./index-2BBVagZS.js";import{d as a,b as l,R as d,k as t,e as o,o as n,f as s,h as r,w as i,i as p,g as u,G as c,S as m,_ as f}from"./index-nwng0QS3.js";const _={class:"gi_page"},y=f(a({name:"FormTable",__name:"index",setup(a){const f=l(),y=[{title:"姓名",dataIndex:"name",slotName:"name",headerCellClass:"gi_column_require"},{title:"手机",dataIndex:"phone",slotName:"phone",headerCellClass:"gi_column_require"},{title:"地址",dataIndex:"address",slotName:"address"},{title:"操作",width:80,slotName:"action",fixed:"right",align:"center"}],b=d({tableData:[{name:"",phone:"",address:""}]}),h=t((()=>JSON.stringify(b.tableData,null,"\t"))),w=()=>{b.tableData.push({name:"",phone:"",address:""})},g=async()=>{var e;const a=await(null==(e=f.value)?void 0:e.validate());if(a){const e=Object.values(a);m.warning(e[0].message)}else m.success("提交通过")},x=()=>{var e,a;null==(e=f.value)||e.resetFields(),null==(a=f.value)||a.clearValidate()};return(a,l)=>{const d=o("icon-plus"),t=o("a-button"),m=o("a-space"),V=o("a-row"),v=o("a-input"),C=o("a-form-item"),D=o("icon-delete"),I=o("a-table"),j=o("a-form"),k=e,U=o("a-alert"),N=o("a-card");return n(),s("div",_,[r(N,{title:"编辑表格"},{default:i((()=>[r(V,{justify:"end"},{default:i((()=>[r(m,{wrap:""},{default:i((()=>[r(t,{type:"primary",onClick:w},{icon:i((()=>[r(d)])),default:i((()=>[l[0]||(l[0]=p("span",null,"新增",-1))])),_:1})])),_:1})])),_:1}),r(j,{ref_key:"formRef",ref:f,model:u(b)},{default:i((()=>[r(I,{columns:y,data:u(b).tableData,bordered:{cell:!0},scroll:{minWidth:680},pagination:!1},{name:i((({record:e,rowIndex:a})=>[r(C,{field:`tableData[${a}].name`,"label-col-style":{display:"none"},"wrapper-col-props":{span:24},rules:[{required:!0,message:"请输入姓名"}]},{default:i((()=>[r(v,{modelValue:e.name,"onUpdate:modelValue":a=>e.name=a,placeholder:"请输入姓名","allow-clear":""},null,8,["modelValue","onUpdate:modelValue"])])),_:2},1032,["field"])])),phone:i((({record:e,rowIndex:a})=>[r(C,{field:`tableData[${a}].phone`,"label-col-style":{display:"none"},"wrapper-col-props":{span:24},rules:[{required:!0,message:"请输入手机号"}]},{default:i((()=>[r(v,{modelValue:e.phone,"onUpdate:modelValue":a=>e.phone=a,placeholder:"请输入手机号","allow-clear":""},null,8,["modelValue","onUpdate:modelValue"])])),_:2},1032,["field"])])),address:i((({record:e,rowIndex:a})=>[r(C,{field:`tableData[${a}].address`,"label-col-style":{display:"none"},"wrapper-col-props":{span:24}},{default:i((()=>[r(v,{modelValue:e.address,"onUpdate:modelValue":a=>e.address=a,placeholder:"请输入地址","allow-clear":""},null,8,["modelValue","onUpdate:modelValue"])])),_:2},1032,["field"])])),action:i((({rowIndex:e})=>[r(t,{type:"primary",status:"danger",onClick:a=>{return l=e,void b.tableData.splice(l,1);var l}},{icon:i((()=>[r(D)])),_:2},1032,["onClick"])])),_:1},8,["data"])])),_:1},8,["model"]),r(V,{justify:"end",style:{"margin-top":"8px"}},{default:i((()=>[r(m,{wrap:""},{default:i((()=>[r(t,{onClick:x},{default:i((()=>l[1]||(l[1]=[c("重置")]))),_:1}),r(t,{type:"primary",onClick:g},{default:i((()=>l[2]||(l[2]=[c("验证并提交")]))),_:1})])),_:1})])),_:1}),r(k,{"code-json":u(h)},null,8,["code-json"]),r(U,{type:"warning",style:{"margin-top":"8px"}},{default:i((()=>l[3]||(l[3]=[c(" 本示例均采用原生arco组件开发，并不建议过渡封装编辑表格，过渡封装会限制灵活性，还有可维护性，多点代码也没啥，直接copy就行 ")]))),_:1})])),_:1})])}}}),[["__scopeId","data-v-b756a0eb"]]);export{y as default};
