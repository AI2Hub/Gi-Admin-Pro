import{a as e,_ as a}from"./index.vue_vue_type_script_setup_true_lang-cSyNRgPF.js";import l from"./index-BlOSLJrw.js";import{b as s,d as t,K as o,U as r,f as i,h as n,w as d,n as u,e as m,o as c,i as p,g as _,L as g,J as f,I as v,V as y,y as w,z as x,_ as h}from"./index-B2dmbZHS.js";import{P as b}from"./regexp-LyZ7ySAN.js";import"./index-DM0jNx4E.js";import"./CornerTop.vue_vue_type_script_setup_true_lang-D2AX1dRl.js";import"./CornerBottom.vue_vue_type_script_setup_true_lang-DQiWQDua.js";const V=e=>(w("data-v-37d1edb2"),e=e(),x(),e),j={class:"login"},k=V((()=>p("div",{class:"login-left"},[p("img",{class:"login-left__img",src:"/gi-demo/static/svg/login-img-BnXpmWAf.svg"})],-1))),z={class:"login-right"},L=V((()=>p("h3",{class:"login-right__title"},[p("img",{class:"logo",src:a}),p("span",null,"Admin Pro")],-1))),q=h(t({name:"Login",__name:"index",setup(a){const t=u(),w=o(),x=r({username:"admin",password:"123456"}),h={username:[{required:!0,message:"请输入账号"}],password:[{required:!0,message:"请输入密码"},{match:b,message:"输入密码格式不正确"}]},V=s(!1),{loading:q,setLoading:U}=function(e=!1){const a=s(e);return{loading:a,setLoading:e=>{a.value=e},toggle:()=>{a.value=!a.value}}}(),C=s(""),A=s(),B=async()=>{var e;try{if(await(null==(e=A.value)?void 0:e.validate()))return;U(!0),await w.login(x);const{redirect:a,...l}=t.currentRoute.value.query;t.push({path:a||"/",query:{...l}}),y.success("登录成功")}catch(a){C.value=a.message}finally{U(!1)}};return(a,s)=>{const t=m("a-col"),o=m("icon-user"),r=m("a-input"),u=m("a-form-item"),y=m("icon-lock"),w=m("a-input-password"),b=m("a-checkbox"),U=m("a-link"),C=m("a-row"),I=m("a-button"),J=m("a-space"),K=m("a-form"),P=e;return c(),i("div",j,[n(C,{align:"stretch",class:"login-box"},{default:d((()=>[n(t,{xs:0,sm:12,md:15},{default:d((()=>[k])),_:1}),n(t,{xs:24,sm:12,md:9},{default:d((()=>[p("div",z,[n(K,{ref_key:"formRef",ref:A,size:_(g)()?"large":"medium",model:_(x),rules:h,style:{width:"84%"},"label-col-style":{display:"none"},"wrapper-col-style":{flex:1}},{default:d((()=>[L,n(u,{field:"username"},{default:d((()=>[n(r,{modelValue:_(x).username,"onUpdate:modelValue":s[0]||(s[0]=e=>_(x).username=e),placeholder:"账号 admin/user","allow-clear":""},{prefix:d((()=>[n(o,{"stroke-width":1,style:{fontSize:"20px"}})])),_:1},8,["modelValue"])])),_:1}),n(u,{field:"password"},{default:d((()=>[n(w,{modelValue:_(x).password,"onUpdate:modelValue":s[1]||(s[1]=e=>_(x).password=e),placeholder:"密码","allow-clear":""},{prefix:d((()=>[n(y,{"stroke-width":1,style:{fontSize:"20px"}})])),_:1},8,["modelValue"])])),_:1}),n(u,null,{default:d((()=>[n(C,{justify:"space-between",align:"center",class:"w-full"},{default:d((()=>[n(b,{modelValue:_(V),"onUpdate:modelValue":s[2]||(s[2]=e=>f(V)?V.value=e:null)},{default:d((()=>[v("记住密码")])),_:1},8,["modelValue"]),n(U,null,{default:d((()=>[v("忘记密码")])),_:1})])),_:1})])),_:1}),n(u,null,{default:d((()=>[n(J,{direction:"vertical",fill:"",class:"w-full"},{default:d((()=>[n(I,{type:"primary",size:"large",long:"",loading:_(q),onClick:B},{default:d((()=>[v("登录")])),_:1},8,["loading"]),n(I,{type:"text",size:"large",long:"",class:"register-btn"},{default:d((()=>[v("注册账号")])),_:1})])),_:1})])),_:1})])),_:1},8,["size","model"])])])),_:1})])),_:1}),n(P,{class:"theme-btn"}),n(l)])}}}),[["__scopeId","data-v-37d1edb2"]]);export{q as default};
