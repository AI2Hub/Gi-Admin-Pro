import{_ as e}from"./GiCellStatus.vue_vue_type_script_setup_true_lang-6kDWA25M.js";import{_ as a}from"./AddDictDataModal.vue_vue_type_script_setup_true_lang-DNwXm8UR.js";import{d as l,b as t,e as n,o as i,c as s,w as o,h as d,i as r,g as u,G as c,t as p,H as _,S as m,f7 as v}from"./index-nwng0QS3.js";import{d as f}from"./index-BC6V0ZU_.js";import{u as y}from"./useBreakpoint-BCl7Sgev.js";const g=l({__name:"index",setup(l,{expose:g}){const h=t(!1),k=t(),w=t(""),{loading:x,tableData:b,pagination:S,selectedKeys:A,search:C,select:D,selectAll:j,handleDelete:z}=y((e=>v({...e,code:w.value})),{immediate:!1});g({open:e=>{b.value=[],w.value=e.code,h.value=!0,C()}});const B=()=>{if(!A.value.length)return m.warning("请选择字典数据！");z((()=>f({ids:A.value})))},M=()=>{var e;null==(e=k.value)||e.add()};return(l,t)=>{const m=n("icon-plus"),v=n("a-button"),y=n("icon-delete"),g=n("a-space"),W=n("a-row"),G=n("a-table-column"),O=e,U=n("icon-edit"),H=n("a-popconfirm"),I=n("a-table"),K=n("a-modal");return i(),s(K,{visible:u(h),"onUpdate:visible":t[0]||(t[0]=e=>_(h)?h.value=e:null),title:"字典数据",width:"90%","hide-cancel":"","ok-text":"关闭","mask-closable":!1,"modal-style":{maxWidth:"680px"}},{default:o((()=>[d(W,null,{default:o((()=>[d(g,{wrap:""},{default:o((()=>[d(v,{type:"primary",onClick:M},{icon:o((()=>[d(m)])),default:o((()=>[t[1]||(t[1]=r("span",null,"新增",-1))])),_:1}),d(v,{type:"primary",status:"danger",onClick:B},{icon:o((()=>[d(y)])),default:o((()=>[t[2]||(t[2]=r("span",null,"删除",-1))])),_:1})])),_:1})])),_:1}),d(I,{"row-key":"id",size:"small",data:u(b),bordered:{cell:!0},loading:u(x),scroll:{x:"100%",y:"100%",minWidth:600},pagination:{...u(S),size:"small"},"row-selection":{type:"checkbox",showCheckedAll:!0},"selected-keys":u(A),onSelect:u(D),onSelectAll:u(j)},{columns:o((()=>[d(G,{title:"序号",width:64},{cell:o((e=>[c(p(e.rowIndex+1),1)])),_:1}),d(G,{title:"字典名","data-index":"name"}),d(G,{title:"字典值","data-index":"value"}),d(G,{title:"状态",width:100,align:"center"},{cell:o((({record:e})=>[d(O,{status:e.status},null,8,["status"])])),_:1}),d(G,{title:"操作",width:180,align:"center"},{cell:o((({record:e})=>[d(g,null,{default:o((()=>[d(v,{type:"primary",size:"mini",onClick:a=>{return l=e,void(null==(t=k.value)||t.edit({id:l.id,code:w.value}));var l,t}},{icon:o((()=>[d(U)])),default:o((()=>[t[3]||(t[3]=r("span",null,"编辑",-1))])),_:2},1032,["onClick"]),d(H,{type:"warning",content:"确定删除该角色吗?",onBeforeOk:a=>{return l=e,z((()=>f({ids:[l.id]})),{showModal:!1});var l}},{default:o((()=>[d(v,{type:"primary",status:"danger",size:"mini"},{icon:o((()=>[d(y)])),default:o((()=>[t[4]||(t[4]=r("span",null,"删除",-1))])),_:1})])),_:2},1032,["onBeforeOk"])])),_:2},1024)])),_:1})])),_:1},8,["data","loading","pagination","selected-keys","onSelect","onSelectAll"]),d(a,{ref_key:"AddDictDataModalRef",ref:k,onSaveSuccess:u(C)},null,8,["onSaveSuccess"])])),_:1},8,["visible"])}}});export{g as _};
