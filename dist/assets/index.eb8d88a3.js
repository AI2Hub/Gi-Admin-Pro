import{d as k,r as M,x as U,g as o,o as i,m as s,w as t,b as e,u as f,i as x,_ as R,v as T,f as V,X as N,c as v,a as C,A as q,t as G,p as W,e as X,h as b}from"./index.2187baac.js";const $=k({__name:"AddMenuModal",props:{modelValue:{type:Boolean,default:!1},treeData:{type:Array,default:()=>[]}},emits:["update:modelValue"],setup(c,{emit:h}){const _=c,a=M({parentId:"",name:"",path:"",icon:"",keepAlive:!1,hidden:!1});let r=U({get:()=>_.modelValue,set:D=>{h("update:modelValue",D)}});return(D,l)=>{const m=o("a-tree-select"),p=o("a-form-item"),d=o("a-input"),g=o("a-switch"),F=o("a-form"),y=o("a-modal");return i(),s(y,{visible:f(r),"onUpdate:visible":l[5]||(l[5]=n=>x(r)?r.value=n:r=n),title:"\u65B0\u589E\u83DC\u5355"},{default:t(()=>[e(F,{ref:"formRef",model:a,labelCol:{span:4}},{default:t(()=>[e(p,{label:"\u4E0A\u7EA7\u83DC\u5355",parentId:"name"},{default:t(()=>[e(m,{data:c.treeData,modelValue:a.parentId,"onUpdate:modelValue":l[0]||(l[0]=n=>a.parentId=n),placeholder:"\u8BF7\u9009\u62E9","field-names":{key:"id",title:"name",children:"children"}},null,8,["data","modelValue"])]),_:1}),e(p,{label:"\u83DC\u5355\u540D\u79F0",field:"name",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u83DC\u5355\u540D\u79F0",trigger:"blur"},{min:3,max:10,message:"\u957F\u5EA6\u5728 3 - 10\u4E2A\u5B57\u7B26",trigger:"blur"}],"validate-trigger":["change","input"]},{default:t(()=>[e(d,{placeholder:"\u8BF7\u8F93\u5165\u83DC\u5355\u540D\u79F0",modelValue:a.name,"onUpdate:modelValue":l[1]||(l[1]=n=>a.name=n)},null,8,["modelValue"])]),_:1}),e(p,{label:"\u83DC\u5355\u5730\u5740",field:"path",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u83DC\u5355\u5730\u5740",trigger:"blur"},{min:3,max:10,message:"\u957F\u5EA6\u5728 3 - 30\u4E2A\u5B57\u7B26",trigger:"blur"}],"validate-trigger":["change","input"]},{default:t(()=>[e(d,{placeholder:"\u8BF7\u8F93\u5165\u83DC\u5355\u5730\u5740",modelValue:a.path,"onUpdate:modelValue":l[2]||(l[2]=n=>a.path=n)},null,8,["modelValue"])]),_:1}),e(p,{label:"\u662F\u5426\u7F13\u5B58",name:"keepAlive"},{default:t(()=>[e(g,{size:"medium",modelValue:a.keepAlive,"onUpdate:modelValue":l[3]||(l[3]=n=>a.keepAlive=n)},null,8,["modelValue"])]),_:1}),e(p,{label:"\u662F\u5426\u9690\u85CF",name:"hidden"},{default:t(()=>[e(g,{size:"medium",modelValue:a.hidden,"onUpdate:modelValue":l[4]||(l[4]=n=>a.hidden=n)},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["visible"])}}});const j=c=>(W("data-v-70fa5b46"),c=c(),X(),c),H={class:"menu-manage"},J=j(()=>C("span",null,"\u65B0\u589E\u83DC\u5355",-1)),K={class:"table-box"},L={key:0},O={key:1,class:"no-text"},P={key:1,class:"no-text"},Q=b("\u662F"),Y=b("\u5426"),Z=b("\u662F"),ee=b("\u5426"),te=k({__name:"index",setup(c){const h=T();let _=V(!1),a=V(!1),r=V([]);return(()=>{_.value=!0,setTimeout(()=>{r.value=h.list,_.value=!1},300)})(),(l,m)=>{const p=o("icon-plus"),d=o("a-button"),g=o("a-row"),F=o("IconDown"),y=o("IconRight"),n=o("a-table-column"),B=o("GiSvgIcon"),w=o("icon-edit"),A=o("icon-delete"),E=o("a-popconfirm"),I=o("a-space"),z=o("a-table"),S=N("loading");return i(),v("div",H,[e(g,{class:"head"},{default:t(()=>[e(d,{type:"primary",onClick:m[0]||(m[0]=u=>x(a)?a.value=!0:a=!0)},{icon:t(()=>[e(p)]),default:t(()=>[J]),_:1})]),_:1}),C("section",K,[q((i(),s(z,{data:f(r),"row-key":"id",scroll:{x:"100%",y:"100%",minWidth:900},pagination:!1,expandable:{width:80}},{"expand-icon":t(({expanded:u})=>[u?(i(),s(F,{key:0})):(i(),s(y,{key:1}))]),columns:t(()=>[e(n,{title:"\u83DC\u5355\u540D\u79F0","data-index":"name"}),e(n,{title:"\u83DC\u5355\u5730\u5740","data-index":"path"},{cell:t(({record:u})=>[u.path?(i(),v("span",L,G(u.path),1)):(i(),v("span",O,"\u65E0"))]),_:1}),e(n,{title:"\u83DC\u5355\u56FE\u6807","data-index":"icon",width:"200"},{cell:t(({record:u})=>[u.icon?(i(),s(B,{key:0,size:24,name:u.icon},null,8,["name"])):(i(),v("span",P,"\u65E0"))]),_:1}),e(n,{title:"\u662F\u5426\u7F13\u5B58","data-index":"keepAlive",width:"200"},{cell:t(({record:u})=>[u.keepAlive?(i(),s(d,{key:0,status:"success",size:"mini"},{icon:t(()=>[Q]),_:1})):(i(),s(d,{key:1,status:"danger",size:"mini"},{icon:t(()=>[Y]),_:1}))]),_:1}),e(n,{title:"\u662F\u5426\u9690\u85CF","data-index":"hidden",width:"200"},{cell:t(({record:u})=>[u.hidden?(i(),s(d,{key:0,status:"success",size:"mini"},{icon:t(()=>[Z]),_:1})):(i(),s(d,{key:1,status:"danger",size:"mini"},{icon:t(()=>[ee]),_:1}))]),_:1}),e(n,{title:"\u64CD\u4F5C",width:"100"},{cell:t(({record:u})=>[e(I,null,{default:t(()=>[e(d,{type:"primary",onClick:m[1]||(m[1]=ae=>x(a)?a.value=!0:a=!0)},{icon:t(()=>[e(w)]),_:1}),e(E,{content:"\u60A8\u786E\u5B9A\u8981\u5220\u9664\u8BE5\u9879\u5417?"},{default:t(()=>[e(d,{type:"primary",status:"danger"},{icon:t(()=>[e(A)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["data"])),[[S,f(_)]])]),e($,{"tree-data":f(r),modelValue:f(a),"onUpdate:modelValue":m[2]||(m[2]=u=>x(a)?a.value=u:a=u)},null,8,["tree-data","modelValue"])])}}});var oe=R(te,[["__scopeId","data-v-70fa5b46"]]);export{oe as default};
