import{_ as W}from"./GiFooter.c83e091c.js";import{g as K}from"./index.baea6f5b.js";import{d as G,eJ as O,eK as X,r as _,h as o,o as b,c as N,b as e,w as t,m as j,i as l,l as R,a as k,eL as Y,J as q,W as H,Y as Q,j as s,_ as J,ez as Z,P as ee,I as L,X as te,M as I,p as oe,e as ne}from"./index.64ef6439.js";import"./index.463d26de.js";import{u as ae}from"./usePagination.0836548a.js";import"./viewer.8a0458a1.js";import{g as se}from"./index.6e7bcf3f.js";const le=s("\u5C0F"),ue=s("\u9ED8\u8BA4"),ie=s("\u4E2D"),ce=s("\u5927"),_e={class:"table-box"},re={name:"GiTable",inheritAttrs:!1},de=G({...re,emits:["refresh"],setup(m,{expose:f,emit:y}){const z=O(),C=X(),B=_(null),h=_(!1),g=_("small"),v=_(!0),r=_(null),{isFullscreen:w,toggle:x}=K(r),E=()=>{y("refresh")};return f({tableRef:B}),(u,c)=>{const F=o("a-space"),i=o("a-switch"),d=o("a-tooltip"),S=o("icon-refresh"),a=o("a-button"),V=o("icon-fullscreen"),D=o("icon-fullscreen-exit"),A=o("icon-apps"),p=o("a-radio"),T=o("a-radio-group"),$=o("a-row"),P=o("a-table");return b(),N("div",{class:Q(["gi-table",{fullscreen:l(w)}]),ref_key:"giTableRef",ref:r},[e($,{justify:"space-between"},{default:t(()=>[e(F,null,{default:t(()=>[j(u.$slots,"left",{},void 0,!0)]),_:3}),e(F,{size:15},{default:t(()=>[e(d,{content:"\u6591\u9A6C\u7EB9"},{default:t(()=>[e(i,{modelValue:h.value,"onUpdate:modelValue":c[0]||(c[0]=n=>h.value=n),size:"medium"},null,8,["modelValue"])]),_:1}),e(d,{content:"\u5237\u65B0"},{default:t(()=>[e(a,{size:"mini",class:"gi_hover_btn",onClick:E},{icon:t(()=>[e(S,{size:18})]),_:1})]),_:1}),e(d,{content:"\u5168\u5C4F"},{default:t(()=>[e(a,{size:"mini",class:"gi_hover_btn",onClick:l(x)},{icon:t(()=>[l(w)?(b(),R(D,{key:1,size:18})):(b(),R(V,{key:0,size:18}))]),_:1},8,["onClick"])]),_:1}),e(d,{content:"\u663E\u793A\u8FB9\u6846"},{default:t(()=>[e(a,{size:"mini",class:"gi_hover_btn",onClick:c[1]||(c[1]=n=>v.value=!v.value)},{icon:t(()=>[e(A,{size:18})]),_:1})]),_:1}),e(T,{type:"button",size:"mini",modelValue:g.value,"onUpdate:modelValue":c[2]||(c[2]=n=>g.value=n)},{default:t(()=>[e(p,{value:"mini"},{default:t(()=>[le]),_:1}),e(p,{value:"small"},{default:t(()=>[ue]),_:1}),e(p,{value:"medium"},{default:t(()=>[ie]),_:1}),e(p,{value:"large"},{default:t(()=>[ce]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:3}),k("div",_e,[e(P,H(l(z),{stripe:h.value,size:g.value,bordered:{cell:v.value},ref_key:"tableRef",ref:B}),Y({_:2},[q(Object.keys(l(C)),n=>({name:n,fn:t(()=>[j(u.$slots,n,{},void 0,!0)])}))]),1040,["stripe","size","bordered"])])],2)}}});const pe=J(de,[["__scopeId","data-v-725a8a32"]]),U=m=>(oe("data-v-db46f95e"),m=m(),ne(),m),me={class:"table-page"},fe=U(()=>k("span",null,"\u65B0\u589E",-1)),he=U(()=>k("span",null,"\u5220\u9664",-1)),ge=U(()=>k("span",null,"\u5BFC\u5165",-1)),ve=s("\u5F00\u542F"),be=s("\u5173\u95ED"),ye=s("\u4FEE\u6539"),ze=s("\u8BE6\u60C5"),Ce=s("\u5220\u9664"),Be=G({name:"CustomTable"}),we=G({...Be,setup(m){const f=_(!1),y=_([]),{current:z,pageSize:C,total:B,changeCurrent:h,changePageSize:g,setTotal:v}=ae(()=>{r()}),r=async()=>{try{f.value=!0;const u=await se({current:z.value,pageSize:C.value});y.value=u.data.list,v(u.data.total)}catch(u){return u}finally{f.value=!1}};r();const w=()=>{I.info("\u70B9\u51FB\u4E86\u65B0\u589E")},x=()=>{I.info("\u70B9\u51FB\u4E86\u5220\u9664")},E=()=>{I.info("\u70B9\u51FB\u4E86\u5BFC\u5165")};return(u,c)=>{const F=o("icon-plus"),i=o("a-button"),d=o("icon-delete"),S=o("icon-export"),a=o("a-table-column"),V=o("a-avatar"),D=o("a-switch"),A=o("a-popconfirm"),p=o("a-space"),T=pe,$=W,P=Z("loading");return b(),N("div",me,[ee((b(),R(T,{"row-key":"id",data:y.value,scroll:{x:"100%",y:"100%",minWidth:1e3},"row-selection":{type:"checkbox",showCheckedAll:!0},pagination:{showPageSize:!0,total:l(B),current:l(z),pageSize:l(C)},onPageChange:l(h),onPageSizeChange:l(g),onRefresh:r},{left:t(()=>[e(i,{type:"primary",onClick:w},{icon:t(()=>[e(F)]),default:t(()=>[fe]),_:1}),e(i,{type:"primary",status:"danger",onClick:x},{icon:t(()=>[e(d)]),default:t(()=>[he]),_:1}),e(i,{onClick:E},{icon:t(()=>[e(S)]),default:t(()=>[ge]),_:1})]),columns:t(()=>[e(a,{title:"\u5E8F\u53F7",width:68},{cell:t(n=>[s(L(n.rowIndex+1),1)]),_:1}),e(a,{title:"\u59D3\u540D","data-index":"name"}),e(a,{title:"\u5934\u50CF",width:100},{cell:t(({record:n})=>[e(V,{size:30,style:te({backgroundColor:n.color})},{default:t(()=>[s(L(n.name[0]),1)]),_:2},1032,["style"])]),_:1}),e(a,{title:"\u624B\u673A\u53F7","data-index":"phone",width:150}),e(a,{title:"\u521B\u5EFA\u65F6\u95F4","data-index":"startTime"}),e(a,{title:"\u5730\u5740","data-index":"address"}),e(a,{title:"\u72B6\u6001",width:100},{cell:t(({record:n})=>[e(D,{modelValue:n.status,"onUpdate:modelValue":M=>n.status=M,size:"medium"},{checked:t(()=>[ve]),unchecked:t(()=>[be]),_:2},1032,["modelValue","onUpdate:modelValue"])]),_:1}),e(a,{title:"\u64CD\u4F5C",width:200},{cell:t(({record:n})=>[e(p,null,{default:t(()=>[e(i,{type:"primary",size:"mini"},{default:t(()=>[ye]),_:1}),e(i,{size:"mini"},{default:t(()=>[ze]),_:1}),e(A,{type:"warning",content:"\u60A8\u786E\u5B9A\u8981\u5220\u9664\u8BE5\u9879\u5417?"},{default:t(()=>[e(i,{type:"primary",status:"danger",size:"mini"},{default:t(()=>[Ce]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["data","pagination","onPageChange","onPageSizeChange"])),[[P,f.value]]),e($)])}}});const Ae=J(we,[["__scopeId","data-v-db46f95e"]]);export{Ae as default};
