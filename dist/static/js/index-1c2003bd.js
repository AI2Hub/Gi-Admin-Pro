import{d as e,g as a,r as t,o as l,c as n,a as i,w as s,u as d,e as o,f as c,h as r,t as u,eM as p,i as _,p as m,j as y,_ as v}from"./index-b67f5b14.js";import{_ as f}from"./AddMenuModal.vue_vue_type_script_setup_true_lang-acfb2b21.js";import"./index-e80b15a4.js";const h=e=>(m("data-v-7bc482b0"),e=e(),y(),e),k={class:"gi_page_scroll_y menu-manage"},g=h((()=>r("span",null,"新增",-1))),w=h((()=>r("span",null,"搜索",-1))),x=h((()=>r("span",null,"重置",-1))),b={class:"gi_mt"},z={key:0},M={key:1},j=v(e({name:"SystemMenu",__name:"index",setup(e){const m=a(),y=a(!1),v=a([]),h=a(),j=a(!1),A=()=>{var e;j.value=!j.value,null==(e=h.value)||e.expandAll(j.value)};(async()=>{try{const e=await p();v.value=e.data}catch(e){}finally{y.value=!1}})();const C=()=>{var e;null==(e=m.value)||e.add()};return(e,a)=>{const p=t("icon-plus"),I=t("a-button"),R=t("icon-list"),S=t("icon-mind-mapping"),D=t("a-tooltip"),T=t("a-space"),W=t("icon-search"),q=t("a-input"),B=t("a-option"),E=t("a-select"),F=t("icon-refresh"),G=t("a-row"),H=t("IconDown"),J=t("IconRight"),K=t("a-table-column"),L=_,N=t("icon-edit"),O=t("icon-delete"),P=t("a-popconfirm"),Q=t("a-table"),U=t("a-card");return l(),n("div",k,[i(U,{title:"菜单管理"},{default:s((()=>[i(G,{justify:"space-between"},{default:s((()=>[i(T,null,{default:s((()=>[i(I,{type:"primary",onClick:C},{icon:s((()=>[i(p)])),default:s((()=>[g])),_:1}),i(D,{content:"展开/折叠"},{default:s((()=>[i(I,{type:"primary",status:"success",onClick:A},{icon:s((()=>[d(j)?(l(),o(S,{key:1})):(l(),o(R,{key:0}))])),_:1})])),_:1})])),_:1}),i(T,null,{default:s((()=>[i(q,{placeholder:"输入菜单名称搜索","allow-clear":"",style:{width:"250px"}},{prefix:s((()=>[i(W)])),_:1}),i(E,{placeholder:"菜单状态",style:{width:"120px"}},{default:s((()=>[i(B,{value:1},{default:s((()=>[c("正常")])),_:1}),i(B,{value:0},{default:s((()=>[c("禁用")])),_:1})])),_:1}),i(I,{type:"primary"},{icon:s((()=>[i(W)])),default:s((()=>[w])),_:1}),i(I,null,{icon:s((()=>[i(F)])),default:s((()=>[x])),_:1})])),_:1})])),_:1}),r("section",b,[i(Q,{ref_key:"TableRef",ref:h,data:d(v),"row-key":"path",loading:d(y),scroll:{x:"100%",y:"100%",minWidth:900},pagination:!1,expandable:{width:80}},{"expand-icon":s((({expanded:e})=>[e?(l(),o(H,{key:0})):(l(),o(J,{key:1}))])),columns:s((()=>[i(K,{title:"菜单名称"},{cell:s((({record:e})=>{var a;return[c(u((null==(a=e.meta)?void 0:a.title)||""),1)]})),_:1}),i(K,{title:"菜单地址","data-index":"path"},{cell:s((({record:e})=>[e.path?(l(),n("span",z,u(e.path),1)):(l(),n("span",M,"无"))])),_:1}),i(K,{title:"菜单图标","data-index":"icon",width:200},{cell:s((({record:e})=>{var a,t;return[i(L,{size:24,name:(null==(a=e.meta)?void 0:a.svgIcon)||(null==(t=e.meta)?void 0:t.icon)},null,8,["name"])]})),_:1}),i(K,{title:"是否缓存",width:200},{cell:s((({record:e})=>{var a;return[(null==(a=e.meta)?void 0:a.keepAlive)?(l(),o(I,{key:0,status:"success",size:"mini"},{icon:s((()=>[c("是")])),_:1})):(l(),o(I,{key:1,status:"danger",size:"mini"},{icon:s((()=>[c("否")])),_:1}))]})),_:1}),i(K,{title:"是否隐藏","data-index":"hidden",width:200},{cell:s((({record:e})=>{var a;return[(null==(a=e.meta)?void 0:a.hidden)?(l(),o(I,{key:0,status:"success",size:"mini"},{icon:s((()=>[c("是")])),_:1})):(l(),o(I,{key:1,status:"danger",size:"mini"},{icon:s((()=>[c("否")])),_:1}))]})),_:1}),i(K,{title:"操作",width:100},{cell:s((({record:e})=>[i(T,null,{default:s((()=>[i(I,{type:"primary",size:"mini",onClick:a=>{return t=e,void(null==(l=m.value)||l.edit(t.path));var t,l}},{icon:s((()=>[i(N)])),_:2},1032,["onClick"]),i(P,{type:"warning",content:"您确定要删除该项吗?"},{default:s((()=>[i(I,{type:"primary",status:"danger",size:"mini"},{icon:s((()=>[i(O)])),_:1})])),_:1})])),_:2},1024)])),_:1})])),_:1},8,["data","loading"])])])),_:1}),i(f,{ref_key:"AddMenuModalRef",ref:m},null,512)])}}}),[["__scopeId","data-v-7bc482b0"]]);export{j as default};
