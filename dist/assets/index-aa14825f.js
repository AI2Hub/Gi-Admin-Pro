import{d as e,g as l,ew as a,l as t,O as s,r as i,o,c,h as p,u as n,W as r,X as g,D as u,a as m,n as _,F as v,b as d,_ as f}from"./index-7dfeed55.js";import{a as w}from"./index.es-6a170aad.js";const h={class:"images-view"},x=["src"],j={class:"foot"},b=["onClick"],C=["src"],y=["src"],Y=f(e({__name:"index",props:{list:{default:()=>[{src:"https://gw.alicdn.com/imgextra/i4/2679012998/O1CN01HRyHt31Y18AGcTbKj_!!2679012998.jpg_Q75.jpg_.webp"},{src:"https://gw.alicdn.com/imgextra/i1/2679012998/O1CN017617nr1Y189xDIqY1_!!2679012998.jpg_Q75.jpg_.webp"},{src:"https://gw.alicdn.com/imgextra/i3/2679012998/O1CN01EdWirH1Y18D5EEr8x_!!2679012998.jpg_Q75.jpg_.webp"},{src:"https://gw.alicdn.com/imgextra/i1/2679012998/O1CN01vEwGAd1Y18APGtwTH_!!2679012998.jpg_Q75.jpg_.webp"},{src:"https://gw.alicdn.com/imgextra/i4/2679012998/O1CN01HRyHt31Y18AGcTbKj_!!2679012998.jpg_Q75.jpg_.webp"},{src:"https://gw.alicdn.com/imgextra/i1/2679012998/O1CN017617nr1Y189xDIqY1_!!2679012998.jpg_Q75.jpg_.webp"},{src:"https://gw.alicdn.com/imgextra/i4/2679012998/O1CN01HRyHt31Y18AGcTbKj_!!2679012998.jpg_Q75.jpg_.webp"},{src:"https://gw.alicdn.com/imgextra/i1/2679012998/O1CN017617nr1Y189xDIqY1_!!2679012998.jpg_Q75.jpg_.webp"},{src:"https://gw.alicdn.com/imgextra/i3/2679012998/O1CN01EdWirH1Y18D5EEr8x_!!2679012998.jpg_Q75.jpg_.webp"},{src:"https://gw.alicdn.com/imgextra/i1/2679012998/O1CN01vEwGAd1Y18APGtwTH_!!2679012998.jpg_Q75.jpg_.webp"},{src:"https://gw.alicdn.com/imgextra/i4/2679012998/O1CN01HRyHt31Y18AGcTbKj_!!2679012998.jpg_Q75.jpg_.webp"},{src:"https://gw.alicdn.com/imgextra/i1/2679012998/O1CN017617nr1Y189xDIqY1_!!2679012998.jpg_Q75.jpg_.webp"}]},zoom:{type:Boolean,default:!1},autoplay:{type:Boolean,default:!1}},setup(e){const f=e,Y=l(null),{width:k}=a(Y),O=t((()=>Math.floor(k.value/110))),H=l(0),N=l(0),Q=t((()=>Math.floor((f.list.length-1)/O.value))),z=l(!1),I=()=>{N.value!==Math.floor(H.value/O.value)&&(N.value=Math.floor(H.value/O.value))};f.autoplay&&!f.zoom&&setInterval((()=>{H.value<f.list.length-1?H.value++:H.value==f.list.length-1&&(H.value=0),I()}),2e3);const A=e=>{e.stopPropagation(),H.value>0&&H.value--,I()},E=e=>{e.stopPropagation(),H.value<f.list.length-1&&H.value++,I()},G=()=>{N.value>0&&N.value--},R=()=>{N.value<Q.value&&N.value++},D=()=>{f.list.length&&!f.zoom&&w({options:{initialViewIndex:H.value},images:f.list.map((e=>e.src))})},M=s({left:"0",top:"0"}),T=s({left:"0",top:"0"}),B=l(null),{top:q,left:K,width:P,height:W}=a(B),V=l(null),{width:X,height:Z}=a(V),F=l(null),{width:S,height:J}=a(F),L=t((()=>S.value/X.value)),U=e=>{const l=X.value/2,a=Z.value/2,t=P.value-l,s=W.value-a;let i=e.pageX-K.value,o=e.pageY-q.value;i<l&&(i=l),i>t&&(i=t),o<a&&(o=a),o>s&&(o=s),M.left=i-l+"px",M.top=o-a+"px",T.left=-(i-l)*L.value+"px",T.top=-(o-a)*L.value+"px"};return(e,l)=>{const a=i("icon-left"),t=i("icon-right");return o(),c("div",h,[p("section",{class:"image",ref_key:"ImageViewRef",ref:B,onMouseenter:l[0]||(l[0]=e=>z.value=!0),onMouseleave:l[1]||(l[1]=e=>z.value=!1),onMousemove:U,onClick:D},[(o(),c("img",{class:"animate__animated animate__fadeIn",src:e.list[n(H)].src,key:n(H)},null,8,x)),r(p("div",{ref_key:"ZoomARef",ref:V,class:"zoom-a",style:u({left:n(M).left,top:n(M).top})},null,4),[[g,f.zoom&&n(z)]]),r(p("div",{class:"prev",onClick:A},[m(a,{size:20})],512),[[g,!f.zoom]]),r(p("div",{class:"next",onClick:E},[m(t,{size:20})],512),[[g,!f.zoom]])],544),p("section",j,[p("div",{class:_(["left",{disabled:0===n(N)}]),onClick:G},[m(a)],2),p("div",{class:"scroll-box",ref_key:"ScrollBoxRef",ref:Y},[p("ul",{class:"list",style:u({left:-440*n(N)+"px"})},[(o(!0),c(v,null,d(e.list,((e,l)=>(o(),c("li",{class:_(["list-item",{active:n(H)===l}]),key:l,onClick:e=>(e=>{H.value=e,I()})(l)},[p("img",{src:e.src,alt:""},null,8,C)],10,b)))),128))],4)],512),p("div",{class:_(["right",{disabled:n(N)===n(Q)}]),onClick:R},[m(t)],2)]),r(p("div",{ref_key:"ZoomBRef",ref:F,class:"zoom-b animate__animated animate__fadeIn",style:u({left:n(P)+10+"px"})},[p("img",{src:e.list[n(H)].src,style:u({left:n(T).left,top:n(T).top,width:n(P)*n(L)+"px"})},null,12,y)],4),[[g,f.zoom&&n(z)]])])}}}),[["__scopeId","data-v-5c12c2fd"]]);export{Y as default};
